{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/commit.ts"],"sourcesContent":["import { ResourceFiber, RenderResult } from \"./types\";\n\nexport function commitRender(renderResult: RenderResult): void {\n  const errors: unknown[] = [];\n\n  for (const task of renderResult.commitTasks) {\n    try {\n      task();\n    } catch (error) {\n      errors.push(error);\n    }\n  }\n\n  if (errors.length > 0) {\n    if (errors.length === 1) {\n      throw errors[0];\n    } else {\n      for (const error of errors) {\n        console.error(error);\n      }\n      throw new AggregateError(errors, \"Errors during commit\");\n    }\n  }\n}\n\nexport function cleanupAllEffects<R, P>(executionContext: ResourceFiber<R, P>) {\n  const errors: unknown[] = [];\n  for (const cell of executionContext.cells) {\n    if (cell?.type === \"effect\") {\n      cell.deps = null; // Reset deps so effect runs again on next mount\n\n      if (cell.cleanup) {\n        try {\n          cell.cleanup?.();\n        } catch (e) {\n          errors.push(e);\n        } finally {\n          cell.cleanup = undefined;\n        }\n      }\n    }\n  }\n  if (errors.length > 0) {\n    if (errors.length === 1) {\n      throw errors[0];\n    } else {\n      for (const error of errors) {\n        console.error(error);\n      }\n      throw new AggregateError(errors, \"Errors during cleanup\");\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;AAEO,SAAS,aAAa,YAA0B;IACrD,MAAM,SAAoB,EAAE;IAE5B,KAAK,MAAM,QAAQ,aAAa,WAAW,CAAE;QAC3C,IAAI;YACF;QACF,EAAE,OAAO,OAAO;YACd,OAAO,IAAI,CAAC;QACd;IACF;IAEA,IAAI,OAAO,MAAM,GAAG,GAAG;QACrB,IAAI,OAAO,MAAM,KAAK,GAAG;YACvB,MAAM,MAAM,CAAC,EAAE;QACjB,OAAO;YACL,KAAK,MAAM,SAAS,OAAQ;gBAC1B,QAAQ,KAAK,CAAC;YAChB;YACA,MAAM,IAAI,eAAe,QAAQ;QACnC;IACF;AACF;AAEO,SAAS,kBAAwB,gBAAqC;IAC3E,MAAM,SAAoB,EAAE;IAC5B,KAAK,MAAM,QAAQ,iBAAiB,KAAK,CAAE;QACzC,IAAI,MAAM,SAAS,UAAU;YAC3B,KAAK,IAAI,GAAG,MAAM,gDAAgD;YAElE,IAAI,KAAK,OAAO,EAAE;gBAChB,IAAI;oBACF,KAAK,OAAO;gBACd,EAAE,OAAO,GAAG;oBACV,OAAO,IAAI,CAAC;gBACd,SAAU;oBACR,KAAK,OAAO,GAAG;gBACjB;YACF;QACF;IACF;IACA,IAAI,OAAO,MAAM,GAAG,GAAG;QACrB,IAAI,OAAO,MAAM,KAAK,GAAG;YACvB,MAAM,MAAM,CAAC,EAAE;QACjB,OAAO;YACL,KAAK,MAAM,SAAS,OAAQ;gBAC1B,QAAQ,KAAK,CAAC;YAChB;YACA,MAAM,IAAI,eAAe,QAAQ;QACnC;IACF;AACF"}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/env.ts"],"sourcesContent":["export const isDevelopment =\n  process.env[\"NODE_ENV\"] === \"development\" ||\n  process.env[\"NODE_ENV\"] === \"test\";\n"],"names":[],"mappings":";;;;AAAO,MAAM,gBACX,oDAA4B,iBAC5B,oDAA4B"}},
    {"offset": {"line": 76, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/execution-context.ts"],"sourcesContent":["import { isDevelopment } from \"./env\";\nimport { ResourceFiber } from \"./types\";\n\nlet currentResourceFiber: ResourceFiber<any, any> | null = null;\n\nexport function withResourceFiber<R, P>(\n  fiber: ResourceFiber<R, P>,\n  fn: () => void,\n): void {\n  fiber.currentIndex = 0;\n\n  const previousContext = currentResourceFiber;\n  currentResourceFiber = fiber;\n  try {\n    fn();\n\n    fiber.isFirstRender = false;\n\n    // ensure hook count matches\n    if (fiber.cells.length !== fiber.currentIndex) {\n      throw new Error(\n        `Rendered ${fiber.currentIndex} hooks but expected ${fiber.cells.length}. ` +\n          \"Hooks must be called in the exact same order in every render.\",\n      );\n    }\n  } finally {\n    currentResourceFiber = previousContext;\n  }\n}\nexport function getCurrentResourceFiber(): ResourceFiber<unknown, unknown> {\n  if (!currentResourceFiber) {\n    throw new Error(\"No resource fiber available\");\n  }\n  return currentResourceFiber;\n}\n\nexport function getDevStrictMode(enable: boolean) {\n  if (!isDevelopment) return null;\n  if (currentResourceFiber?.devStrictMode)\n    return currentResourceFiber.isFirstRender ? \"child\" : \"root\";\n\n  return enable ? \"root\" : null;\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAGA,IAAI,uBAAuD;AAEpD,SAAS,kBACd,KAA0B,EAC1B,EAAc;IAEd,MAAM,YAAY,GAAG;IAErB,MAAM,kBAAkB;IACxB,uBAAuB;IACvB,IAAI;QACF;QAEA,MAAM,aAAa,GAAG;QAEtB,4BAA4B;QAC5B,IAAI,MAAM,KAAK,CAAC,MAAM,KAAK,MAAM,YAAY,EAAE;YAC7C,MAAM,IAAI,MACR,CAAC,SAAS,EAAE,MAAM,YAAY,CAAC,oBAAoB,EAAE,MAAM,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,GACzE;QAEN;IACF,SAAU;QACR,uBAAuB;IACzB;AACF;AACO,SAAS;IACd,IAAI,CAAC,sBAAsB;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;AAEO,SAAS,iBAAiB,MAAe;IAC9C,IAAI,CAAC,sJAAa,EAAE,OAAO;IAC3B,IAAI,sBAAsB,eACxB,OAAO,qBAAqB,aAAa,GAAG,UAAU;IAExD,OAAO,SAAS,SAAS;AAC3B"}},
    {"offset": {"line": 117, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/call-resource-fn.ts"],"sourcesContent":["import { Resource } from \"./types\";\n\n/**\n * Renders a resource with the given props.\n * @internal This is for internal use only.\n */\nexport function callResourceFn<R, P>(resource: Resource<R, P>, props: P): R {\n  const fn = (resource as unknown as { [fnSymbol]?: (props: P) => R })[\n    fnSymbol\n  ];\n  if (!fn) {\n    throw new Error(\"ResourceElement.type is not a valid Resource\");\n  }\n  return fn(props);\n}\n\n/**\n * Symbol used to store the ResourceFn in the Resource constructor.\n * @internal This is for internal use only.\n */\nexport const fnSymbol = Symbol(\"fnSymbol\");\n"],"names":[],"mappings":";;;;;;AAMO,SAAS,eAAqB,QAAwB,EAAE,KAAQ;IACrE,MAAM,KAAK,AAAC,QAAwD,CAClE,SACD;IACD,IAAI,CAAC,IAAI;QACP,MAAM,IAAI,MAAM;IAClB;IACA,OAAO,GAAG;AACZ;AAMO,MAAM,WAAW,OAAO"}},
    {"offset": {"line": 135, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/resource-fiber.ts"],"sourcesContent":["import { ResourceFiber, RenderResult, Resource } from \"./types\";\nimport { commitRender, cleanupAllEffects } from \"./commit\";\nimport { getDevStrictMode, withResourceFiber } from \"./execution-context\";\nimport { callResourceFn } from \"./call-resource-fn\";\nimport { isDevelopment } from \"./env\";\n\nexport function createResourceFiber<R, P>(\n  type: Resource<R, P>,\n  dispatchUpdate: (callback: () => boolean) => void,\n  strictMode: \"root\" | \"child\" | null = getDevStrictMode(false),\n): ResourceFiber<R, P> {\n  return {\n    type,\n    dispatchUpdate,\n    devStrictMode: strictMode,\n    cells: [],\n    currentIndex: 0,\n    renderContext: undefined,\n    isFirstRender: true,\n    isMounted: false,\n    isNeverMounted: true,\n  };\n}\n\nexport function unmountResourceFiber<R, P>(fiber: ResourceFiber<R, P>): void {\n  if (!fiber.isMounted)\n    throw new Error(\"Tried to unmount a fiber that is already unmounted\");\n\n  fiber.isMounted = false;\n  cleanupAllEffects(fiber);\n}\n\nexport function renderResourceFiber<R, P>(\n  fiber: ResourceFiber<R, P>,\n  props: P,\n): RenderResult {\n  const result = {\n    commitTasks: [],\n    props,\n    output: undefined as R | undefined,\n  };\n\n  withResourceFiber(fiber, () => {\n    fiber.renderContext = result;\n    try {\n      result.output = callResourceFn(fiber.type, props);\n    } finally {\n      fiber.renderContext = undefined;\n    }\n  });\n\n  return result;\n}\n\nexport function commitResourceFiber<R, P>(\n  fiber: ResourceFiber<R, P>,\n  result: RenderResult,\n): void {\n  fiber.isMounted = true;\n\n  if (isDevelopment && fiber.isNeverMounted && fiber.devStrictMode === \"root\") {\n    commitRender(result);\n    cleanupAllEffects(fiber);\n  }\n\n  fiber.isNeverMounted = false;\n  commitRender(result);\n}\n"],"names":[],"mappings":";;;;;;;;;;AACA;AACA;AACA;AACA;;;;;AAEO,SAAS,oBACd,IAAoB,EACpB,cAAiD,EACjD,aAAsC,IAAA,0KAAgB,EAAC,MAAM;IAE7D,OAAO;QACL;QACA;QACA,eAAe;QACf,OAAO,EAAE;QACT,cAAc;QACd,eAAe;QACf,eAAe;QACf,WAAW;QACX,gBAAgB;IAClB;AACF;AAEO,SAAS,qBAA2B,KAA0B;IACnE,IAAI,CAAC,MAAM,SAAS,EAClB,MAAM,IAAI,MAAM;IAElB,MAAM,SAAS,GAAG;IAClB,IAAA,6JAAiB,EAAC;AACpB;AAEO,SAAS,oBACd,KAA0B,EAC1B,KAAQ;IAER,MAAM,SAAS;QACb,aAAa,EAAE;QACf;QACA,QAAQ;IACV;IAEA,IAAA,2KAAiB,EAAC,OAAO;QACvB,MAAM,aAAa,GAAG;QACtB,IAAI;YACF,OAAO,MAAM,GAAG,IAAA,0KAAc,EAAC,MAAM,IAAI,EAAE;QAC7C,SAAU;YACR,MAAM,aAAa,GAAG;QACxB;IACF;IAEA,OAAO;AACT;AAEO,SAAS,oBACd,KAA0B,EAC1B,MAAoB;IAEpB,MAAM,SAAS,GAAG;IAElB,IAAI,sJAAa,IAAI,MAAM,cAAc,IAAI,MAAM,aAAa,KAAK,QAAQ;QAC3E,IAAA,wJAAY,EAAC;QACb,IAAA,6JAAiB,EAAC;IACpB;IAEA,MAAM,cAAc,GAAG;IACvB,IAAA,wJAAY,EAAC;AACf"}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/react/use-resource.ts"],"sourcesContent":["import { useLayoutEffect, useMemo, useReducer, useRef, useState } from \"react\";\nimport type { ExtractResourceReturnType, ResourceElement } from \"../core/types\";\nimport {\n  createResourceFiber,\n  unmountResourceFiber,\n  renderResourceFiber,\n  commitResourceFiber,\n} from \"../core/resource-fiber\";\nimport { isDevelopment } from \"../core/env\";\n\nconst useDevStrictMode = () => {\n  if (!isDevelopment) return null;\n\n  const count = useRef(0);\n  const isFirstRender = count.current === 0;\n  useState(() => count.current++);\n  if (count.current !== 2) return null;\n  return isFirstRender ? (\"child\" as const) : (\"root\" as const);\n};\n\nconst resourceReducer = (version: number, callback: () => boolean) => {\n  return version + (callback() ? 1 : 0);\n};\n\nexport function useResource<E extends ResourceElement<any, any>>(\n  element: E,\n): ExtractResourceReturnType<E> {\n  const [, dispatch] = useReducer(resourceReducer, 0);\n\n  const devStrictMode = useDevStrictMode();\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: user provided deps instead of prop identity\n  const fiber = useMemo(() => {\n    return createResourceFiber(element.type, dispatch, devStrictMode);\n  }, [element.type, element.key]);\n\n  const result = renderResourceFiber(fiber, element.props);\n  useLayoutEffect(() => {\n    return () => unmountResourceFiber(fiber);\n  }, [fiber]);\n  useLayoutEffect(() => {\n    commitResourceFiber(fiber, result);\n  });\n\n  return result.output;\n}\n"],"names":[],"mappings":";;;;AAAA;AAEA;AAMA;;;;AAEA,MAAM,mBAAmB;IACvB,IAAI,CAAC,sJAAa,EAAE,OAAO;IAE3B,MAAM,QAAQ,IAAA,wZAAM,EAAC;IACrB,MAAM,gBAAgB,MAAM,OAAO,KAAK;IACxC,IAAA,0ZAAQ,EAAC,IAAM,MAAM,OAAO;IAC5B,IAAI,MAAM,OAAO,KAAK,GAAG,OAAO;IAChC,OAAO,gBAAiB,UAAqB;AAC/C;AAEA,MAAM,kBAAkB,CAAC,SAAiB;IACxC,OAAO,UAAU,CAAC,aAAa,IAAI,CAAC;AACtC;AAEO,SAAS,YACd,OAAU;IAEV,MAAM,GAAG,SAAS,GAAG,IAAA,4ZAAU,EAAC,iBAAiB;IAEjD,MAAM,gBAAgB;IAEtB,uGAAuG;IACvG,MAAM,QAAQ,IAAA,yZAAO,EAAC;QACpB,OAAO,IAAA,0KAAmB,EAAC,QAAQ,IAAI,EAAE,UAAU;IACrD,GAAG;QAAC,QAAQ,IAAI;QAAE,QAAQ,GAAG;KAAC;IAE9B,MAAM,SAAS,IAAA,0KAAmB,EAAC,OAAO,QAAQ,KAAK;IACvD,IAAA,iaAAe,EAAC;QACd,OAAO,IAAM,IAAA,2KAAoB,EAAC;IACpC,GAAG;QAAC;KAAM;IACV,IAAA,iaAAe,EAAC;QACd,IAAA,0KAAmB,EAAC,OAAO;IAC7B;IAEA,OAAO,OAAO,MAAM;AACtB"}},
    {"offset": {"line": 246, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/resource.ts"],"sourcesContent":["import { ResourceElement } from \"./types\";\nimport { fnSymbol } from \"./call-resource-fn\";\n\nexport function resource<R>(fn: () => R): () => ResourceElement<R, undefined>;\nexport function resource<R, P>(\n  fn: (props: P) => R,\n): (props: P) => ResourceElement<R, P>;\nexport function resource<R, P>(\n  fn: (props?: P) => R,\n): (props?: P) => ResourceElement<R, P | undefined>;\nexport function resource<R, P = undefined>(fn: (props: P) => R) {\n  const type = (props?: P) => {\n    return {\n      type,\n      props: props!,\n    } satisfies ResourceElement<R, P>;\n  };\n\n  type[fnSymbol] = fn;\n\n  return type;\n}\n"],"names":[],"mappings":";;;;AACA;;AASO,SAAS,SAA2B,EAAmB;IAC5D,MAAM,OAAO,CAAC;QACZ,OAAO;YACL;YACA,OAAO;QACT;IACF;IAEA,IAAI,CAAC,oKAAQ,CAAC,GAAG;IAEjB,OAAO;AACT"}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-state.ts"],"sourcesContent":["import { isDevelopment } from \"../core/env\";\nimport { getCurrentResourceFiber } from \"../core/execution-context\";\nimport { Cell, ResourceFiber } from \"../core/types\";\n\nexport namespace tapState {\n  export type StateUpdater<S> = S | ((prev: S) => S);\n}\n\nconst dispatchOnFiber = (\n  fiber: ResourceFiber<any, any>,\n  callback: () => boolean,\n) => {\n  if (fiber.renderContext) {\n    throw new Error(\"Resource updated during render\");\n  }\n\n  if (fiber.isMounted) {\n    // Only schedule rerender if currently mounted\n    fiber.dispatchUpdate(callback);\n  } else if (fiber.isNeverMounted) {\n    throw new Error(\"Resource updated before mount\");\n  }\n\n  // TODO mark dirty\n};\n\nfunction getStateCell<T>(\n  initialValue: T | (() => T),\n): Cell & { type: \"state\" } {\n  const fiber = getCurrentResourceFiber();\n  const index = fiber.currentIndex++;\n\n  // Check if we're trying to use more hooks than in previous renders\n  if (!fiber.isFirstRender && index >= fiber.cells.length) {\n    throw new Error(\n      \"Rendered more hooks than during the previous render. \" +\n        \"Hooks must be called in the exact same order in every render.\",\n    );\n  }\n\n  const cell = fiber.cells[index];\n  if (cell) {\n    if (cell.type !== \"state\")\n      throw new Error(\"Hook order changed between renders\");\n\n    return cell as Cell & { type: \"state\" };\n  }\n\n  const value =\n    typeof initialValue === \"function\"\n      ? (initialValue as () => T)()\n      : initialValue;\n\n  if (\n    isDevelopment &&\n    fiber.devStrictMode &&\n    typeof initialValue === \"function\"\n  ) {\n    void (initialValue as () => T)();\n  }\n\n  const newCell: Cell & { type: \"state\" } = {\n    type: \"state\",\n    value,\n    set: (updater: tapState.StateUpdater<T>) => {\n      dispatchOnFiber(fiber, () => {\n        const currentValue = newCell.value;\n        const nextValue =\n          typeof updater === \"function\"\n            ? (updater as (prev: T) => T)(currentValue)\n            : updater;\n\n        if (\n          isDevelopment &&\n          fiber.devStrictMode &&\n          typeof updater === \"function\"\n        ) {\n          void (updater as (prev: T) => T)(currentValue);\n        }\n\n        if (Object.is(currentValue, nextValue)) return false;\n\n        newCell.value = nextValue;\n        return true;\n      });\n    },\n  };\n\n  fiber.cells[index] = newCell;\n  return newCell;\n}\n\nexport function tapState<S = undefined>(): [\n  S | undefined,\n  (updater: tapState.StateUpdater<S>) => void,\n];\nexport function tapState<S>(\n  initial: S | (() => S),\n): [S, (updater: tapState.StateUpdater<S>) => void];\nexport function tapState<S>(\n  initial?: S | (() => S),\n): [S | undefined, (updater: tapState.StateUpdater<S>) => void] {\n  const cell = getStateCell(initial as S | (() => S));\n\n  return [cell.value, cell.set];\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAOA,MAAM,kBAAkB,CACtB,OACA;IAEA,IAAI,MAAM,aAAa,EAAE;QACvB,MAAM,IAAI,MAAM;IAClB;IAEA,IAAI,MAAM,SAAS,EAAE;QACnB,8CAA8C;QAC9C,MAAM,cAAc,CAAC;IACvB,OAAO,IAAI,MAAM,cAAc,EAAE;QAC/B,MAAM,IAAI,MAAM;IAClB;AAEA,kBAAkB;AACpB;AAEA,SAAS,aACP,YAA2B;IAE3B,MAAM,QAAQ,IAAA,iLAAuB;IACrC,MAAM,QAAQ,MAAM,YAAY;IAEhC,mEAAmE;IACnE,IAAI,CAAC,MAAM,aAAa,IAAI,SAAS,MAAM,KAAK,CAAC,MAAM,EAAE;QACvD,MAAM,IAAI,MACR,0DACE;IAEN;IAEA,MAAM,OAAO,MAAM,KAAK,CAAC,MAAM;IAC/B,IAAI,MAAM;QACR,IAAI,KAAK,IAAI,KAAK,SAChB,MAAM,IAAI,MAAM;QAElB,OAAO;IACT;IAEA,MAAM,QACJ,OAAO,iBAAiB,aACpB,AAAC,iBACD;IAEN,IACE,sJAAa,IACb,MAAM,aAAa,IACnB,OAAO,iBAAiB,YACxB;QACA,KAAK,AAAC;IACR;IAEA,MAAM,UAAoC;QACxC,MAAM;QACN;QACA,KAAK,CAAC;YACJ,gBAAgB,OAAO;gBACrB,MAAM,eAAe,QAAQ,KAAK;gBAClC,MAAM,YACJ,OAAO,YAAY,aACf,AAAC,QAA2B,gBAC5B;gBAEN,IACE,sJAAa,IACb,MAAM,aAAa,IACnB,OAAO,YAAY,YACnB;oBACA,KAAK,AAAC,QAA2B;gBACnC;gBAEA,IAAI,OAAO,EAAE,CAAC,cAAc,YAAY,OAAO;gBAE/C,QAAQ,KAAK,GAAG;gBAChB,OAAO;YACT;QACF;IACF;IAEA,MAAM,KAAK,CAAC,MAAM,GAAG;IACrB,OAAO;AACT;AASO,SAAS,SACd,OAAuB;IAEvB,MAAM,OAAO,aAAa;IAE1B,OAAO;QAAC,KAAK,KAAK;QAAE,KAAK,GAAG;KAAC;AAC/B"}},
    {"offset": {"line": 332, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-ref.ts"],"sourcesContent":["import { tapState } from \"./tap-state\";\n\nexport namespace tapRef {\n  export interface RefObject<T> {\n    current: T;\n  }\n}\n\nexport function tapRef<T>(initialValue: T): tapRef.RefObject<T>;\nexport function tapRef<T = undefined>(): tapRef.RefObject<T | undefined>;\nexport function tapRef<T>(initialValue?: T): tapRef.RefObject<T | undefined> {\n  const [state] = tapState(() => ({\n    current: initialValue,\n  }));\n  return state;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAUO,SAAS,OAAU,YAAgB;IACxC,MAAM,CAAC,MAAM,GAAG,IAAA,2JAAQ,EAAC,IAAM,CAAC;YAC9B,SAAS;QACX,CAAC;IACD,OAAO;AACT"}},
    {"offset": {"line": 348, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/utils/deps-shallow-equal.ts"],"sourcesContent":["export const depsShallowEqual = (\n  a: readonly unknown[],\n  b: readonly unknown[],\n) => {\n  if (a.length !== b.length) return false;\n  for (let i = 0; i < a.length; i++) {\n    if (!Object.is(a[i], b[i])) return false;\n  }\n  return true;\n};\n"],"names":[],"mappings":";;;;AAAO,MAAM,mBAAmB,CAC9B,GACA;IAEA,IAAI,EAAE,MAAM,KAAK,EAAE,MAAM,EAAE,OAAO;IAClC,IAAK,IAAI,IAAI,GAAG,IAAI,EAAE,MAAM,EAAE,IAAK;QACjC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,EAAE,GAAG,OAAO;IACrC;IACA,OAAO;AACT"}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-memo.ts"],"sourcesContent":["import { isDevelopment } from \"../core/env\";\nimport { getCurrentResourceFiber } from \"../core/execution-context\";\nimport { tapRef } from \"./tap-ref\";\nimport { depsShallowEqual } from \"./utils/deps-shallow-equal\";\n\nexport const tapMemo = <T>(fn: () => T, deps: readonly unknown[]) => {\n  const dataRef = tapRef<{ value: T; deps: readonly unknown[] }>();\n  if (!dataRef.current) {\n    if (isDevelopment) {\n      const fiber = getCurrentResourceFiber();\n      if (fiber.devStrictMode) {\n        void fn();\n      }\n    }\n\n    dataRef.current = { value: fn(), deps };\n  }\n\n  if (!depsShallowEqual(dataRef.current.deps, deps)) {\n    dataRef.current.value = fn();\n    dataRef.current.deps = deps;\n  }\n\n  return dataRef.current.value;\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEO,MAAM,UAAU,CAAI,IAAa;IACtC,MAAM,UAAU,IAAA,uJAAM;IACtB,IAAI,CAAC,QAAQ,OAAO,EAAE;QACpB,IAAI,sJAAa,EAAE;YACjB,MAAM,QAAQ,IAAA,iLAAuB;YACrC,IAAI,MAAM,aAAa,EAAE;gBACvB,KAAK;YACP;QACF;QAEA,QAAQ,OAAO,GAAG;YAAE,OAAO;YAAM;QAAK;IACxC;IAEA,IAAI,CAAC,IAAA,wLAAgB,EAAC,QAAQ,OAAO,CAAC,IAAI,EAAE,OAAO;QACjD,QAAQ,OAAO,CAAC,KAAK,GAAG;QACxB,QAAQ,OAAO,CAAC,IAAI,GAAG;IACzB;IAEA,OAAO,QAAQ,OAAO,CAAC,KAAK;AAC9B"}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/utils/tap-hook.ts"],"sourcesContent":["import { getCurrentResourceFiber } from \"../../core/execution-context\";\nimport { Cell } from \"../../core/types\";\n\nexport const tapHook = <T extends \"effect\" | \"memo\">(\n  type: T,\n  init: () => Cell,\n): Cell & { type: T } => {\n  const fiber = getCurrentResourceFiber();\n  const index = fiber.currentIndex++;\n\n  if (!fiber.isFirstRender && index >= fiber.cells.length) {\n    // Check if we're trying to use more hooks than in previous renders\n    throw new Error(\n      \"Rendered more hooks than during the previous render. \" +\n        \"Hooks must be called in the exact same order in every render.\",\n    );\n  }\n\n  let cell = fiber.cells[index];\n  if (!cell) {\n    cell = init();\n    fiber.cells[index] = cell;\n  }\n\n  if (cell.type !== type) {\n    throw new Error(\"Hook order changed between renders\");\n  }\n\n  return cell as Cell & { type: T };\n};\n\nexport const registerRenderMountTask = (task: () => void) => {\n  const fiber = getCurrentResourceFiber();\n  fiber.renderContext!.commitTasks.push(task);\n};\n"],"names":[],"mappings":";;;;;;AAAA;;AAGO,MAAM,UAAU,CACrB,MACA;IAEA,MAAM,QAAQ,IAAA,iLAAuB;IACrC,MAAM,QAAQ,MAAM,YAAY;IAEhC,IAAI,CAAC,MAAM,aAAa,IAAI,SAAS,MAAM,KAAK,CAAC,MAAM,EAAE;QACvD,mEAAmE;QACnE,MAAM,IAAI,MACR,0DACE;IAEN;IAEA,IAAI,OAAO,MAAM,KAAK,CAAC,MAAM;IAC7B,IAAI,CAAC,MAAM;QACT,OAAO;QACP,MAAM,KAAK,CAAC,MAAM,GAAG;IACvB;IAEA,IAAI,KAAK,IAAI,KAAK,MAAM;QACtB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT;AAEO,MAAM,0BAA0B,CAAC;IACtC,MAAM,QAAQ,IAAA,iLAAuB;IACrC,MAAM,aAAa,CAAE,WAAW,CAAC,IAAI,CAAC;AACxC"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-effect.ts"],"sourcesContent":["import { Cell } from \"../core/types\";\nimport { depsShallowEqual } from \"./utils/deps-shallow-equal\";\nimport { tapHook, registerRenderMountTask } from \"./utils/tap-hook\";\n\nconst newEffect = (): Cell & { type: \"effect\" } => ({\n  type: \"effect\",\n  cleanup: undefined,\n  deps: null, // null means the effect has never been run\n});\n\nexport namespace tapEffect {\n  export type Destructor = () => void;\n  export type EffectCallback = () => void | Destructor;\n}\n\nexport function tapEffect(effect: tapEffect.EffectCallback): void;\nexport function tapEffect(\n  effect: tapEffect.EffectCallback,\n  deps: readonly unknown[],\n): void;\nexport function tapEffect(\n  effect: tapEffect.EffectCallback,\n  deps?: readonly unknown[],\n): void {\n  const cell = tapHook(\"effect\", newEffect);\n\n  if (deps && cell.deps && depsShallowEqual(cell.deps, deps)) return;\n  if (cell.deps !== null && !!deps !== !!cell.deps)\n    throw new Error(\n      \"tapEffect called with and without dependencies across re-renders\",\n    );\n\n  registerRenderMountTask(() => {\n    const errors: unknown[] = [];\n\n    try {\n      cell.cleanup?.();\n    } catch (error) {\n      errors.push(error);\n    } finally {\n      cell.cleanup = undefined;\n    }\n\n    try {\n      const cleanup = effect();\n\n      if (cleanup !== undefined && typeof cleanup !== \"function\") {\n        throw new Error(\n          \"An effect function must either return a cleanup function or nothing. \" +\n            `Received: ${typeof cleanup}`,\n        );\n      }\n\n      cell.cleanup = cleanup;\n    } catch (error) {\n      errors.push(error);\n    }\n\n    cell.deps = deps;\n\n    if (errors.length > 0) {\n      if (errors.length === 1) {\n        throw errors[0];\n      } else {\n        for (const error of errors) {\n          console.error(error);\n        }\n        throw new AggregateError(errors, \"Errors during commit\");\n      }\n    }\n  });\n}\n"],"names":[],"mappings":";;;;AACA;AACA;;;AAEA,MAAM,YAAY,IAAiC,CAAC;QAClD,MAAM;QACN,SAAS;QACT,MAAM;IACR,CAAC;AAYM,SAAS,UACd,MAAgC,EAChC,IAAyB;IAEzB,MAAM,OAAO,IAAA,kKAAO,EAAC,UAAU;IAE/B,IAAI,QAAQ,KAAK,IAAI,IAAI,IAAA,wLAAgB,EAAC,KAAK,IAAI,EAAE,OAAO;IAC5D,IAAI,KAAK,IAAI,KAAK,QAAQ,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,IAAI,EAC9C,MAAM,IAAI,MACR;IAGJ,IAAA,kLAAuB,EAAC;QACtB,MAAM,SAAoB,EAAE;QAE5B,IAAI;YACF,KAAK,OAAO;QACd,EAAE,OAAO,OAAO;YACd,OAAO,IAAI,CAAC;QACd,SAAU;YACR,KAAK,OAAO,GAAG;QACjB;QAEA,IAAI;YACF,MAAM,UAAU;YAEhB,IAAI,YAAY,aAAa,OAAO,YAAY,YAAY;gBAC1D,MAAM,IAAI,MACR,0EACE,CAAC,UAAU,EAAE,OAAO,SAAS;YAEnC;YAEA,KAAK,OAAO,GAAG;QACjB,EAAE,OAAO,OAAO;YACd,OAAO,IAAI,CAAC;QACd;QAEA,KAAK,IAAI,GAAG;QAEZ,IAAI,OAAO,MAAM,GAAG,GAAG;YACrB,IAAI,OAAO,MAAM,KAAK,GAAG;gBACvB,MAAM,MAAM,CAAC,EAAE;YACjB,OAAO;gBACL,KAAK,MAAM,SAAS,OAAQ;oBAC1B,QAAQ,KAAK,CAAC;gBAChB;gBACA,MAAM,IAAI,eAAe,QAAQ;YACnC;QACF;IACF;AACF"}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-callback.ts"],"sourcesContent":["import { tapMemo } from \"./tap-memo\";\n\nexport const tapCallback = <T extends (...args: any[]) => any>(\n  fn: T,\n  deps: readonly unknown[],\n): T => {\n  // biome-ignore lint/correctness/useExhaustiveDependencies: user provided deps instead of callback identity\n  return tapMemo(() => fn, deps);\n};\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,cAAc,CACzB,IACA;IAEA,2GAA2G;IAC3G,OAAO,IAAA,yJAAO,EAAC,IAAM,IAAI;AAC3B"}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-const.ts"],"sourcesContent":["import { tapState } from \"./tap-state\";\n\nexport function tapConst<T>(getValue: () => T, _deps: readonly never[]): T {\n  const [state] = tapState(getValue);\n  return state;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS,SAAY,QAAiB,EAAE,KAAuB;IACpE,MAAM,CAAC,MAAM,GAAG,IAAA,2JAAQ,EAAC;IACzB,OAAO;AACT"}},
    {"offset": {"line": 512, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-resources.ts"],"sourcesContent":["import {\n  ExtractResourceReturnType,\n  RenderResult,\n  ResourceElement,\n  ResourceFiber,\n} from \"../core/types\";\nimport { tapEffect } from \"./tap-effect\";\nimport { tapMemo } from \"./tap-memo\";\nimport { tapState } from \"./tap-state\";\nimport { tapCallback } from \"./tap-callback\";\nimport {\n  createResourceFiber,\n  unmountResourceFiber,\n  renderResourceFiber,\n  commitResourceFiber,\n} from \"../core/resource-fiber\";\nimport { tapConst } from \"./tap-const\";\n\ntype FiberState = {\n  fiber: ResourceFiber<unknown, unknown>;\n  next:\n    | RenderResult\n    | [ResourceFiber<unknown, unknown>, RenderResult]\n    | \"delete\";\n};\n\nexport function tapResources<E extends ResourceElement<any, any>>(\n  getElements: () => readonly E[],\n  getElementsDeps?: readonly unknown[],\n): ExtractResourceReturnType<E>[] {\n  const [version, setVersion] = tapState(0);\n  const rerender = tapConst(() => () => setVersion((v) => v + 1), []);\n\n  const fibers = tapConst(() => new Map<string | number, FiberState>(), []);\n\n  const getElementsMemo = getElementsDeps\n    ? // biome-ignore lint/correctness/useExhaustiveDependencies: library code\n      tapCallback(getElements, getElementsDeps)\n    : getElements;\n\n  // Process each element\n\n  const res = tapMemo(() => {\n    void version;\n\n    const elementsArray = getElementsMemo();\n    const seenKeys = new Set<string | number>();\n    const results: any[] = [];\n    let newCount = 0;\n\n    // Create/update fibers and render\n    for (let i = 0; i < elementsArray.length; i++) {\n      const element = elementsArray[i]!;\n\n      const elementKey = element.key;\n      if (elementKey === undefined) {\n        throw new Error(\n          `tapResources did not provide a key for array at index ${i}`,\n        );\n      }\n\n      if (seenKeys.has(elementKey))\n        throw new Error(`Duplicate key ${elementKey} in tapResources`);\n      seenKeys.add(elementKey);\n\n      let state = fibers.get(elementKey);\n      if (!state) {\n        const fiber = createResourceFiber(element.type, (callback) => {\n          if (callback()) rerender();\n        });\n        const result = renderResourceFiber(fiber, element.props);\n        state = {\n          fiber,\n          next: result,\n        };\n        newCount++;\n        fibers.set(elementKey, state);\n        results.push(result.output);\n      } else if (state.fiber.type !== element.type) {\n        const fiber = createResourceFiber(element.type, (callback) => {\n          if (callback()) rerender();\n        });\n        const result = renderResourceFiber(fiber, element.props);\n        state.next = [fiber, result];\n        results.push(result.output);\n      } else {\n        state.next = renderResourceFiber(state.fiber, element.props);\n        results.push(state.next.output);\n      }\n    }\n\n    // Clean up removed fibers (only if there might be stale ones)\n    if (fibers.size > results.length - newCount) {\n      for (const key of fibers.keys()) {\n        if (!seenKeys.has(key)) {\n          fibers.get(key)!.next = \"delete\";\n        }\n      }\n    }\n\n    return results;\n  }, [getElementsMemo, version]);\n\n  // Cleanup on unmount\n  tapEffect(() => {\n    return () => {\n      for (const key of fibers.keys()) {\n        const fiber = fibers.get(key)!.fiber;\n        unmountResourceFiber(fiber);\n      }\n    };\n  }, []);\n\n  tapEffect(() => {\n    res; // as a performance optimization, we only run if the results have changed\n\n    for (const [key, state] of fibers.entries()) {\n      if (state.next === \"delete\") {\n        if (state.fiber.isMounted) {\n          unmountResourceFiber(state.fiber);\n        }\n\n        fibers.delete(key);\n      } else if (Array.isArray(state.next)) {\n        unmountResourceFiber(state.fiber);\n        state.fiber = state.next[0];\n        commitResourceFiber(state.fiber, state.next[1]);\n      } else {\n        commitResourceFiber(state.fiber, state.next);\n      }\n    }\n  }, [res]);\n\n  return res;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 624, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-effect-event.ts"],"sourcesContent":["import { tapRef } from \"./tap-ref\";\nimport { tapEffect } from \"./tap-effect\";\nimport { isDevelopment } from \"../core/env\";\nimport { tapCallback } from \"./tap-callback\";\nimport { getCurrentResourceFiber } from \"../core/execution-context\";\n\n/**\n * Creates a stable function reference that always calls the most recent version of the callback.\n * Similar to React's useEffectEvent hook.\n *\n * @param callback - The callback function to wrap\n * @returns A stable function reference that always calls the latest callback\n *\n * @example\n * ```typescript\n * const handleClick = tapEffectEvent((value: string) => {\n *   console.log(value);\n * });\n * // handleClick reference is stable, but always calls the latest version\n * ```\n */\nexport function tapEffectEvent<T extends (...args: any[]) => any>(\n  callback: T,\n): T {\n  const callbackRef = tapRef(callback);\n\n  tapEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  if (isDevelopment) {\n    const fiber = getCurrentResourceFiber();\n    return tapCallback(\n      ((...args: Parameters<T>) => {\n        if (fiber.renderContext)\n          throw new Error(\"tapEffectEvent cannot be called during render\");\n        return callbackRef.current(...args);\n      }) as T,\n      [fiber],\n    );\n  }\n\n  return callbackRef.current;\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAiBO,SAAS,eACd,QAAW;IAEX,MAAM,cAAc,IAAA,uJAAM,EAAC;IAE3B,IAAA,6JAAS,EAAC;QACR,YAAY,OAAO,GAAG;IACxB;IAEA,IAAI,sJAAa,EAAE;QACjB,MAAM,QAAQ,IAAA,iLAAuB;QACrC,OAAO,IAAA,iKAAW,EACf,CAAC,GAAG;YACH,IAAI,MAAM,aAAa,EACrB,MAAM,IAAI,MAAM;YAClB,OAAO,YAAY,OAAO,IAAI;QAChC,GACA;YAAC;SAAM;IAEX;IAEA,OAAO,YAAY,OAAO;AAC5B"}},
    {"offset": {"line": 658, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-inline-resource.ts"],"sourcesContent":["import { ExtractResourceReturnType, ResourceElement } from \"../core/types\";\nimport { callResourceFn } from \"../core/call-resource-fn\";\n\nexport function tapInlineResource<E extends ResourceElement<any, any>>(\n  element: E,\n): ExtractResourceReturnType<E> {\n  return callResourceFn(element.type, element.props);\n}\n"],"names":[],"mappings":";;;;AACA;;AAEO,SAAS,kBACd,OAAU;IAEV,OAAO,IAAA,0KAAc,EAAC,QAAQ,IAAI,EAAE,QAAQ,KAAK;AACnD"}},
    {"offset": {"line": 671, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/hooks/tap-resource.ts"],"sourcesContent":["import { ExtractResourceReturnType, ResourceElement } from \"../core/types\";\nimport { tapEffect } from \"./tap-effect\";\nimport {\n  createResourceFiber,\n  unmountResourceFiber,\n  renderResourceFiber,\n  commitResourceFiber,\n} from \"../core/resource-fiber\";\nimport { tapMemo } from \"./tap-memo\";\nimport { tapState } from \"./tap-state\";\nimport { tapConst } from \"./tap-const\";\n\nexport function tapResource<E extends ResourceElement<any, any>>(\n  element: E,\n): ExtractResourceReturnType<E>;\nexport function tapResource<E extends ResourceElement<any, any>>(\n  element: E,\n  propsDeps: readonly unknown[],\n): ExtractResourceReturnType<E>;\nexport function tapResource<E extends ResourceElement<any, any>>(\n  element: E,\n  propsDeps?: readonly unknown[],\n): ExtractResourceReturnType<E> {\n  const [version, setVersion] = tapState(0);\n  const rerender = tapConst(() => () => setVersion((v) => v + 1), []);\n\n  const fiber = tapMemo(() => {\n    void element.key;\n    return createResourceFiber(element.type, (callback) => {\n      if (callback()) rerender();\n    });\n  }, [element.type, element.key]);\n\n  const result = propsDeps\n    ? // biome-ignore lint/correctness/useExhaustiveDependencies: user provided deps instead of prop identity\n      tapMemo(\n        () => renderResourceFiber(fiber, element.props),\n        [fiber, ...propsDeps, version],\n      )\n    : renderResourceFiber(fiber, element.props);\n\n  tapEffect(() => () => unmountResourceFiber(fiber), [fiber]);\n  tapEffect(() => {\n    commitResourceFiber(fiber, result);\n  }, [fiber, result]);\n\n  return result.output;\n}\n"],"names":[],"mappings":";;;;AACA;AACA;AAMA;AACA;AACA;;;;;;AASO,SAAS,YACd,OAAU,EACV,SAA8B;IAE9B,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,2JAAQ,EAAC;IACvC,MAAM,WAAW,IAAA,2JAAQ,EAAC,IAAM,IAAM,WAAW,CAAC,IAAM,IAAI,IAAI,EAAE;IAElE,MAAM,QAAQ,IAAA,yJAAO,EAAC;QACpB,KAAK,QAAQ,GAAG;QAChB,OAAO,IAAA,0KAAmB,EAAC,QAAQ,IAAI,EAAE,CAAC;YACxC,IAAI,YAAY;QAClB;IACF,GAAG;QAAC,QAAQ,IAAI;QAAE,QAAQ,GAAG;KAAC;IAE9B,MAAM,SAAS,YAEX,IAAA,yJAAO,EACL,IAAM,IAAA,0KAAmB,EAAC,OAAO,QAAQ,KAAK,GAC9C;QAAC;WAAU;QAAW;KAAQ,IAEhC,IAAA,0KAAmB,EAAC,OAAO,QAAQ,KAAK;IAE5C,IAAA,6JAAS,EAAC,IAAM,IAAM,IAAA,2KAAoB,EAAC,QAAQ;QAAC;KAAM;IAC1D,IAAA,6JAAS,EAAC;QACR,IAAA,0KAAmB,EAAC,OAAO;IAC7B,GAAG;QAAC;QAAO;KAAO;IAElB,OAAO,OAAO,MAAM;AACtB"}},
    {"offset": {"line": 717, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/with-key.ts"],"sourcesContent":["import { ResourceElement } from \"./types\";\n\nexport function withKey<E extends ResourceElement<any, any>>(\n  key: string | number,\n  element: E,\n): E {\n  return { ...element, key };\n}\n"],"names":[],"mappings":";;;;AAEO,SAAS,QACd,GAAoB,EACpB,OAAU;IAEV,OAAO;QAAE,GAAG,OAAO;QAAE;IAAI;AAC3B"}},
    {"offset": {"line": 731, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/scheduler.ts"],"sourcesContent":["type Task = () => void;\n\ntype GlobalFlushState = {\n  schedulers: Set<UpdateScheduler>;\n  isScheduled: boolean;\n};\n\nconst MAX_FLUSH_LIMIT = 50;\nlet flushState: GlobalFlushState = {\n  schedulers: new Set([]),\n  isScheduled: false,\n};\n\nexport class UpdateScheduler {\n  private _isDirty = false;\n\n  constructor(private readonly _task: Task) {}\n\n  get isDirty() {\n    return this._isDirty;\n  }\n\n  markDirty() {\n    this._isDirty = true;\n\n    flushState.schedulers.add(this);\n    scheduleFlush();\n  }\n\n  runTask() {\n    this._isDirty = false;\n    this._task();\n  }\n}\n\nconst scheduleFlush = () => {\n  if (flushState.isScheduled) return;\n  flushState.isScheduled = true;\n  queueMicrotask(flushScheduled);\n};\n\nconst flushScheduled = () => {\n  try {\n    const errors = [];\n    let flushDepth = 0;\n\n    for (const scheduler of flushState.schedulers) {\n      flushState.schedulers.delete(scheduler);\n      if (!scheduler.isDirty) continue;\n\n      flushDepth++;\n\n      if (flushDepth > MAX_FLUSH_LIMIT) {\n        throw new Error(\n          `Maximum update depth exceeded. This can happen when a resource ` +\n            `repeatedly calls setState inside tapEffect.`,\n        );\n      }\n\n      try {\n        scheduler.runTask();\n      } catch (error) {\n        errors.push(error);\n      }\n    }\n\n    if (errors.length > 0) {\n      if (errors.length === 1) {\n        throw errors[0];\n      } else {\n        for (const error of errors) {\n          console.error(error);\n        }\n        throw new AggregateError(errors, \"Errors occurred during flushSync\");\n      }\n    }\n  } finally {\n    flushState.schedulers.clear();\n    flushState.isScheduled = false;\n  }\n};\n\nexport const flushResourcesSync = <T>(callback: () => T): T => {\n  const prev = flushState;\n  flushState = {\n    schedulers: new Set([]),\n    isScheduled: true,\n  };\n\n  try {\n    const result = callback();\n    flushScheduled();\n\n    return result;\n  } finally {\n    flushState = prev;\n  }\n};\n"],"names":[],"mappings":";;;;;;AAOA,MAAM,kBAAkB;AACxB,IAAI,aAA+B;IACjC,YAAY,IAAI,IAAI,EAAE;IACtB,aAAa;AACf;AAEO,MAAM;;IACH,SAAiB;IAEzB,YAAY,AAAiB,KAAW,CAAE;aAAb,QAAA;aAFrB,WAAW;IAEwB;IAE3C,IAAI,UAAU;QACZ,OAAO,IAAI,CAAC,QAAQ;IACtB;IAEA,YAAY;QACV,IAAI,CAAC,QAAQ,GAAG;QAEhB,WAAW,UAAU,CAAC,GAAG,CAAC,IAAI;QAC9B;IACF;IAEA,UAAU;QACR,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,KAAK;IACZ;AACF;AAEA,MAAM,gBAAgB;IACpB,IAAI,WAAW,WAAW,EAAE;IAC5B,WAAW,WAAW,GAAG;IACzB,eAAe;AACjB;AAEA,MAAM,iBAAiB;IACrB,IAAI;QACF,MAAM,SAAS,EAAE;QACjB,IAAI,aAAa;QAEjB,KAAK,MAAM,aAAa,WAAW,UAAU,CAAE;YAC7C,WAAW,UAAU,CAAC,MAAM,CAAC;YAC7B,IAAI,CAAC,UAAU,OAAO,EAAE;YAExB;YAEA,IAAI,aAAa,iBAAiB;gBAChC,MAAM,IAAI,MACR,CAAC,+DAA+D,CAAC,GAC/D,CAAC,2CAA2C,CAAC;YAEnD;YAEA,IAAI;gBACF,UAAU,OAAO;YACnB,EAAE,OAAO,OAAO;gBACd,OAAO,IAAI,CAAC;YACd;QACF;QAEA,IAAI,OAAO,MAAM,GAAG,GAAG;YACrB,IAAI,OAAO,MAAM,KAAK,GAAG;gBACvB,MAAM,MAAM,CAAC,EAAE;YACjB,OAAO;gBACL,KAAK,MAAM,SAAS,OAAQ;oBAC1B,QAAQ,KAAK,CAAC;gBAChB;gBACA,MAAM,IAAI,eAAe,QAAQ;YACnC;QACF;IACF,SAAU;QACR,WAAW,UAAU,CAAC,KAAK;QAC3B,WAAW,WAAW,GAAG;IAC3B;AACF;AAEO,MAAM,qBAAqB,CAAI;IACpC,MAAM,OAAO;IACb,aAAa;QACX,YAAY,IAAI,IAAI,EAAE;QACtB,aAAa;IACf;IAEA,IAAI;QACF,MAAM,SAAS;QACf;QAEA,OAAO;IACT,SAAU;QACR,aAAa;IACf;AACF"}},
    {"offset": {"line": 817, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/create-resource.ts"],"sourcesContent":["import { RenderResult, ResourceElement } from \"./types\";\nimport {\n  createResourceFiber,\n  unmountResourceFiber,\n  renderResourceFiber,\n  commitResourceFiber,\n} from \"./resource-fiber\";\nimport { flushResourcesSync, UpdateScheduler } from \"./scheduler\";\nimport { tapRef } from \"../hooks/tap-ref\";\nimport { tapState } from \"../hooks/tap-state\";\nimport { tapMemo } from \"../hooks/tap-memo\";\nimport { tapEffect } from \"../hooks/tap-effect\";\nimport { resource } from \"./resource\";\nimport { tapResource } from \"../hooks/tap-resource\";\nimport { tapConst } from \"../hooks/tap-const\";\nimport { getDevStrictMode } from \"./execution-context\";\nimport { isDevelopment } from \"./env\";\n\nexport namespace createResource {\n  export type Unsubscribe = () => void;\n\n  export interface Handle<R, P> {\n    getValue(): R;\n    subscribe(callback: () => void): Unsubscribe;\n    render(element: ResourceElement<R, P>): void;\n    unmount(): void;\n  }\n}\n\nconst HandleWrapperResource = resource(\n  <R, P>(state: {\n    elementRef: {\n      current: ResourceElement<R, P>;\n    };\n    onRender: (changed: boolean) => boolean;\n    onUnmount: () => void;\n  }): createResource.Handle<R, P> => {\n    const [, setElement] = tapState(state.elementRef.current);\n    const output = tapResource(state.elementRef.current);\n\n    const subscribers = tapConst(() => new Set<() => void>(), []);\n    const valueRef = tapRef(output);\n\n    tapEffect(() => {\n      if (output !== valueRef.current) {\n        valueRef.current = output;\n        subscribers.forEach((callback) => callback());\n      }\n    });\n\n    const handle = tapMemo(\n      () => ({\n        getValue: () => valueRef.current,\n        subscribe: (callback: () => void) => {\n          subscribers.add(callback);\n          return () => subscribers.delete(callback);\n        },\n\n        render: (el: ResourceElement<R, P>) => {\n          const changed = state.elementRef.current !== el;\n          state.elementRef.current = el;\n\n          if (state.onRender(changed)) {\n            setElement(el);\n          }\n        },\n        unmount: state.onUnmount,\n      }),\n      [state],\n    );\n\n    return handle;\n  },\n);\n\nexport const createResource = <R, P>(\n  element: ResourceElement<R, P>,\n  {\n    mount = true,\n    devStrictMode = false,\n  }: { mount?: boolean; devStrictMode?: boolean } = {},\n): createResource.Handle<R, P> => {\n  let isMounted = mount;\n  let render: RenderResult;\n  const props = {\n    elementRef: { current: element },\n    onRender: (changed: boolean) => {\n      if (isMounted) return changed;\n      isMounted = true;\n\n      if (\n        isDevelopment &&\n        fiber.isNeverMounted &&\n        fiber.devStrictMode === \"child\"\n      ) {\n        if (changed) {\n          render = renderResourceFiber(fiber, props);\n        }\n        commitResourceFiber(fiber, render);\n      } else {\n        flushResourcesSync(() => {\n          if (changed) {\n            // In strict mode, render twice to detect side effects\n            if (isDevelopment && fiber.devStrictMode === \"root\") {\n              void renderResourceFiber(fiber, props);\n            }\n\n            render = renderResourceFiber(fiber, props);\n          }\n\n          if (scheduler.isDirty) return;\n          commitResourceFiber(fiber, render!);\n        });\n      }\n\n      return false;\n    },\n    onUnmount: () => {\n      if (!isMounted) throw new Error(\"Resource not mounted\");\n      isMounted = false;\n\n      unmountResourceFiber(fiber);\n    },\n  };\n\n  const scheduler = new UpdateScheduler(() => {\n    // In strict mode, render twice to detect side effects\n    if (\n      isDevelopment &&\n      (fiber.devStrictMode === \"root\" ||\n        (fiber.devStrictMode && !fiber.isFirstRender))\n    ) {\n      void renderResourceFiber(fiber, props);\n    }\n\n    render = renderResourceFiber(fiber, props);\n\n    if (scheduler.isDirty || !isMounted) return;\n    commitResourceFiber(fiber, render);\n  });\n\n  const fiber = createResourceFiber(\n    HandleWrapperResource<R, P>,\n    (callback) => {\n      if (callback()) scheduler.markDirty();\n    },\n    getDevStrictMode(devStrictMode),\n  );\n\n  flushResourcesSync(() => {\n    scheduler.markDirty();\n  });\n\n  return render!.output;\n};\n"],"names":[],"mappings":";;;;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AAaA,MAAM,wBAAwB,IAAA,sJAAQ,EACpC,CAAO;IAOL,MAAM,GAAG,WAAW,GAAG,IAAA,2JAAQ,EAAC,MAAM,UAAU,CAAC,OAAO;IACxD,MAAM,SAAS,IAAA,iKAAW,EAAC,MAAM,UAAU,CAAC,OAAO;IAEnD,MAAM,cAAc,IAAA,2JAAQ,EAAC,IAAM,IAAI,OAAmB,EAAE;IAC5D,MAAM,WAAW,IAAA,uJAAM,EAAC;IAExB,IAAA,6JAAS,EAAC;QACR,IAAI,WAAW,SAAS,OAAO,EAAE;YAC/B,SAAS,OAAO,GAAG;YACnB,YAAY,OAAO,CAAC,CAAC,WAAa;QACpC;IACF;IAEA,MAAM,SAAS,IAAA,yJAAO,EACpB,IAAM,CAAC;YACL,UAAU,IAAM,SAAS,OAAO;YAChC,WAAW,CAAC;gBACV,YAAY,GAAG,CAAC;gBAChB,OAAO,IAAM,YAAY,MAAM,CAAC;YAClC;YAEA,QAAQ,CAAC;gBACP,MAAM,UAAU,MAAM,UAAU,CAAC,OAAO,KAAK;gBAC7C,MAAM,UAAU,CAAC,OAAO,GAAG;gBAE3B,IAAI,MAAM,QAAQ,CAAC,UAAU;oBAC3B,WAAW;gBACb;YACF;YACA,SAAS,MAAM,SAAS;QAC1B,CAAC,GACD;QAAC;KAAM;IAGT,OAAO;AACT;AAGK,MAAM,iBAAiB,CAC5B,SACA,EACE,QAAQ,IAAI,EACZ,gBAAgB,KAAK,EACwB,GAAG,CAAC,CAAC;IAEpD,IAAI,YAAY;IAChB,IAAI;IACJ,MAAM,QAAQ;QACZ,YAAY;YAAE,SAAS;QAAQ;QAC/B,UAAU,CAAC;YACT,IAAI,WAAW,OAAO;YACtB,YAAY;YAEZ,IACE,sJAAa,IACb,MAAM,cAAc,IACpB,MAAM,aAAa,KAAK,SACxB;gBACA,IAAI,SAAS;oBACX,SAAS,IAAA,0KAAmB,EAAC,OAAO;gBACtC;gBACA,IAAA,0KAAmB,EAAC,OAAO;YAC7B,OAAO;gBACL,IAAA,iKAAkB,EAAC;oBACjB,IAAI,SAAS;wBACX,sDAAsD;wBACtD,IAAI,sJAAa,IAAI,MAAM,aAAa,KAAK,QAAQ;4BACnD,KAAK,IAAA,0KAAmB,EAAC,OAAO;wBAClC;wBAEA,SAAS,IAAA,0KAAmB,EAAC,OAAO;oBACtC;oBAEA,IAAI,UAAU,OAAO,EAAE;oBACvB,IAAA,0KAAmB,EAAC,OAAO;gBAC7B;YACF;YAEA,OAAO;QACT;QACA,WAAW;YACT,IAAI,CAAC,WAAW,MAAM,IAAI,MAAM;YAChC,YAAY;YAEZ,IAAA,2KAAoB,EAAC;QACvB;IACF;IAEA,MAAM,YAAY,IAAI,8JAAe,CAAC;QACpC,sDAAsD;QACtD,IACE,sJAAa,IACb,CAAC,MAAM,aAAa,KAAK,UACtB,MAAM,aAAa,IAAI,CAAC,MAAM,aAAa,AAAC,GAC/C;YACA,KAAK,IAAA,0KAAmB,EAAC,OAAO;QAClC;QAEA,SAAS,IAAA,0KAAmB,EAAC,OAAO;QAEpC,IAAI,UAAU,OAAO,IAAI,CAAC,WAAW;QACrC,IAAA,0KAAmB,EAAC,OAAO;IAC7B;IAEA,MAAM,QAAQ,IAAA,0KAAmB,EAC/B,uBACA,CAAC;QACC,IAAI,YAAY,UAAU,SAAS;IACrC,GACA,IAAA,0KAAgB,EAAC;IAGnB,IAAA,iKAAkB,EAAC;QACjB,UAAU,SAAS;IACrB;IAEA,OAAO,OAAQ,MAAM;AACvB"}},
    {"offset": {"line": 930, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/utils/store-resource.ts"],"sourcesContent":["import {\n  tapEffect,\n  ResourceElement,\n  resource,\n  createResource,\n  tapState,\n} from \"@creatorem/ai-tap\";\nimport { Unsubscribe } from \"../types/client\";\n\nexport interface Store<TState> {\n  /**\n   * Get the current state of the store.\n   */\n  getValue(): TState;\n\n  /**\n   * Subscribe to the store.\n   */\n  subscribe(listener: () => void): Unsubscribe;\n}\n\nexport const StoreResource = resource(\n  <TState>(element: ResourceElement<TState>): Store<TState> => {\n    const [handle] = tapState(() => createResource(element, { mount: false }));\n\n    tapEffect(() => handle.unmount, [handle]);\n\n    tapEffect(() => {\n      handle.render(element);\n    });\n\n    return handle;\n  },\n);\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;;AAqBO,MAAM,gBAAgB,IAAA,sJAAQ,EACnC,CAAS;IACP,MAAM,CAAC,OAAO,GAAG,IAAA,2JAAQ,EAAC,IAAM,IAAA,sKAAc,EAAC,SAAS;YAAE,OAAO;QAAM;IAEvE,IAAA,6JAAS,EAAC,IAAM,OAAO,OAAO,EAAE;QAAC;KAAO;IAExC,IAAA,6JAAS,EAAC;QACR,OAAO,MAAM,CAAC;IAChB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 955, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/tap/src/core/context.ts"],"sourcesContent":["const contextValue: unique symbol = Symbol(\"tap.Context\");\ntype Context<T> = {\n  [contextValue]: T;\n};\n\nexport const createResourceContext = <T>(defaultValue: T): Context<T> => {\n  return {\n    [contextValue]: defaultValue,\n  };\n};\n\nexport const withContextProvider = <T, TResult>(\n  context: Context<T>,\n  value: T,\n  fn: () => TResult,\n) => {\n  const previousValue = context[contextValue];\n  context[contextValue] = value;\n  try {\n    return fn();\n  } finally {\n    context[contextValue] = previousValue;\n  }\n};\n\nexport const tap = <T>(context: Context<T>) => {\n  return context[contextValue];\n};\n"],"names":[],"mappings":";;;;;;;;AAAA,MAAM,eAA8B,OAAO;AAKpC,MAAM,wBAAwB,CAAI;IACvC,OAAO;QACL,CAAC,aAAa,EAAE;IAClB;AACF;AAEO,MAAM,sBAAsB,CACjC,SACA,OACA;IAEA,MAAM,gBAAgB,OAAO,CAAC,aAAa;IAC3C,OAAO,CAAC,aAAa,GAAG;IACxB,IAAI;QACF,OAAO;IACT,SAAU;QACR,OAAO,CAAC,aAAa,GAAG;IAC1B;AACF;AAEO,MAAM,MAAM,CAAI;IACrB,OAAO,OAAO,CAAC,aAAa;AAC9B"}},
    {"offset": {"line": 985, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/utils/tap-client-stack-context.ts"],"sourcesContent":["import {\n  createResourceContext,\n  tap,\n  withContextProvider,\n  tapMemo,\n} from \"@creatorem/ai-tap\";\nimport type { ClientMethods } from \"../types/client\";\n\n/**\n * Symbol used to get the client index from a ClientProxy.\n */\nexport const SYMBOL_CLIENT_INDEX = Symbol(\"assistant-ui.store.clientIndex\");\n\n/**\n * Get the index of a client (its position in the client stack when created).\n */\nexport const getClientIndex = (client: ClientMethods): number => {\n  return (client as unknown as { [SYMBOL_CLIENT_INDEX]: number })[\n    SYMBOL_CLIENT_INDEX\n  ];\n};\n\n/**\n * The client stack - an array of clients representing the current hierarchy.\n */\nexport type ClientStack = readonly ClientMethods[];\n\nconst ClientStackContext = createResourceContext<ClientStack>([]);\n\n/**\n * Get the current client stack inside a tap resource.\n */\nexport const tapClientStack = (): ClientStack => {\n  return tap(ClientStackContext);\n};\n\n/**\n * Execute a callback with a client pushed onto the stack.\n * The stack is duplicated, not mutated.\n */\nexport const tapWithClientStack = <T>(\n  client: ClientMethods,\n  callback: () => T,\n): T => {\n  const currentStack = tapClientStack();\n  const newStack = tapMemo(\n    () => [...currentStack, client],\n    [currentStack, client],\n  );\n  return withContextProvider(ClientStackContext, newStack, callback);\n};\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;;AAWO,MAAM,sBAAsB,OAAO;AAKnC,MAAM,iBAAiB,CAAC;IAC7B,OAAO,AAAC,MAAuD,CAC7D,oBACD;AACH;AAOA,MAAM,qBAAqB,IAAA,kKAAqB,EAAc,EAAE;AAKzD,MAAM,iBAAiB;IAC5B,OAAO,IAAA,gJAAG,EAAC;AACb;AAMO,MAAM,qBAAqB,CAChC,QACA;IAEA,MAAM,eAAe;IACrB,MAAM,WAAW,IAAA,yJAAO,EACtB,IAAM;eAAI;YAAc;SAAO,EAC/B;QAAC;QAAc;KAAO;IAExB,OAAO,IAAA,gKAAmB,EAAC,oBAAoB,UAAU;AAC3D"}},
    {"offset": {"line": 1021, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/utils/base-proxy-handler.ts"],"sourcesContent":["const INTROSPECTION_PROPS = new Set([\"$$typeof\", \"nodeType\", \"then\"]);\n\n/**\n * Handles common proxy introspection properties.\n * Returns the appropriate value for toStringTag, toJSON, and props that should return undefined.\n * Returns `false` if the prop should be handled by the subclass.\n */\nexport const handleIntrospectionProp = (\n  prop: string | symbol,\n  name: string,\n): unknown | false => {\n  if (prop === Symbol.toStringTag) return name;\n  if (typeof prop === \"symbol\") return undefined;\n  if (prop === \"toJSON\") return () => name;\n  if (INTROSPECTION_PROPS.has(prop)) return undefined;\n  return false;\n};\n\nexport abstract class BaseProxyHandler implements ProxyHandler<object> {\n  abstract get(_: unknown, prop: string | symbol, receiver?: unknown): unknown;\n  abstract ownKeys(): ArrayLike<string | symbol>;\n  abstract has(_: unknown, prop: string | symbol): boolean;\n\n  getOwnPropertyDescriptor(_: unknown, prop: string | symbol) {\n    const value = this.get(_, prop);\n    if (value === undefined) return undefined;\n    return {\n      value,\n      writable: false,\n      enumerable: true,\n      configurable: false,\n    };\n  }\n\n  set() {\n    return false;\n  }\n  setPrototypeOf() {\n    return false;\n  }\n  defineProperty() {\n    return false;\n  }\n  deleteProperty() {\n    return false;\n  }\n  preventExtensions(): boolean {\n    return false;\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA,MAAM,sBAAsB,IAAI,IAAI;IAAC;IAAY;IAAY;CAAO;AAO7D,MAAM,0BAA0B,CACrC,MACA;IAEA,IAAI,SAAS,OAAO,WAAW,EAAE,OAAO;IACxC,IAAI,OAAO,SAAS,UAAU,OAAO;IACrC,IAAI,SAAS,UAAU,OAAO,IAAM;IACpC,IAAI,oBAAoB,GAAG,CAAC,OAAO,OAAO;IAC1C,OAAO;AACT;AAEO,MAAe;IAKpB,yBAAyB,CAAU,EAAE,IAAqB,EAAE;QAC1D,MAAM,QAAQ,IAAI,CAAC,GAAG,CAAC,GAAG;QAC1B,IAAI,UAAU,WAAW,OAAO;QAChC,OAAO;YACL;YACA,UAAU;YACV,YAAY;YACZ,cAAc;QAChB;IACF;IAEA,MAAM;QACJ,OAAO;IACT;IACA,iBAAiB;QACf,OAAO;IACT;IACA,iBAAiB;QACf,OAAO;IACT;IACA,iBAAiB;QACf,OAAO;IACT;IACA,oBAA6B;QAC3B,OAAO;IACT;AACF"}},
    {"offset": {"line": 1070, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/wrapper-resource.ts"],"sourcesContent":["import {\n  type ResourceElement,\n  Resource,\n  resource,\n  withKey,\n} from \"@creatorem/ai-tap\";\n\nexport const wrapperResource = <R, P>(\n  fn: (props: ResourceElement<P>) => R,\n): Resource<R, ResourceElement<P>> => {\n  const res = resource(fn);\n  return (props: ResourceElement<P>) => {\n    const el = res(props);\n    if (props.key === undefined) return el;\n    return withKey(props.key, el);\n  };\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAOO,MAAM,kBAAkB,CAC7B;IAEA,MAAM,MAAM,IAAA,sJAAQ,EAAC;IACrB,OAAO,CAAC;QACN,MAAM,KAAK,IAAI;QACf,IAAI,MAAM,GAAG,KAAK,WAAW,OAAO;QACpC,OAAO,IAAA,wJAAO,EAAC,MAAM,GAAG,EAAE;IAC5B;AACF"}},
    {"offset": {"line": 1089, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/tap-client-resource.ts"],"sourcesContent":["import {\n  tapEffect,\n  tapMemo,\n  tapRef,\n  type ResourceElement,\n  tapResource,\n  tapInlineResource,\n} from \"@creatorem/ai-tap\";\nimport type { ClientMethods, ClientOutputOf } from \"./types/client\";\nimport {\n  tapClientStack,\n  tapWithClientStack,\n  SYMBOL_CLIENT_INDEX,\n} from \"./utils/tap-client-stack-context\";\nimport {\n  BaseProxyHandler,\n  handleIntrospectionProp,\n} from \"./utils/base-proxy-handler\";\nimport { wrapperResource } from \"./wrapper-resource\";\n\n/**\n * Symbol used internally to get state from ClientProxy.\n * This allows getState() to be optional in the user-facing client.\n */\nconst SYMBOL_GET_OUTPUT = Symbol(\"assistant-ui.store.getValue\");\n\ntype ClientInternal = {\n  [SYMBOL_GET_OUTPUT]: ClientOutputOf<unknown, ClientMethods>;\n};\n\nexport const getClientState = (client: ClientMethods) => {\n  const output = (client as unknown as ClientInternal)[SYMBOL_GET_OUTPUT];\n  if (!output) {\n    throw new Error(\n      \"Client scope contains a non-client resource. \" +\n        \"Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.\",\n    );\n  }\n  return output.state;\n};\n\n// Global cache for function templates by field name\nconst fieldAccessFns = new Map<\n  string | symbol,\n  (this: unknown, ...args: unknown[]) => unknown\n>();\n\nfunction getOrCreateProxyFn(prop: string | symbol) {\n  let template = fieldAccessFns.get(prop);\n  if (!template) {\n    template = function (this: unknown, ...args: unknown[]) {\n      if (!this || typeof this !== \"object\") {\n        throw new Error(\n          `Method \"${String(prop)}\" called without proper context. ` +\n            `This may indicate the function was called incorrectly.`,\n        );\n      }\n\n      const output = (this as ClientInternal)[SYMBOL_GET_OUTPUT];\n      if (!output) {\n        throw new Error(\n          `Method \"${String(prop)}\" called on invalid client proxy. ` +\n            `Ensure you are calling this method on a valid client instance.`,\n        );\n      }\n\n      const method = output.methods[prop];\n      if (!method)\n        throw new Error(`Method \"${String(prop)}\" is not implemented.`);\n      if (typeof method !== \"function\")\n        throw new Error(`\"${String(prop)}\" is not a function.`);\n      return method(...args);\n    };\n    fieldAccessFns.set(prop, template);\n  }\n  return template;\n}\n\nclass ClientProxyHandler\n  extends BaseProxyHandler\n  implements ProxyHandler<object>\n{\n  private boundFns: Map<string | symbol, Function> | undefined;\n  private cachedReceiver: unknown;\n\n  constructor(\n    private readonly outputRef: {\n      current: ClientOutputOf<unknown, ClientMethods>;\n    },\n    private readonly index: number,\n  ) {\n    super();\n  }\n\n  get(_: unknown, prop: string | symbol, receiver: unknown) {\n    if (prop === SYMBOL_GET_OUTPUT) return this.outputRef.current;\n    if (prop === SYMBOL_CLIENT_INDEX) return this.index;\n    const introspection = handleIntrospectionProp(prop, \"ClientProxy\");\n    if (introspection !== false) return introspection;\n    const value = this.outputRef.current.methods[prop];\n    if (typeof value === \"function\") {\n      if (this.cachedReceiver !== receiver) {\n        this.boundFns = new Map();\n        this.cachedReceiver = receiver;\n      }\n      let bound = this.boundFns!.get(prop);\n      if (!bound) {\n        bound = getOrCreateProxyFn(prop).bind(receiver);\n        this.boundFns!.set(prop, bound);\n      }\n      return bound;\n    }\n    return value;\n  }\n\n  ownKeys(): ArrayLike<string | symbol> {\n    return Object.keys(this.outputRef.current.methods);\n  }\n\n  has(_: unknown, prop: string | symbol) {\n    if (prop === SYMBOL_GET_OUTPUT) return true;\n    if (prop === SYMBOL_CLIENT_INDEX) return true;\n    return prop in this.outputRef.current.methods;\n  }\n}\n\n/**\n * Resource that wraps a plain resource element to create a stable client proxy.\n *\n * Takes a ResourceElement that returns { state, methods } and\n * wraps it to produce a stable client proxy. This adds the client to the\n * client stack, enabling event scoping.\n *\n * Use this for 1:1 client mappings where you want event scoping to work correctly.\n *\n * @example\n * ```typescript\n * const MessageResource = resource(({ messageId }: { messageId: string }) => {\n *   return tapInlineResource(\n *     tapClientResource(InnerMessageResource({ messageId }))\n *   );\n * });\n * ```\n */\nexport const ClientResource = wrapperResource(\n  <TState, TMethods extends ClientMethods>(\n    element: ResourceElement<ClientOutputOf<TState, TMethods>>,\n  ): ClientOutputOf<TState, TMethods> & {\n    key: string | number | undefined;\n  } => {\n    const valueRef = tapRef(\n      null as unknown as ClientOutputOf<TState, TMethods>,\n    );\n\n    const index = tapClientStack().length;\n    const methods = tapMemo(\n      () =>\n        new Proxy<TMethods>(\n          {} as TMethods,\n          new ClientProxyHandler(valueRef, index),\n        ),\n      [index],\n    );\n\n    const value = tapWithClientStack(methods, () => tapResource(element));\n    if (!valueRef.current) {\n      valueRef.current = value;\n    }\n\n    tapEffect(() => {\n      valueRef.current = value;\n    });\n\n    return { methods, state: value.state, key: element.key };\n  },\n);\n\nexport const tapClientResource = <TState, TMethods extends ClientMethods>(\n  element: ResourceElement<ClientOutputOf<TState, TMethods>>,\n) => {\n  return tapInlineResource(ClientResource(element));\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1205, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/utils/proxied-assistant-state.tsx"],"sourcesContent":["\"use client\";\nimport { getClientState } from \"../tap-client-resource\";\nimport type { AssistantClient, AssistantState } from \"../types/client\";\nimport { BaseProxyHandler, handleIntrospectionProp } from \"./base-proxy-handler\";\n\nexport const PROXIED_ASSISTANT_STATE_SYMBOL = Symbol(\n  \"assistant-ui.store.proxiedAssistantState\",\n);\n\nconst isIgnoredKey = (key: string | symbol): key is \"on\" | \"subscribe\" => {\n  return key === \"on\" || key === \"subscribe\" || typeof key === \"symbol\";\n};\n\n/**\n * Proxied state that lazily accesses scope states\n */\nexport const createProxiedAssistantState = (\n  client: AssistantClient,\n): AssistantState => {\n  class ProxiedAssistantStateProxyHandler\n    extends BaseProxyHandler\n    implements ProxyHandler<AssistantState>\n  {\n    get(_: unknown, prop: string | symbol) {\n      const introspection = handleIntrospectionProp(prop, \"AssistantState\");\n      if (introspection !== false) return introspection;\n      const scope = prop as keyof AssistantClient;\n      if (isIgnoredKey(scope)) return undefined;\n      return getClientState(client[scope]());\n    }\n\n    ownKeys(): ArrayLike<string | symbol> {\n      return Object.keys(client).filter((key) => !isIgnoredKey(key));\n    }\n\n    has(_: unknown, prop: string | symbol): boolean {\n      return !isIgnoredKey(prop) && prop in client;\n    }\n  }\n\n  return new Proxy<AssistantState>(\n    {} as AssistantState,\n    new ProxiedAssistantStateProxyHandler(),\n  );\n};\n\nexport const getProxiedAssistantState = (\n  client: AssistantClient,\n): AssistantState => {\n  return (\n    client as unknown as { [PROXIED_ASSISTANT_STATE_SYMBOL]: AssistantState }\n  )[PROXIED_ASSISTANT_STATE_SYMBOL];\n};\n"],"names":[],"mappings":";;;;;;;;AACA;AAEA;AAHA;;;AAKO,MAAM,iCAAiC,OAC5C;AAGF,MAAM,eAAe,CAAC;IACpB,OAAO,QAAQ,QAAQ,QAAQ,eAAe,OAAO,QAAQ;AAC/D;AAKO,MAAM,8BAA8B,CACzC;IAEA,MAAM,0CACI,iLAAgB;QAGxB,IAAI,CAAU,EAAE,IAAqB,EAAE;YACrC,MAAM,gBAAgB,IAAA,wLAAuB,EAAC,MAAM;YACpD,IAAI,kBAAkB,OAAO,OAAO;YACpC,MAAM,QAAQ;YACd,IAAI,aAAa,QAAQ,OAAO;YAChC,OAAO,IAAA,uKAAc,EAAC,MAAM,CAAC,MAAM;QACrC;QAEA,UAAsC;YACpC,OAAO,OAAO,IAAI,CAAC,QAAQ,MAAM,CAAC,CAAC,MAAQ,CAAC,aAAa;QAC3D;QAEA,IAAI,CAAU,EAAE,IAAqB,EAAW;YAC9C,OAAO,CAAC,aAAa,SAAS,QAAQ;QACxC;IACF;IAEA,OAAO,IAAI,MACT,CAAC,GACD,IAAI;AAER;AAEO,MAAM,2BAA2B,CACtC;IAEA,OAAO,AACL,MACD,CAAC,+BAA+B;AACnC"}},
    {"offset": {"line": 1247, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/utils/react-assistant-context.tsx"],"sourcesContent":["import React, { createContext, useContext } from \"react\";\nimport type { AssistantClient, AssistantClientAccessor } from \"../types/client\";\nimport {\n  createProxiedAssistantState,\n  PROXIED_ASSISTANT_STATE_SYMBOL,\n} from \"./proxied-assistant-state\";\nimport { BaseProxyHandler, handleIntrospectionProp } from \"./base-proxy-handler\";\n\nconst NO_OP_SUBSCRIBE = () => () => {};\n\nconst createErrorClientField = (\n  message: string,\n): AssistantClientAccessor<never> => {\n  const fn = (() => {\n    throw new Error(message);\n  }) as AssistantClientAccessor<never>;\n  fn.source = null;\n  fn.query = null;\n  return fn;\n};\n\nclass DefaultAssistantClientProxyHandler\n  extends BaseProxyHandler\n  implements ProxyHandler<AssistantClient>\n{\n  get(_: unknown, prop: string | symbol) {\n    if (prop === \"subscribe\") return NO_OP_SUBSCRIBE;\n    if (prop === \"on\") return NO_OP_SUBSCRIBE;\n    if (prop === PROXIED_ASSISTANT_STATE_SYMBOL)\n      return DefaultAssistantClientProxiedAssistantState;\n    const introspection = handleIntrospectionProp(\n      prop,\n      \"DefaultAssistantClient\",\n    );\n    if (introspection !== false) return introspection;\n    return createErrorClientField(\n      \"You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.\",\n    );\n  }\n\n  ownKeys(): ArrayLike<string | symbol> {\n    return [\"subscribe\", \"on\", PROXIED_ASSISTANT_STATE_SYMBOL];\n  }\n\n  has(_: unknown, prop: string | symbol): boolean {\n    return (\n      prop === \"subscribe\" ||\n      prop === \"on\" ||\n      prop === PROXIED_ASSISTANT_STATE_SYMBOL\n    );\n  }\n}\n/** Default context value - throws \"wrap in AuiProvider\" error */\nexport const DefaultAssistantClient: AssistantClient =\n  new Proxy<AssistantClient>(\n    {} as AssistantClient,\n    new DefaultAssistantClientProxyHandler(),\n  );\n\nconst DefaultAssistantClientProxiedAssistantState = createProxiedAssistantState(\n  DefaultAssistantClient,\n);\n\n/** Root prototype for created clients - throws \"scope not defined\" error */\nexport const createRootAssistantClient = (): AssistantClient =>\n  new Proxy<AssistantClient>({} as AssistantClient, {\n    get(_: AssistantClient, prop: string | symbol) {\n      const introspection = handleIntrospectionProp(prop, \"AssistantClient\");\n      if (introspection !== false) return introspection;\n\n      return createErrorClientField(\n        `The current scope does not have a \"${String(prop)}\" property.`,\n      );\n    },\n  });\n\n/**\n * React Context for the AssistantClient\n */\nconst AssistantContext = createContext<AssistantClient>(DefaultAssistantClient);\n\nexport const useAssistantContextValue = (): AssistantClient => {\n  return useContext(AssistantContext);\n};\n\n/**\n * Provider component for AssistantClient\n *\n * @example\n * ```typescript\n * <AuiProvider value={aui}>\n *   <YourApp />\n * </AuiProvider>\n * ```\n */\nexport const AuiProvider = ({\n  value,\n  children,\n}: {\n  value: AssistantClient;\n  children: React.ReactNode;\n}): React.ReactElement => {\n  return (\n    <AssistantContext.Provider value={value}>\n      {children}\n    </AssistantContext.Provider>\n  );\n};\n"],"names":[],"mappings":";;;;;;;;;;;AAAA;AAEA;AAIA;;;;;AAEA,MAAM,kBAAkB,IAAM,KAAO;AAErC,MAAM,yBAAyB,CAC7B;IAEA,MAAM,KAAM;QACV,MAAM,IAAI,MAAM;IAClB;IACA,GAAG,MAAM,GAAG;IACZ,GAAG,KAAK,GAAG;IACX,OAAO;AACT;AAEA,MAAM,2CACI,iLAAgB;IAGxB,IAAI,CAAU,EAAE,IAAqB,EAAE;QACrC,IAAI,SAAS,aAAa,OAAO;QACjC,IAAI,SAAS,MAAM,OAAO;QAC1B,IAAI,SAAS,qMAA8B,EACzC,OAAO;QACT,MAAM,gBAAgB,IAAA,wLAAuB,EAC3C,MACA;QAEF,IAAI,kBAAkB,OAAO,OAAO;QACpC,OAAO,uBACL;IAEJ;IAEA,UAAsC;QACpC,OAAO;YAAC;YAAa;YAAM,qMAA8B;SAAC;IAC5D;IAEA,IAAI,CAAU,EAAE,IAAqB,EAAW;QAC9C,OACE,SAAS,eACT,SAAS,QACT,SAAS,qMAA8B;IAE3C;AACF;AAEO,MAAM,yBACX,IAAI,MACF,CAAC,GACD,IAAI;AAGR,MAAM,8CAA8C,IAAA,kMAA2B,EAC7E;AAIK,MAAM,4BAA4B,IACvC,IAAI,MAAuB,CAAC,GAAsB;QAChD,KAAI,CAAkB,EAAE,IAAqB;YAC3C,MAAM,gBAAgB,IAAA,wLAAuB,EAAC,MAAM;YACpD,IAAI,kBAAkB,OAAO,OAAO;YAEpC,OAAO,uBACL,CAAC,mCAAmC,EAAE,OAAO,MAAM,WAAW,CAAC;QAEnE;IACF;AAEF;;CAEC,GACD,MAAM,iCAAmB,IAAA,+ZAAa,EAAkB;AAEjD,MAAM,2BAA2B;IACtC,OAAO,IAAA,4ZAAU,EAAC;AACpB;AAYO,MAAM,cAAc,CAAC,EAC1B,KAAK,EACL,QAAQ,EAIT;IACC,qBACE,ubAAC,iBAAiB,QAAQ;QAAC,OAAO;kBAC/B;;;;;;AAGP"}},
    {"offset": {"line": 1323, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/derived.ts"],"sourcesContent":["import { resource, ResourceElement } from \"@creatorem/ai-tap\";\nimport type {\n  AssistantClient,\n  ClientNames,\n  AssistantClientAccessor,\n  ClientMeta,\n} from \"./types/client\";\n\n/**\n * Creates a derived client field that references a client from a parent scope.\n * The get callback always calls the most recent version (useEffectEvent pattern).\n *\n * IMPORTANT: The `get` callback must return a client that was created via\n * `tapClientResource` (or `tapClientLookup`/`tapClientList` which use it internally).\n * This is required for event scoping to work correctly.\n *\n * @example\n * ```typescript\n * const aui = useAui({\n *   message: Derived({\n *     source: \"thread\",\n *     query: { index: 0 },\n *     get: (aui) => aui.thread().message({ index: 0 }),\n *   }),\n * });\n * ```\n */\nexport const Derived = resource(\n  <K extends ClientNames>(_config: Derived.Props<K>): null => {\n    return null;\n  },\n);\n\nexport type DerivedElement<K extends ClientNames> = ResourceElement<\n  null,\n  Derived.Props<K>\n>;\n\nexport namespace Derived {\n  /**\n   * Props passed to a derived client resource element.\n   */\n  export type Props<K extends ClientNames> = {\n    get: (client: AssistantClient) => ReturnType<AssistantClientAccessor<K>>;\n  } & (ClientMeta<K> | { getMeta: (client: AssistantClient) => ClientMeta<K> });\n}\n"],"names":[],"mappings":";;;;AAAA;;AA2BO,MAAM,UAAU,IAAA,sJAAQ,EAC7B,CAAwB;IACtB,OAAO;AACT"}},
    {"offset": {"line": 1336, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/attach-default-peers.ts"],"sourcesContent":["import type { ResourceElement } from \"@creatorem/ai-tap\";\nimport type { ClientElement, ClientNames } from \"./types/client\";\nimport type { DerivedElement } from \"./derived\";\n\n/**\n * Symbol used to store default peer clients on a resource.\n */\nconst DEFAULT_PEERS = Symbol(\"assistant-ui.default-peers\");\n\n/**\n * Type for resources that have default peers attached.\n */\nexport type ResourceWithDefaultPeers = {\n  [DEFAULT_PEERS]?: DefaultPeers;\n};\n\n/**\n * Default peers configuration - can be either root clients or derived clients.\n */\nexport type DefaultPeers = {\n  [K in ClientNames]?: ClientElement<K> | DerivedElement<K>;\n};\n\n/**\n * Attaches default peer clients to a resource.\n *\n * Default peers are only applied if the scope doesn't exist:\n * - Not defined in parent context\n * - Not provided by user\n * - Not already defined by a previous resource's default peers\n *\n * First definition wins - no overriding is permitted.\n *\n * @param resource - The resource to attach default peers to\n * @param peers - The default peer clients to attach\n * @throws Error if a peer key already exists in the resource's default peers\n *\n * @example\n * ```typescript\n * const ThreadListClient = resource(({ ... }) => { ... });\n *\n * attachDefaultPeers(ThreadListClient, {\n *   // Derived default peers\n *   thread: Derived({ source: \"threads\", query: { type: \"main\" }, get: ... }),\n *   threadListItem: Derived({ ... }),\n *   composer: Derived({ getMeta: ..., get: ... }),\n *\n *   // Root default peers\n *   tools: Tools({}),\n *   modelContext: ModelContext({}),\n * });\n * ```\n */\nexport function attachDefaultPeers<\n  T extends (...args: any[]) => ResourceElement<any>,\n>(resource: T, peers: DefaultPeers): void {\n  const resourceWithPeers = resource as T & ResourceWithDefaultPeers;\n  const existing = resourceWithPeers[DEFAULT_PEERS] ?? {};\n\n  for (const key of Object.keys(peers)) {\n    if (key in existing) {\n      throw new Error(\n        `Default peer \"${key}\" is already attached to this resource`,\n      );\n    }\n  }\n\n  resourceWithPeers[DEFAULT_PEERS] = { ...existing, ...peers };\n}\n\n/**\n * Gets the default peers attached to a resource, if any.\n */\nexport function getDefaultPeers<\n  T extends (...args: any[]) => ResourceElement<any>,\n>(resource: T): DefaultPeers | undefined {\n  return (resource as T & ResourceWithDefaultPeers)[DEFAULT_PEERS];\n}\n"],"names":[],"mappings":";;;;;;AAIA;;CAEC,GACD,MAAM,gBAAgB,OAAO;AA8CtB,SAAS,mBAEd,QAAW,EAAE,KAAmB;IAChC,MAAM,oBAAoB;IAC1B,MAAM,WAAW,iBAAiB,CAAC,cAAc,IAAI,CAAC;IAEtD,KAAK,MAAM,OAAO,OAAO,IAAI,CAAC,OAAQ;QACpC,IAAI,OAAO,UAAU;YACnB,MAAM,IAAI,MACR,CAAC,cAAc,EAAE,IAAI,sCAAsC,CAAC;QAEhE;IACF;IAEA,iBAAiB,CAAC,cAAc,GAAG;QAAE,GAAG,QAAQ;QAAE,GAAG,KAAK;IAAC;AAC7D;AAKO,SAAS,gBAEd,QAAW;IACX,OAAO,AAAC,QAAyC,CAAC,cAAc;AAClE"}},
    {"offset": {"line": 1365, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/utils/split-clients.ts"],"sourcesContent":["import { Derived, DerivedElement } from \"../derived\";\nimport type {\n  AssistantClient,\n  ClientElement,\n  ClientNames,\n} from \"../types/client\";\nimport { getDefaultPeers } from \"../attach-default-peers\";\nimport type { useAui } from \"../use-aui\";\nimport { tapMemo } from \"@creatorem/ai-tap\";\n\nexport type RootClients = Partial<\n  Record<ClientNames, ClientElement<ClientNames>>\n>;\nexport type DerivedClients = Partial<\n  Record<ClientNames, DerivedElement<ClientNames>>\n>;\n\n/**\n * Splits a clients object into root clients and derived clients.\n *\n * @param clients - The clients input object to split\n * @returns An object with { rootClients, derivedClients }\n *\n * @example\n * ```typescript\n * const clients = {\n *   foo: RootClient({ ... }),\n *   bar: Derived({ ... }),\n * };\n *\n * const { rootClients, derivedClients } = splitClients(clients);\n * // rootClients = { foo: ... }\n * // derivedClients = { bar: ... }\n * ```\n */\nfunction splitClients(clients: useAui.Props, baseClient: AssistantClient) {\n  const rootClients: RootClients = {};\n  const derivedClients: DerivedClients = {};\n\n  for (const [key, clientElement] of Object.entries(clients) as [\n    keyof useAui.Props,\n    NonNullable<useAui.Props[keyof useAui.Props]>,\n  ][]) {\n    if (clientElement.type === Derived) {\n      derivedClients[key] = clientElement as DerivedElement<ClientNames>;\n    } else {\n      rootClients[key] = clientElement as ClientElement<ClientNames>;\n    }\n  }\n\n  // Recursively gather all default peers, flattening nested ones\n  const gatherDefaultPeers = (\n    clientElement: ClientElement<ClientNames>,\n    visited = new Set<ClientElement<ClientNames>>(),\n  ): Array<\n    [ClientNames, ClientElement<ClientNames> | DerivedElement<ClientNames>]\n  > => {\n    // Prevent infinite loops\n    if (visited.has(clientElement)) return [];\n    visited.add(clientElement);\n\n    const defaultPeers = getDefaultPeers(clientElement.type);\n    if (!defaultPeers) return [];\n\n    const result: Array<\n      [ClientNames, ClientElement<ClientNames> | DerivedElement<ClientNames>]\n    > = [];\n\n    for (const [key, peerElement] of Object.entries(defaultPeers) as [\n      ClientNames,\n      ClientElement<ClientNames> | DerivedElement<ClientNames>,\n    ][]) {\n      result.push([key, peerElement]);\n\n      // If this peer is a root client with its own default peers, recursively gather them\n      if (peerElement.type !== Derived<ClientNames>) {\n        const nestedPeers = gatherDefaultPeers(\n          peerElement as ClientElement<ClientNames>,\n          visited,\n        );\n        result.push(...nestedPeers);\n      }\n    }\n\n    return result;\n  };\n\n  // Apply flattened default peers for each root client\n  for (const [_clientKey, clientElement] of Object.entries(rootClients) as [\n    ClientNames,\n    ClientElement<ClientNames>,\n  ][]) {\n    const allPeers = gatherDefaultPeers(clientElement);\n\n    for (const [key, peerElement] of allPeers) {\n      // Skip if already exists (first wins)\n      if (\n        key in rootClients ||\n        key in derivedClients ||\n        baseClient[key].source !== null\n      )\n        continue;\n\n      if (peerElement.type === Derived<ClientNames>) {\n        derivedClients[key] = peerElement as DerivedElement<ClientNames>;\n      } else {\n        rootClients[key] = peerElement as ClientElement<ClientNames>;\n      }\n    }\n  }\n\n  return { rootClients, derivedClients };\n}\n\nconst tapShallowMemoObject = <T extends object>(object: T) => {\n  // biome-ignore lint/correctness/useExhaustiveDependencies: shallow memo\n  return tapMemo(() => object, [...Object.entries(object).flat()]);\n};\n\nexport const tapSplitClients = (\n  clients: useAui.Props,\n  baseClient: AssistantClient,\n) => {\n  const { rootClients, derivedClients } = splitClients(clients, baseClient);\n\n  return {\n    rootClients: tapShallowMemoObject(rootClients),\n    derivedClients: tapShallowMemoObject(derivedClients),\n  };\n};\n"],"names":[],"mappings":";;;;AAAA;AAMA;AAEA;;;;AASA;;;;;;;;;;;;;;;;;CAiBC,GACD,SAAS,aAAa,OAAqB,EAAE,UAA2B;IACtE,MAAM,cAA2B,CAAC;IAClC,MAAM,iBAAiC,CAAC;IAExC,KAAK,MAAM,CAAC,KAAK,cAAc,IAAI,OAAO,OAAO,CAAC,SAG7C;QACH,IAAI,cAAc,IAAI,KAAK,8IAAO,EAAE;YAClC,cAAc,CAAC,IAAI,GAAG;QACxB,OAAO;YACL,WAAW,CAAC,IAAI,GAAG;QACrB;IACF;IAEA,+DAA+D;IAC/D,MAAM,qBAAqB,CACzB,eACA,UAAU,IAAI,KAAiC;QAI/C,yBAAyB;QACzB,IAAI,QAAQ,GAAG,CAAC,gBAAgB,OAAO,EAAE;QACzC,QAAQ,GAAG,CAAC;QAEZ,MAAM,eAAe,IAAA,yKAAe,EAAC,cAAc,IAAI;QACvD,IAAI,CAAC,cAAc,OAAO,EAAE;QAE5B,MAAM,SAEF,EAAE;QAEN,KAAK,MAAM,CAAC,KAAK,YAAY,IAAI,OAAO,OAAO,CAAC,cAG3C;YACH,OAAO,IAAI,CAAC;gBAAC;gBAAK;aAAY;YAE9B,oFAAoF;YACpF,IAAI,YAAY,IAAI,KAAK,8IAAO,EAAe;gBAC7C,MAAM,cAAc,mBAClB,aACA;gBAEF,OAAO,IAAI,IAAI;YACjB;QACF;QAEA,OAAO;IACT;IAEA,qDAAqD;IACrD,KAAK,MAAM,CAAC,YAAY,cAAc,IAAI,OAAO,OAAO,CAAC,aAGpD;QACH,MAAM,WAAW,mBAAmB;QAEpC,KAAK,MAAM,CAAC,KAAK,YAAY,IAAI,SAAU;YACzC,sCAAsC;YACtC,IACE,OAAO,eACP,OAAO,kBACP,UAAU,CAAC,IAAI,CAAC,MAAM,KAAK,MAE3B;YAEF,IAAI,YAAY,IAAI,KAAK,8IAAO,EAAe;gBAC7C,cAAc,CAAC,IAAI,GAAG;YACxB,OAAO;gBACL,WAAW,CAAC,IAAI,GAAG;YACrB;QACF;IACF;IAEA,OAAO;QAAE;QAAa;IAAe;AACvC;AAEA,MAAM,uBAAuB,CAAmB;IAC9C,wEAAwE;IACxE,OAAO,IAAA,yJAAO,EAAC,IAAM,QAAQ;WAAI,OAAO,OAAO,CAAC,QAAQ,IAAI;KAAG;AACjE;AAEO,MAAM,kBAAkB,CAC7B,SACA;IAEA,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,aAAa,SAAS;IAE9D,OAAO;QACL,aAAa,qBAAqB;QAClC,gBAAgB,qBAAqB;IACvC;AACF"}},
    {"offset": {"line": 1458, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/types/events.ts"],"sourcesContent":["import type {\n  AssistantClientAccessor,\n  ClientEvents,\n  ClientNames,\n} from \"./client\";\n\n// --- Event Map Construction ---\ntype UnionToIntersection<U> = (\n  U extends unknown\n    ? (x: U) => void\n    : never\n) extends (x: infer I) => void\n  ? I\n  : never;\n\ntype ClientEventMap = UnionToIntersection<\n  { [K in ClientNames]: ClientEvents<K> }[ClientNames]\n>;\n\n// --- Core Types ---\n\ntype WildcardPayload = {\n  [K in keyof ClientEventMap]: { event: K; payload: ClientEventMap[K] };\n}[keyof ClientEventMap];\n\nexport type AssistantEventPayload = ClientEventMap & { \"*\": WildcardPayload };\n\nexport type AssistantEventName = keyof AssistantEventPayload;\n\ntype EventSource<T extends AssistantEventName> =\n  T extends `${infer Source}.${string}` ? Source : never;\n\n// --- Scoping ---\n\ntype ParentOf<K extends ClientNames> =\n  AssistantClientAccessor<K> extends { source: infer S }\n    ? S extends ClientNames\n      ? S\n      : never\n    : never;\n\ntype AncestorsOf<\n  K extends ClientNames,\n  Seen extends ClientNames = never,\n> = K extends Seen\n  ? never\n  : ParentOf<K> extends never\n    ? never\n    : ParentOf<K> | AncestorsOf<ParentOf<K>, Seen | K>;\n\n/** Valid scopes: `\"*\"` | event source | ancestors of event source */\nexport type AssistantEventScope<TEvent extends AssistantEventName> =\n  | \"*\"\n  | EventSource<TEvent>\n  | (EventSource<TEvent> extends ClientNames\n      ? AncestorsOf<EventSource<TEvent>>\n      : never);\n\n// --- Selection & Callbacks ---\n\nexport type AssistantEventSelector<TEvent extends AssistantEventName> =\n  | TEvent\n  | { scope: AssistantEventScope<TEvent>; event: TEvent };\n\nexport const normalizeEventSelector = <TEvent extends AssistantEventName>(\n  selector: AssistantEventSelector<TEvent>,\n) => {\n  if (typeof selector === \"string\") {\n    const source = selector.split(\".\")[0] as AssistantEventScope<TEvent>;\n    return { scope: source, event: selector };\n  }\n  return { scope: selector.scope, event: selector.event };\n};\n\nexport type AssistantEventCallback<TEvent extends AssistantEventName> = (\n  payload: AssistantEventPayload[TEvent],\n) => void;\n"],"names":[],"mappings":";;;;AAgEO,MAAM,yBAAyB,CACpC;IAEA,IAAI,OAAO,aAAa,UAAU;QAChC,MAAM,SAAS,SAAS,KAAK,CAAC,IAAI,CAAC,EAAE;QACrC,OAAO;YAAE,OAAO;YAAQ,OAAO;QAAS;IAC1C;IACA,OAAO;QAAE,OAAO,SAAS,KAAK;QAAE,OAAO,SAAS,KAAK;IAAC;AACxD"}},
    {"offset": {"line": 1479, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/utils/notification-manager.ts"],"sourcesContent":["import { resource } from \"@creatorem/ai-tap\";\nimport type { ClientStack } from \"./tap-client-stack-context\";\nimport type {\n  AssistantEventName,\n  AssistantEventPayload,\n} from \"../types/events\";\nimport { Unsubscribe } from \"../types/client\";\nimport { tapConst } from \"@creatorem/ai-tap\";\n\ntype InternalCallback = (payload: unknown, clientStack: ClientStack) => void;\n\nexport type NotificationManager = {\n  on<TEvent extends AssistantEventName>(\n    event: TEvent,\n    callback: (\n      payload: AssistantEventPayload[TEvent],\n      clientStack: ClientStack,\n    ) => void,\n  ): Unsubscribe;\n  emit<TEvent extends Exclude<AssistantEventName, \"*\">>(\n    event: TEvent,\n    payload: AssistantEventPayload[TEvent],\n    clientStack: ClientStack,\n  ): void;\n  subscribe(callback: () => void): Unsubscribe;\n  notifySubscribers(): void;\n};\n\nexport const NotificationManager = resource((): NotificationManager => {\n  return tapConst(() => {\n    const listeners = new Map<string, Set<InternalCallback>>();\n    const wildcardListeners = new Set<InternalCallback>();\n    const subscribers = new Set<() => void>();\n\n    return {\n      on(event, callback) {\n        const cb = callback as InternalCallback;\n        if (event === \"*\") {\n          wildcardListeners.add(cb);\n          return () => wildcardListeners.delete(cb);\n        }\n\n        let set = listeners.get(event);\n        if (!set) {\n          set = new Set();\n          listeners.set(event, set);\n        }\n        set.add(cb);\n\n        return () => {\n          set!.delete(cb);\n          if (set!.size === 0) listeners.delete(event);\n        };\n      },\n\n      emit(event, payload, clientStack) {\n        const eventListeners = listeners.get(event);\n        if (!eventListeners && wildcardListeners.size === 0) return;\n\n        queueMicrotask(() => {\n          const errors = [];\n          if (eventListeners) {\n            for (const cb of eventListeners) {\n              try {\n                cb(payload, clientStack);\n              } catch (e) {\n                errors.push(e);\n              }\n            }\n          }\n          if (wildcardListeners.size > 0) {\n            const wrapped = { event, payload };\n            for (const cb of wildcardListeners) {\n              try {\n                cb(wrapped, clientStack);\n              } catch (e) {\n                errors.push(e);\n              }\n            }\n          }\n\n          if (errors.length > 0) {\n            if (errors.length === 1) {\n              throw errors[0];\n            } else {\n              for (const error of errors) {\n                console.error(error);\n              }\n              throw new AggregateError(\n                errors,\n                \"Errors occurred during event emission\",\n              );\n            }\n          }\n        });\n      },\n\n      subscribe(callback) {\n        subscribers.add(callback);\n        return () => subscribers.delete(callback);\n      },\n\n      notifySubscribers() {\n        for (const cb of subscribers) {\n          try {\n            cb();\n          } catch (e) {\n            console.error(\"NotificationManager: subscriber callback error\", e);\n          }\n        }\n      },\n    };\n  }, []);\n});\n"],"names":[],"mappings":";;;;AAAA;AAOA;;;AAqBO,MAAM,sBAAsB,IAAA,sJAAQ,EAAC;IAC1C,OAAO,IAAA,2JAAQ,EAAC;QACd,MAAM,YAAY,IAAI;QACtB,MAAM,oBAAoB,IAAI;QAC9B,MAAM,cAAc,IAAI;QAExB,OAAO;YACL,IAAG,KAAK,EAAE,QAAQ;gBAChB,MAAM,KAAK;gBACX,IAAI,UAAU,KAAK;oBACjB,kBAAkB,GAAG,CAAC;oBACtB,OAAO,IAAM,kBAAkB,MAAM,CAAC;gBACxC;gBAEA,IAAI,MAAM,UAAU,GAAG,CAAC;gBACxB,IAAI,CAAC,KAAK;oBACR,MAAM,IAAI;oBACV,UAAU,GAAG,CAAC,OAAO;gBACvB;gBACA,IAAI,GAAG,CAAC;gBAER,OAAO;oBACL,IAAK,MAAM,CAAC;oBACZ,IAAI,IAAK,IAAI,KAAK,GAAG,UAAU,MAAM,CAAC;gBACxC;YACF;YAEA,MAAK,KAAK,EAAE,OAAO,EAAE,WAAW;gBAC9B,MAAM,iBAAiB,UAAU,GAAG,CAAC;gBACrC,IAAI,CAAC,kBAAkB,kBAAkB,IAAI,KAAK,GAAG;gBAErD,eAAe;oBACb,MAAM,SAAS,EAAE;oBACjB,IAAI,gBAAgB;wBAClB,KAAK,MAAM,MAAM,eAAgB;4BAC/B,IAAI;gCACF,GAAG,SAAS;4BACd,EAAE,OAAO,GAAG;gCACV,OAAO,IAAI,CAAC;4BACd;wBACF;oBACF;oBACA,IAAI,kBAAkB,IAAI,GAAG,GAAG;wBAC9B,MAAM,UAAU;4BAAE;4BAAO;wBAAQ;wBACjC,KAAK,MAAM,MAAM,kBAAmB;4BAClC,IAAI;gCACF,GAAG,SAAS;4BACd,EAAE,OAAO,GAAG;gCACV,OAAO,IAAI,CAAC;4BACd;wBACF;oBACF;oBAEA,IAAI,OAAO,MAAM,GAAG,GAAG;wBACrB,IAAI,OAAO,MAAM,KAAK,GAAG;4BACvB,MAAM,MAAM,CAAC,EAAE;wBACjB,OAAO;4BACL,KAAK,MAAM,SAAS,OAAQ;gCAC1B,QAAQ,KAAK,CAAC;4BAChB;4BACA,MAAM,IAAI,eACR,QACA;wBAEJ;oBACF;gBACF;YACF;YAEA,WAAU,QAAQ;gBAChB,YAAY,GAAG,CAAC;gBAChB,OAAO,IAAM,YAAY,MAAM,CAAC;YAClC;YAEA;gBACE,KAAK,MAAM,MAAM,YAAa;oBAC5B,IAAI;wBACF;oBACF,EAAE,OAAO,GAAG;wBACV,QAAQ,KAAK,CAAC,kDAAkD;oBAClE;gBACF;YACF;QACF;IACF,GAAG,EAAE;AACP"}},
    {"offset": {"line": 1569, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/utils/tap-assistant-context.ts"],"sourcesContent":["import {\n  createResourceContext,\n  tap,\n  withContextProvider,\n  tapEffectEvent,\n} from \"@creatorem/ai-tap\";\nimport type {\n  AssistantEventName,\n  AssistantEventPayload,\n} from \"../types/events\";\nimport type { AssistantClient } from \"../types/client\";\nimport { tapClientStack, type ClientStack } from \"./tap-client-stack-context\";\n\ntype EmitFn = <TEvent extends Exclude<AssistantEventName, \"*\">>(\n  event: TEvent,\n  payload: AssistantEventPayload[TEvent],\n  clientStack: ClientStack,\n) => void;\n\nexport type AssistantTapContextValue = {\n  clientRef: { parent: AssistantClient; current: AssistantClient | null };\n  emit: EmitFn;\n};\n\nconst AssistantTapContext =\n  createResourceContext<AssistantTapContextValue | null>(null);\n\nexport const withAssistantTapContextProvider = <TResult>(\n  value: AssistantTapContextValue,\n  fn: () => TResult,\n) => {\n  return withContextProvider(AssistantTapContext, value, fn);\n};\n\nconst tapAssistantTapContext = () => {\n  const ctx = tap(AssistantTapContext);\n  if (!ctx) throw new Error(\"AssistantTapContext is not available\");\n\n  return ctx;\n};\n\nexport const tapAssistantClientRef = () => {\n  return tapAssistantTapContext().clientRef;\n};\n\nexport const tapAssistantEmit = () => {\n  const { emit } = tapAssistantTapContext();\n  const clientStack = tapClientStack();\n\n  return tapEffectEvent(\n    <TEvent extends Exclude<AssistantEventName, \"*\">>(\n      event: TEvent,\n      payload: AssistantEventPayload[TEvent],\n    ) => {\n      emit(event, payload, clientStack);\n    },\n  );\n};\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AAWA;;;AAaA,MAAM,sBACJ,IAAA,kKAAqB,EAAkC;AAElD,MAAM,kCAAkC,CAC7C,OACA;IAEA,OAAO,IAAA,gKAAmB,EAAC,qBAAqB,OAAO;AACzD;AAEA,MAAM,yBAAyB;IAC7B,MAAM,MAAM,IAAA,gJAAG,EAAC;IAChB,IAAI,CAAC,KAAK,MAAM,IAAI,MAAM;IAE1B,OAAO;AACT;AAEO,MAAM,wBAAwB;IACnC,OAAO,yBAAyB,SAAS;AAC3C;AAEO,MAAM,mBAAmB;IAC9B,MAAM,EAAE,IAAI,EAAE,GAAG;IACjB,MAAM,cAAc,IAAA,wLAAc;IAElC,OAAO,IAAA,2KAAc,EACnB,CACE,OACA;QAEA,KAAK,OAAO,SAAS;IACvB;AAEJ"}},
    {"offset": {"line": 1605, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/use-aui.tsx"],"sourcesContent":["\"use client\";\n\nimport { useResource } from \"@creatorem/ai-tap/react\";\nimport {\n  resource,\n  tapMemo,\n  tapResources,\n  tapEffectEvent,\n  tapInlineResource,\n  tapEffect,\n  tapRef,\n  tapResource,\n  withKey,\n} from \"@creatorem/ai-tap\";\nimport type {\n  AssistantClient,\n  AssistantClientAccessor,\n  ClientNames,\n  ClientElement,\n  ClientMeta,\n} from \"./types/client\";\nimport { Derived, DerivedElement } from \"./derived\";\nimport { StoreResource } from \"./utils/store-resource\";\nimport {\n  useAssistantContextValue,\n  DefaultAssistantClient,\n  createRootAssistantClient,\n} from \"./utils/react-assistant-context\";\nimport {\n  DerivedClients,\n  RootClients,\n  tapSplitClients,\n} from \"./utils/split-clients\";\nimport {\n  normalizeEventSelector,\n  type AssistantEventName,\n  type AssistantEventCallback,\n  type AssistantEventSelector,\n} from \"./types/events\";\nimport { NotificationManager } from \"./utils/notification-manager\";\nimport { withAssistantTapContextProvider } from \"./utils/tap-assistant-context\";\nimport { tapClientResource } from \"./tap-client-resource\";\nimport { getClientIndex } from \"./utils/tap-client-stack-context\";\nimport {\n  PROXIED_ASSISTANT_STATE_SYMBOL,\n  createProxiedAssistantState,\n} from \"./utils/proxied-assistant-state\";\n\nconst RootClientResource = resource(\n  <K extends ClientNames>({\n    element,\n    emit,\n    clientRef,\n  }: {\n    element: ClientElement<K>;\n    emit: NotificationManager[\"emit\"];\n    clientRef: { parent: AssistantClient; current: AssistantClient | null };\n  }) => {\n    const { methods, state } = withAssistantTapContextProvider(\n      { clientRef, emit },\n      () => tapClientResource(element),\n    );\n    return tapMemo(() => ({ state, methods }), [methods, state]);\n  },\n);\n\nconst RootClientAccessorResource = resource(\n  <K extends ClientNames>({\n    element,\n    notifications,\n    clientRef,\n    name,\n  }: {\n    element: ClientElement<K>;\n    notifications: NotificationManager;\n    clientRef: { parent: AssistantClient; current: AssistantClient | null };\n    name: K;\n  }): AssistantClientAccessor<K> => {\n    const store = tapInlineResource(\n      StoreResource(\n        RootClientResource({ element, emit: notifications.emit, clientRef }),\n      ),\n    );\n\n    tapEffect(() => {\n      return store.subscribe(notifications.notifySubscribers);\n    }, [store, notifications]);\n\n    return tapMemo(() => {\n      const clientFunction = () => store.getValue().methods;\n      Object.defineProperties(clientFunction, {\n        source: {\n          value: \"root\" as const,\n          writable: false,\n        },\n        query: {\n          value: {} as Record<string, never>,\n          writable: false,\n        },\n        name: {\n          value: name,\n          configurable: true,\n        },\n      });\n      return clientFunction as AssistantClientAccessor<K>;\n    }, [store, name]);\n  },\n);\n\nconst NoOpRootClientsAccessorsResource = resource(() => {\n  return tapMemo(\n    () => ({\n      clients: [] as AssistantClientAccessor<ClientNames>[],\n      subscribe: undefined,\n      on: undefined,\n    }),\n    [],\n  );\n});\n\nconst RootClientsAccessorsResource = resource(\n  ({\n    clients: inputClients,\n    clientRef,\n  }: {\n    clients: RootClients;\n    clientRef: { parent: AssistantClient; current: AssistantClient | null };\n  }) => {\n    const notifications = tapInlineResource(NotificationManager());\n\n    tapEffect(\n      () => clientRef.parent.subscribe(notifications.notifySubscribers),\n      [clientRef, notifications],\n    );\n\n    const results = tapResources(\n      () =>\n        Object.keys(inputClients).map((key) =>\n          withKey(\n            key,\n            RootClientAccessorResource({\n              element: inputClients[key as keyof typeof inputClients]!,\n              notifications,\n              clientRef,\n              name: key as keyof typeof inputClients,\n            }),\n          ),\n        ),\n      [inputClients, notifications, clientRef],\n    );\n\n    return tapMemo(() => {\n      return {\n        clients: results,\n        subscribe: notifications.subscribe,\n        on: function <TEvent extends AssistantEventName>(\n          this: AssistantClient,\n          selector: AssistantEventSelector<TEvent>,\n          callback: AssistantEventCallback<TEvent>,\n        ) {\n          if (!this) {\n            throw new Error(\n              \"const { on } = useAui() is not supported. Use aui.on() instead.\",\n            );\n          }\n\n          const { scope, event } = normalizeEventSelector(selector);\n\n          if (scope !== \"*\") {\n            const source = this[scope as ClientNames].source;\n            if (source === null) {\n              throw new Error(\n                `Scope \"${scope}\" is not available. Use { scope: \"*\", event: \"${event}\" } to listen globally.`,\n              );\n            }\n          }\n\n          const localUnsub = notifications.on(event, (payload, clientStack) => {\n            if (scope === \"*\") {\n              callback(payload);\n              return;\n            }\n\n            const scopeClient = this[scope as ClientNames]();\n            const index = getClientIndex(scopeClient);\n            if (scopeClient === clientStack[index]) {\n              callback(payload);\n            }\n          });\n          if (\n            scope !== \"*\" &&\n            clientRef.parent[scope as ClientNames].source === null\n          )\n            return localUnsub;\n\n          const parentUnsub = clientRef.parent.on(selector, callback);\n\n          return () => {\n            localUnsub();\n            parentUnsub();\n          };\n        },\n      };\n    }, [results, notifications, clientRef]);\n  },\n);\n\ntype MetaMemo<K extends ClientNames> = {\n  meta?: ClientMeta<K>;\n  dep?: unknown;\n};\n\nconst getMeta = <K extends ClientNames>(\n  props: Derived.Props<K>,\n  clientRef: { parent: AssistantClient; current: AssistantClient | null },\n  memo: MetaMemo<K>,\n): ClientMeta<K> => {\n  if (\"source\" in props && \"query\" in props) return props;\n  if (memo.dep === props) return memo.meta!;\n  const meta = props.getMeta(clientRef.current!);\n  memo.meta = meta;\n  memo.dep = props;\n  return meta;\n};\n\nconst DerivedClientAccessorResource = resource(\n  <K extends ClientNames>({\n    element,\n    clientRef,\n    name,\n  }: {\n    element: DerivedElement<K>;\n    clientRef: { parent: AssistantClient; current: AssistantClient | null };\n    name: K;\n  }) => {\n    const get = tapEffectEvent(() => element.props);\n\n    return tapMemo(() => {\n      const clientFunction = () => get().get(clientRef.current!);\n      const metaMemo = {};\n      Object.defineProperties(clientFunction, {\n        source: {\n          get: () => getMeta(get(), clientRef, metaMemo).source,\n        },\n        query: {\n          get: () => getMeta(get(), clientRef, metaMemo).query,\n        },\n        name: {\n          value: name,\n          configurable: true,\n        },\n      });\n      return clientFunction as AssistantClientAccessor<K>;\n    }, [clientRef, name]);\n  },\n);\n\nconst DerivedClientsAccessorsResource = resource(\n  ({\n    clients,\n    clientRef,\n  }: {\n    clients: DerivedClients;\n    clientRef: { parent: AssistantClient; current: AssistantClient | null };\n  }) => {\n    return tapResources(\n      () =>\n        Object.keys(clients).map((key) =>\n          withKey(\n            key,\n            DerivedClientAccessorResource({\n              element: clients[key as keyof typeof clients]!,\n              clientRef,\n              name: key as keyof typeof clients,\n            }),\n          ),\n        ),\n      [clients, clientRef],\n    );\n  },\n);\n\n/**\n * Resource that creates an extended AssistantClient.\n */\nexport const AssistantClientResource = resource(\n  ({\n    parent,\n    clients,\n  }: {\n    parent: AssistantClient;\n    clients: useAui.Props;\n  }): AssistantClient => {\n    const { rootClients, derivedClients } = tapSplitClients(clients, parent);\n\n    const clientRef = tapRef({\n      parent: parent,\n      current: null as AssistantClient | null,\n    }).current;\n\n    tapEffect(() => {\n      // if (clientRef.current && clientRef.current !== client)\n      //   throw new Error(\"clientRef.current !== client\");\n\n      clientRef.current = client;\n    });\n\n    const rootFields = tapResource(\n      Object.keys(rootClients).length > 0\n        ? RootClientsAccessorsResource({ clients: rootClients, clientRef })\n        : NoOpRootClientsAccessorsResource(),\n    );\n\n    const derivedFields = tapInlineResource(\n      DerivedClientsAccessorsResource({ clients: derivedClients, clientRef }),\n    );\n\n    const client = tapMemo(() => {\n      // Swap DefaultAssistantClient -> createRootAssistantClient at root to change error message\n      const proto =\n        parent === DefaultAssistantClient\n          ? createRootAssistantClient()\n          : parent;\n\n      const client = Object.create(proto) as AssistantClient;\n      Object.assign(client, {\n        subscribe: rootFields.subscribe ?? parent.subscribe,\n        on: rootFields.on ?? parent.on,\n        [PROXIED_ASSISTANT_STATE_SYMBOL]: createProxiedAssistantState(client),\n      });\n\n      for (const field of rootFields.clients) {\n        (client as any)[field.name] = field;\n      }\n      for (const field of derivedFields) {\n        (client as any)[field.name] = field;\n      }\n\n      return client;\n    }, [parent, rootFields, derivedFields]);\n\n    if (clientRef.current === null) {\n      clientRef.current = client;\n    }\n\n    return client;\n  },\n);\n\nexport namespace useAui {\n  export type Props = {\n    [K in ClientNames]?: ClientElement<K> | DerivedElement<K>;\n  };\n}\n\nexport function useAui(): AssistantClient;\nexport function useAui(clients: useAui.Props): AssistantClient;\nexport function useAui(\n  clients: useAui.Props,\n  config: { parent: null | AssistantClient },\n): AssistantClient;\n/** @deprecated This API is highly experimental and may be changed in a minor release */\nexport function useAui(\n  clients?: useAui.Props,\n  { parent }: { parent: null | AssistantClient } = {\n    parent: useAssistantContextValue(),\n  },\n): AssistantClient {\n  if (clients) {\n    return useResource(\n      AssistantClientResource({\n        parent: parent ?? DefaultAssistantClient,\n        clients,\n      }),\n    );\n  }\n  if (parent === null)\n    throw new Error(\"received null parent, this usage is not allowed\");\n  return parent;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1854, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/tap-client-lookup.ts"],"sourcesContent":["import {\n  tapInlineResource,\n  tapMemo,\n  tapResources,\n  type ResourceElement,\n} from \"@creatorem/ai-tap\";\nimport type { ClientMethods, ClientOutputOf } from \"./types/client\";\nimport { ClientResource } from \"./tap-client-resource\";\nimport { wrapperResource } from \"./wrapper-resource\";\n\nconst ClientResourceWithKey = wrapperResource(\n  <TState, TMethods extends ClientMethods>(\n    el: ResourceElement<ClientOutputOf<TState, TMethods>>,\n  ) => {\n    if (el.key === undefined) {\n      throw new Error(\"tapClientResource: Element has no key\");\n    }\n    return tapInlineResource(ClientResource(el)) as ClientOutputOf<\n      TState,\n      TMethods\n    > & { key: string | number };\n  },\n);\n\nexport function tapClientLookup<TState, TMethods extends ClientMethods>(\n  getElements: () => readonly ResourceElement<\n    ClientOutputOf<TState, TMethods>\n  >[],\n  getElementsDeps: readonly unknown[],\n): {\n  state: TState[];\n  get: (lookup: { index: number } | { key: string }) => TMethods;\n} {\n  const resources = tapResources(\n    () => getElements().map((el) => ClientResourceWithKey(el)),\n    // biome-ignore lint/correctness/useExhaustiveDependencies: getElementsDeps is passed through from caller\n    getElementsDeps,\n  );\n\n  const keys = tapMemo(() => Object.keys(resources), [resources]);\n\n  // For arrays, track element key -> index mapping\n  const keyToIndex = tapMemo(() => {\n    return resources.reduce(\n      (acc, resource, index) => {\n        acc[resource.key] = index;\n        return acc;\n      },\n      {} as Record<string, number>,\n    );\n  }, [resources]);\n\n  const state = tapMemo(() => {\n    return resources.map((r) => r.state);\n  }, [resources]);\n\n  return {\n    state,\n    get: (lookup: { index: number } | { key: string }) => {\n      if (\"index\" in lookup) {\n        if (lookup.index < 0 || lookup.index >= keys.length) {\n          throw new Error(\n            `tapClientLookup: Index ${lookup.index} out of bounds (length: ${keys.length})`,\n          );\n        }\n        return resources[lookup.index]!.methods;\n      }\n\n      const index = keyToIndex[lookup.key];\n      if (index === undefined) {\n        throw new Error(`tapClientLookup: Key \"${lookup.key}\" not found`);\n      }\n      return resources[index]!.methods;\n    },\n  };\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAOA;AACA;;;;AAEA,MAAM,wBAAwB,IAAA,kKAAe,EAC3C,CACE;IAEA,IAAI,GAAG,GAAG,KAAK,WAAW;QACxB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO,IAAA,iLAAiB,EAAC,IAAA,uKAAc,EAAC;AAI1C;AAGK,SAAS,gBACd,WAEG,EACH,eAAmC;IAKnC,MAAM,YAAY,IAAA,mKAAY,EAC5B,IAAM,cAAc,GAAG,CAAC,CAAC,KAAO,sBAAsB,MACtD,yGAAyG;IACzG;IAGF,MAAM,OAAO,IAAA,yJAAO,EAAC,IAAM,OAAO,IAAI,CAAC,YAAY;QAAC;KAAU;IAE9D,iDAAiD;IACjD,MAAM,aAAa,IAAA,yJAAO,EAAC;QACzB,OAAO,UAAU,MAAM,CACrB,CAAC,KAAK,UAAU;YACd,GAAG,CAAC,SAAS,GAAG,CAAC,GAAG;YACpB,OAAO;QACT,GACA,CAAC;IAEL,GAAG;QAAC;KAAU;IAEd,MAAM,QAAQ,IAAA,yJAAO,EAAC;QACpB,OAAO,UAAU,GAAG,CAAC,CAAC,IAAM,EAAE,KAAK;IACrC,GAAG;QAAC;KAAU;IAEd,OAAO;QACL;QACA,KAAK,CAAC;YACJ,IAAI,WAAW,QAAQ;gBACrB,IAAI,OAAO,KAAK,GAAG,KAAK,OAAO,KAAK,IAAI,KAAK,MAAM,EAAE;oBACnD,MAAM,IAAI,MACR,CAAC,uBAAuB,EAAE,OAAO,KAAK,CAAC,wBAAwB,EAAE,KAAK,MAAM,CAAC,CAAC,CAAC;gBAEnF;gBACA,OAAO,SAAS,CAAC,OAAO,KAAK,CAAC,CAAE,OAAO;YACzC;YAEA,MAAM,QAAQ,UAAU,CAAC,OAAO,GAAG,CAAC;YACpC,IAAI,UAAU,WAAW;gBACvB,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,OAAO,GAAG,CAAC,WAAW,CAAC;YAClE;YACA,OAAO,SAAS,CAAC,MAAM,CAAE,OAAO;QAClC;IACF;AACF"}},
    {"offset": {"line": 1913, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/util-hooks/tap-subscribable.ts"],"sourcesContent":["import { tapState, tapEffect } from \"@creatorem/ai-tap\";\nimport { SubscribableWithState } from \"../runtime/subscribable/subscribable\";\n\nexport const tapSubscribable = <T>(\n  subscribable: Omit<SubscribableWithState<T, any>, \"path\">,\n) => {\n  const [, setState] = tapState(subscribable.getState);\n  tapEffect(() => {\n    setState(subscribable.getState());\n    return subscribable.subscribe(() => {\n      setState(subscribable.getState());\n    });\n  }, [subscribable]);\n\n  return subscribable.getState();\n};\n"],"names":[],"mappings":";;;;AAAA;AAAA;;AAGO,MAAM,kBAAkB,CAC7B;IAEA,MAAM,GAAG,SAAS,GAAG,IAAA,2JAAQ,EAAC,aAAa,QAAQ;IACnD,IAAA,6JAAS,EAAC;QACR,SAAS,aAAa,QAAQ;QAC9B,OAAO,aAAa,SAAS,CAAC;YAC5B,SAAS,aAAa,QAAQ;QAChC;IACF,GAAG;QAAC;KAAa;IAEjB,OAAO,aAAa,QAAQ;AAC9B"}},
    {"offset": {"line": 1936, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/client/thread-list-item-runtime-client.ts"],"sourcesContent":["import { resource, tapEffect } from \"@creatorem/ai-tap\";\nimport { type ClientOutput, tapAssistantEmit } from \"@creatorem/ai-store\";\nimport {\n  ThreadListItemEventType,\n  ThreadListItemRuntime,\n} from \"../runtime/thread-list-item-runtime\";\nimport { Unsubscribe } from \"../../types\";\nimport { tapSubscribable } from \"../util-hooks/tap-subscribable\";\n\nexport const ThreadListItemClient = resource(\n  ({\n    runtime,\n  }: {\n    runtime: ThreadListItemRuntime;\n  }): ClientOutput<\"threadListItem\"> => {\n    const state = tapSubscribable(runtime);\n    const emit = tapAssistantEmit();\n\n    // Bind thread list item events to event manager\n    tapEffect(() => {\n      const unsubscribers: Unsubscribe[] = [];\n\n      // Subscribe to thread list item events\n      const threadListItemEvents: ThreadListItemEventType[] = [\n        \"switchedTo\",\n        \"switchedAway\",\n      ];\n\n      for (const event of threadListItemEvents) {\n        const unsubscribe = runtime.unstable_on(event, () => {\n          emit(`threadListItem.${event}`, {\n            threadId: runtime.getState()!.id,\n          });\n        });\n        unsubscribers.push(unsubscribe);\n      }\n\n      return () => {\n        for (const unsub of unsubscribers) unsub();\n      };\n    }, [runtime, emit]);\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        switchTo: runtime.switchTo,\n        rename: runtime.rename,\n        archive: runtime.archive,\n        unarchive: runtime.unarchive,\n        delete: runtime.delete,\n        generateTitle: runtime.generateTitle,\n        initialize: runtime.initialize,\n        detach: runtime.detach,\n        __internal_getRuntime: () => runtime,\n      },\n    };\n  },\n);\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;AAMA;;;;AAEO,MAAM,uBAAuB,IAAA,sJAAQ,EAC1C,CAAC,EACC,OAAO,EAGR;IACC,MAAM,QAAQ,IAAA,wMAAe,EAAC;IAC9B,MAAM,OAAO,IAAA,oLAAgB;IAE7B,gDAAgD;IAChD,IAAA,6JAAS,EAAC;QACR,MAAM,gBAA+B,EAAE;QAEvC,uCAAuC;QACvC,MAAM,uBAAkD;YACtD;YACA;SACD;QAED,KAAK,MAAM,SAAS,qBAAsB;YACxC,MAAM,cAAc,QAAQ,WAAW,CAAC,OAAO;gBAC7C,KAAK,CAAC,eAAe,EAAE,OAAO,EAAE;oBAC9B,UAAU,QAAQ,QAAQ,GAAI,EAAE;gBAClC;YACF;YACA,cAAc,IAAI,CAAC;QACrB;QAEA,OAAO;YACL,KAAK,MAAM,SAAS,cAAe;QACrC;IACF,GAAG;QAAC;QAAS;KAAK;IAElB,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,UAAU,QAAQ,QAAQ;YAC1B,QAAQ,QAAQ,MAAM;YACtB,SAAS,QAAQ,OAAO;YACxB,WAAW,QAAQ,SAAS;YAC5B,QAAQ,QAAQ,MAAM;YACtB,eAAe,QAAQ,aAAa;YACpC,YAAY,QAAQ,UAAU;YAC9B,QAAQ,QAAQ,MAAM;YACtB,uBAAuB,IAAM;QAC/B;IACF;AACF"}},
    {"offset": {"line": 1993, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/client/attachment-runtime-client.ts"],"sourcesContent":["import { resource } from \"@creatorem/ai-tap\";\nimport { type ClientOutput } from \"@creatorem/ai-store\";\nimport { AttachmentRuntime } from \"../runtime\";\nimport { tapSubscribable } from \"../util-hooks/tap-subscribable\";\n\nexport const AttachmentRuntimeClient = resource(\n  ({ runtime }: { runtime: AttachmentRuntime }): ClientOutput<\"attachment\"> => {\n    const state = tapSubscribable(runtime);\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        remove: runtime.remove,\n        __internal_getRuntime: () => runtime,\n      },\n    };\n  },\n);\n"],"names":[],"mappings":";;;;AAAA;AAGA;;;AAEO,MAAM,0BAA0B,IAAA,sJAAQ,EAC7C,CAAC,EAAE,OAAO,EAAkC;IAC1C,MAAM,QAAQ,IAAA,wMAAe,EAAC;IAE9B,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,QAAQ,QAAQ,MAAM;YACtB,uBAAuB,IAAM;QAC/B;IACF;AACF"}},
    {"offset": {"line": 2016, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/client/composer-runtime-client.ts"],"sourcesContent":["import {\n  resource,\n  tapMemo,\n  tapEffect,\n  tapInlineResource,\n  type tapRef,\n  withKey,\n} from \"@creatorem/ai-tap\";\nimport {\n  type ClientOutput,\n  tapAssistantEmit,\n  tapClientLookup,\n} from \"@creatorem/ai-store\";\nimport {\n  ComposerRuntime,\n  EditComposerRuntime,\n} from \"../runtime/composer-runtime\";\nimport { Unsubscribe } from \"../../types\";\nimport { ComposerRuntimeEventType } from \"../runtime-cores/core/composer-runtime-core\";\nimport { ComposerState } from \"../../types/scopes\";\nimport { AttachmentRuntimeClient } from \"./attachment-runtime-client\";\nimport { tapSubscribable } from \"../util-hooks/tap-subscribable\";\n\nconst ComposerAttachmentClientByIndex = resource(\n  ({ runtime, index }: { runtime: ComposerRuntime; index: number }) => {\n    const attachmentRuntime = tapMemo(\n      () => runtime.getAttachmentByIndex(index),\n      [runtime, index],\n    );\n\n    return tapInlineResource(\n      AttachmentRuntimeClient({\n        runtime: attachmentRuntime,\n      }),\n    );\n  },\n);\n\nexport const ComposerClient = resource(\n  ({\n    threadIdRef,\n    messageIdRef,\n    runtime,\n  }: {\n    threadIdRef: tapRef.RefObject<string>;\n    messageIdRef?: tapRef.RefObject<string>;\n    runtime: ComposerRuntime;\n  }): ClientOutput<\"composer\"> => {\n    const runtimeState = tapSubscribable(runtime);\n    const emit = tapAssistantEmit();\n\n    // Bind composer events to event manager\n    tapEffect(() => {\n      const unsubscribers: Unsubscribe[] = [];\n\n      // Subscribe to composer events\n      const composerEvents: ComposerRuntimeEventType[] = [\n        \"send\",\n        \"attachmentAdd\",\n      ];\n\n      for (const event of composerEvents) {\n        const unsubscribe = runtime.unstable_on(event, () => {\n          emit(`composer.${event}`, {\n            threadId: threadIdRef.current,\n            ...(messageIdRef && { messageId: messageIdRef.current }),\n          });\n        });\n        unsubscribers.push(unsubscribe);\n      }\n\n      return () => {\n        for (const unsub of unsubscribers) unsub();\n      };\n    }, [runtime, emit, threadIdRef, messageIdRef]);\n\n    const attachments = tapClientLookup(\n      () =>\n        runtimeState.attachments.map((attachment, idx) =>\n          withKey(\n            attachment.id,\n            ComposerAttachmentClientByIndex({\n              runtime,\n              index: idx,\n            }),\n          ),\n        ),\n      [runtimeState.attachments, runtime],\n    );\n\n    const state = tapMemo<ComposerState>(() => {\n      return {\n        text: runtimeState.text,\n        role: runtimeState.role,\n        attachments: attachments.state,\n        runConfig: runtimeState.runConfig,\n        isEditing: runtimeState.isEditing,\n        canCancel: runtimeState.canCancel,\n        attachmentAccept: runtimeState.attachmentAccept,\n        isEmpty: runtimeState.isEmpty,\n        type: runtimeState.type ?? \"thread\",\n        dictation: runtimeState.dictation,\n      };\n    }, [runtimeState, attachments.state]);\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        setText: runtime.setText,\n        setRole: runtime.setRole,\n        setRunConfig: runtime.setRunConfig,\n        addAttachment: runtime.addAttachment,\n        reset: runtime.reset,\n        clearAttachments: runtime.clearAttachments,\n        send: runtime.send,\n        cancel: runtime.cancel,\n        beginEdit:\n          (runtime as EditComposerRuntime).beginEdit ??\n          (() => {\n            throw new Error(\"beginEdit is not supported in this runtime\");\n          }),\n        startDictation: runtime.startDictation,\n        stopDictation: runtime.stopDictation,\n        attachment: (selector) => {\n          if (\"id\" in selector) {\n            return attachments.get({ key: selector.id });\n          } else {\n            return attachments.get(selector);\n          }\n        },\n        __internal_getRuntime: () => runtime,\n      },\n    };\n  },\n);\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAYA;AACA;;;;;AAEA,MAAM,kCAAkC,IAAA,sJAAQ,EAC9C,CAAC,EAAE,OAAO,EAAE,KAAK,EAA+C;IAC9D,MAAM,oBAAoB,IAAA,yJAAO,EAC/B,IAAM,QAAQ,oBAAoB,CAAC,QACnC;QAAC;QAAS;KAAM;IAGlB,OAAO,IAAA,iLAAiB,EACtB,IAAA,qNAAuB,EAAC;QACtB,SAAS;IACX;AAEJ;AAGK,MAAM,iBAAiB,IAAA,sJAAQ,EACpC,CAAC,EACC,WAAW,EACX,YAAY,EACZ,OAAO,EAKR;IACC,MAAM,eAAe,IAAA,wMAAe,EAAC;IACrC,MAAM,OAAO,IAAA,oLAAgB;IAE7B,wCAAwC;IACxC,IAAA,6JAAS,EAAC;QACR,MAAM,gBAA+B,EAAE;QAEvC,+BAA+B;QAC/B,MAAM,iBAA6C;YACjD;YACA;SACD;QAED,KAAK,MAAM,SAAS,eAAgB;YAClC,MAAM,cAAc,QAAQ,WAAW,CAAC,OAAO;gBAC7C,KAAK,CAAC,SAAS,EAAE,OAAO,EAAE;oBACxB,UAAU,YAAY,OAAO;oBAC7B,GAAI,gBAAgB;wBAAE,WAAW,aAAa,OAAO;oBAAC,CAAC;gBACzD;YACF;YACA,cAAc,IAAI,CAAC;QACrB;QAEA,OAAO;YACL,KAAK,MAAM,SAAS,cAAe;QACrC;IACF,GAAG;QAAC;QAAS;QAAM;QAAa;KAAa;IAE7C,MAAM,cAAc,IAAA,sKAAe,EACjC,IACE,aAAa,WAAW,CAAC,GAAG,CAAC,CAAC,YAAY,MACxC,IAAA,wJAAO,EACL,WAAW,EAAE,EACb,gCAAgC;gBAC9B;gBACA,OAAO;YACT,MAGN;QAAC,aAAa,WAAW;QAAE;KAAQ;IAGrC,MAAM,QAAQ,IAAA,yJAAO,EAAgB;QACnC,OAAO;YACL,MAAM,aAAa,IAAI;YACvB,MAAM,aAAa,IAAI;YACvB,aAAa,YAAY,KAAK;YAC9B,WAAW,aAAa,SAAS;YACjC,WAAW,aAAa,SAAS;YACjC,WAAW,aAAa,SAAS;YACjC,kBAAkB,aAAa,gBAAgB;YAC/C,SAAS,aAAa,OAAO;YAC7B,MAAM,aAAa,IAAI,IAAI;YAC3B,WAAW,aAAa,SAAS;QACnC;IACF,GAAG;QAAC;QAAc,YAAY,KAAK;KAAC;IAEpC,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,SAAS,QAAQ,OAAO;YACxB,SAAS,QAAQ,OAAO;YACxB,cAAc,QAAQ,YAAY;YAClC,eAAe,QAAQ,aAAa;YACpC,OAAO,QAAQ,KAAK;YACpB,kBAAkB,QAAQ,gBAAgB;YAC1C,MAAM,QAAQ,IAAI;YAClB,QAAQ,QAAQ,MAAM;YACtB,WACE,AAAC,QAAgC,SAAS,IAC1C,CAAC;gBACC,MAAM,IAAI,MAAM;YAClB,CAAC;YACH,gBAAgB,QAAQ,cAAc;YACtC,eAAe,QAAQ,aAAa;YACpC,YAAY,CAAC;gBACX,IAAI,QAAQ,UAAU;oBACpB,OAAO,YAAY,GAAG,CAAC;wBAAE,KAAK,SAAS,EAAE;oBAAC;gBAC5C,OAAO;oBACL,OAAO,YAAY,GAAG,CAAC;gBACzB;YACF;YACA,uBAAuB,IAAM;QAC/B;IACF;AACF"}},
    {"offset": {"line": 2131, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/client/message-part-runtime-client.ts"],"sourcesContent":["import { resource } from \"@creatorem/ai-tap\";\nimport { type ClientOutput } from \"@creatorem/ai-store\";\nimport { MessagePartRuntime } from \"../runtime/message-part-runtime\";\nimport { tapSubscribable } from \"../util-hooks/tap-subscribable\";\n\nexport const MessagePartClient = resource(\n  ({ runtime }: { runtime: MessagePartRuntime }): ClientOutput<\"part\"> => {\n    const state = tapSubscribable(runtime);\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        addToolResult: (result) => runtime.addToolResult(result),\n        resumeToolCall: (payload) => runtime.resumeToolCall(payload),\n        __internal_getRuntime: () => runtime,\n      },\n    };\n  },\n);\n"],"names":[],"mappings":";;;;AAAA;AAGA;;;AAEO,MAAM,oBAAoB,IAAA,sJAAQ,EACvC,CAAC,EAAE,OAAO,EAAmC;IAC3C,MAAM,QAAQ,IAAA,wMAAe,EAAC;IAE9B,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,eAAe,CAAC,SAAW,QAAQ,aAAa,CAAC;YACjD,gBAAgB,CAAC,UAAY,QAAQ,cAAc,CAAC;YACpD,uBAAuB,IAAM;QAC/B;IACF;AACF"}},
    {"offset": {"line": 2155, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/client/message-runtime-client.ts"],"sourcesContent":["import {\n  withKey,\n  resource,\n  tapInlineResource,\n  tapMemo,\n  tapState,\n} from \"@creatorem/ai-tap\";\nimport {\n  type ClientOutput,\n  tapClientLookup,\n  tapClientResource,\n} from \"@creatorem/ai-store\";\nimport { MessageRuntime } from \"../runtime/message-runtime\";\nimport { tapSubscribable } from \"../util-hooks/tap-subscribable\";\nimport { ComposerClient } from \"./composer-runtime-client\";\nimport { MessagePartClient } from \"./message-part-runtime-client\";\nimport { RefObject } from \"react\";\nimport { MessageState } from \"../../types/scopes\";\nimport { AttachmentRuntimeClient } from \"./attachment-runtime-client\";\n\nconst MessageAttachmentClientByIndex = resource(\n  ({ runtime, index }: { runtime: MessageRuntime; index: number }) => {\n    const attachmentRuntime = tapMemo(\n      () => runtime.getAttachmentByIndex(index),\n      [runtime, index],\n    );\n    return tapInlineResource(\n      AttachmentRuntimeClient({ runtime: attachmentRuntime }),\n    );\n  },\n);\n\nconst MessagePartByIndex = resource(\n  ({ runtime, index }: { runtime: MessageRuntime; index: number }) => {\n    const partRuntime = tapMemo(\n      () => runtime.getMessagePartByIndex(index),\n      [runtime, index],\n    );\n    return tapInlineResource(MessagePartClient({ runtime: partRuntime }));\n  },\n);\n\nexport const MessageClient = resource(\n  ({\n    runtime,\n    threadIdRef,\n  }: {\n    runtime: MessageRuntime;\n    threadIdRef: RefObject<string>;\n  }): ClientOutput<\"message\"> => {\n    const runtimeState = tapSubscribable(runtime);\n\n    const [isCopiedState, setIsCopied] = tapState(false);\n    const [isHoveringState, setIsHovering] = tapState(false);\n\n    const messageIdRef = tapMemo(\n      () => ({\n        get current() {\n          return runtime.getState().id;\n        },\n      }),\n      [runtime],\n    );\n\n    const composer = tapClientResource(\n      ComposerClient({\n        runtime: runtime.composer,\n        threadIdRef,\n        messageIdRef,\n      }),\n    );\n\n    const parts = tapClientLookup(\n      () =>\n        runtimeState.content.map((part, idx) =>\n          withKey(\n            \"toolCallId\" in part && part.toolCallId != null\n              ? `toolCallId-${part.toolCallId}`\n              : `index-${idx}`,\n            MessagePartByIndex({ runtime, index: idx }),\n          ),\n        ),\n      [runtimeState.content, runtime],\n    );\n\n    const attachments = tapClientLookup(\n      () =>\n        (runtimeState.attachments ?? []).map((attachment, idx) =>\n          withKey(\n            attachment.id,\n            MessageAttachmentClientByIndex({ runtime, index: idx }),\n          ),\n        ),\n      [runtimeState.attachments, runtime],\n    );\n\n    const state = tapMemo<MessageState>(() => {\n      return {\n        ...(runtimeState as MessageState),\n\n        parts: parts.state,\n        composer: composer.state,\n\n        isCopied: isCopiedState,\n        isHovering: isHoveringState,\n      };\n    }, [\n      runtimeState,\n      parts.state,\n      composer.state,\n      isCopiedState,\n      isHoveringState,\n    ]);\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n\n        composer: composer.methods,\n\n        reload: (config) => runtime.reload(config),\n        speak: () => runtime.speak(),\n        stopSpeaking: () => runtime.stopSpeaking(),\n        submitFeedback: (feedback) => runtime.submitFeedback(feedback),\n        switchToBranch: (options) => runtime.switchToBranch(options),\n        getCopyText: () => runtime.unstable_getCopyText(),\n        part: (selector) => {\n          if (\"index\" in selector) {\n            return parts.get({ index: selector.index });\n          } else {\n            return parts.get({ key: `toolCallId-${selector.toolCallId}` });\n          }\n        },\n\n        attachment: (selector) => {\n          if (\"id\" in selector) {\n            return attachments.get({ key: selector.id });\n          } else {\n            return attachments.get(selector);\n          }\n        },\n\n        setIsCopied,\n        setIsHovering,\n\n        __internal_getRuntime: () => runtime,\n      },\n    };\n  },\n);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2280, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/client/thread-runtime-client.ts"],"sourcesContent":["import { ThreadRuntimeEventType } from \"../runtime-cores/core/thread-runtime-core\";\nimport { ThreadRuntime } from \"../runtime/thread-runtime\";\nimport {\n  resource,\n  tapInlineResource,\n  tapMemo,\n  tapEffect,\n  type tapRef,\n  withKey,\n} from \"@creatorem/ai-tap\";\nimport {\n  type ClientOutput,\n  tapAssistantEmit,\n  tapClientLookup,\n  tapClientResource,\n} from \"@creatorem/ai-store\";\nimport { ComposerClient } from \"./composer-runtime-client\";\nimport { MessageClient } from \"./message-runtime-client\";\nimport { tapSubscribable } from \"../util-hooks/tap-subscribable\";\nimport { Unsubscribe } from \"../../types\";\nimport { ThreadState } from \"../../types/scopes\";\n\nconst MessageClientById = resource(\n  ({\n    runtime,\n    id,\n    threadIdRef,\n  }: {\n    runtime: ThreadRuntime;\n    id: string;\n    threadIdRef: tapRef.RefObject<string>;\n  }) => {\n    const messageRuntime = tapMemo(\n      () => runtime.getMessageById(id),\n      [runtime, id],\n    );\n\n    return tapInlineResource(\n      MessageClient({ runtime: messageRuntime, threadIdRef }),\n    );\n  },\n);\n\nexport const ThreadClient = resource(\n  ({ runtime }: { runtime: ThreadRuntime }): ClientOutput<\"thread\"> => {\n    const runtimeState = tapSubscribable(runtime);\n    const emit = tapAssistantEmit();\n\n    // Bind thread events to event manager\n    tapEffect(() => {\n      const unsubscribers: Unsubscribe[] = [];\n\n      // Subscribe to thread events\n      const threadEvents: ThreadRuntimeEventType[] = [\n        \"runStart\",\n        \"runEnd\",\n        \"initialize\",\n        \"modelContextUpdate\",\n      ];\n\n      for (const event of threadEvents) {\n        const unsubscribe = runtime.unstable_on(event, () => {\n          const threadId = runtime.getState()?.threadId || \"unknown\";\n          emit(`thread.${event}`, {\n            threadId,\n          });\n        });\n        unsubscribers.push(unsubscribe);\n      }\n\n      return () => {\n        for (const unsub of unsubscribers) unsub();\n      };\n    }, [runtime, emit]);\n\n    const threadIdRef = tapMemo(\n      () => ({\n        get current() {\n          return runtime.getState()!.threadId;\n        },\n      }),\n      [runtime],\n    );\n\n    const composer = tapClientResource(\n      ComposerClient({\n        runtime: runtime.composer,\n        threadIdRef,\n      }),\n    );\n\n    const messages = tapClientLookup(\n      () =>\n        runtimeState.messages.map((m) =>\n          withKey(m.id, MessageClientById({ runtime, id: m.id, threadIdRef })),\n        ),\n      [runtimeState.messages, runtime, threadIdRef],\n    );\n\n    const state = tapMemo<ThreadState>(() => {\n      return {\n        isEmpty: messages.state.length === 0 && !runtimeState.isLoading,\n        isDisabled: runtimeState.isDisabled,\n        isLoading: runtimeState.isLoading,\n        isRunning: runtimeState.isRunning,\n        capabilities: runtimeState.capabilities,\n        state: runtimeState.state,\n        suggestions: runtimeState.suggestions,\n        extras: runtimeState.extras,\n        speech: runtimeState.speech,\n\n        composer: composer.state,\n        messages: messages.state,\n      };\n    }, [runtimeState, messages, composer.state]);\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        composer: composer.methods,\n        append: runtime.append,\n        startRun: runtime.startRun,\n        unstable_resumeRun: runtime.unstable_resumeRun,\n        cancelRun: runtime.cancelRun,\n        getModelContext: runtime.getModelContext,\n        export: runtime.export,\n        import: runtime.import,\n        reset: runtime.reset,\n        stopSpeaking: runtime.stopSpeaking,\n        startVoice: async () => {\n          throw new Error(\"startVoice is not supported in this runtime\");\n        },\n        stopVoice: async () => {\n          throw new Error(\"stopVoice is not supported in this runtime\");\n        },\n        message: (selector) => {\n          if (\"id\" in selector) {\n            return messages.get({ key: selector.id });\n          } else {\n            return messages.get(selector);\n          }\n        },\n        __internal_getRuntime: () => runtime,\n      },\n    };\n  },\n);\n"],"names":[],"mappings":";;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAMA;AACA;AACA;;;;;;AAIA,MAAM,oBAAoB,IAAA,sJAAQ,EAChC,CAAC,EACC,OAAO,EACP,EAAE,EACF,WAAW,EAKZ;IACC,MAAM,iBAAiB,IAAA,yJAAO,EAC5B,IAAM,QAAQ,cAAc,CAAC,KAC7B;QAAC;QAAS;KAAG;IAGf,OAAO,IAAA,iLAAiB,EACtB,IAAA,wMAAa,EAAC;QAAE,SAAS;QAAgB;IAAY;AAEzD;AAGK,MAAM,eAAe,IAAA,sJAAQ,EAClC,CAAC,EAAE,OAAO,EAA8B;IACtC,MAAM,eAAe,IAAA,wMAAe,EAAC;IACrC,MAAM,OAAO,IAAA,oLAAgB;IAE7B,sCAAsC;IACtC,IAAA,6JAAS,EAAC;QACR,MAAM,gBAA+B,EAAE;QAEvC,6BAA6B;QAC7B,MAAM,eAAyC;YAC7C;YACA;YACA;YACA;SACD;QAED,KAAK,MAAM,SAAS,aAAc;YAChC,MAAM,cAAc,QAAQ,WAAW,CAAC,OAAO;gBAC7C,MAAM,WAAW,QAAQ,QAAQ,IAAI,YAAY;gBACjD,KAAK,CAAC,OAAO,EAAE,OAAO,EAAE;oBACtB;gBACF;YACF;YACA,cAAc,IAAI,CAAC;QACrB;QAEA,OAAO;YACL,KAAK,MAAM,SAAS,cAAe;QACrC;IACF,GAAG;QAAC;QAAS;KAAK;IAElB,MAAM,cAAc,IAAA,yJAAO,EACzB,IAAM,CAAC;YACL,IAAI,WAAU;gBACZ,OAAO,QAAQ,QAAQ,GAAI,QAAQ;YACrC;QACF,CAAC,GACD;QAAC;KAAQ;IAGX,MAAM,WAAW,IAAA,0KAAiB,EAChC,IAAA,0MAAc,EAAC;QACb,SAAS,QAAQ,QAAQ;QACzB;IACF;IAGF,MAAM,WAAW,IAAA,sKAAe,EAC9B,IACE,aAAa,QAAQ,CAAC,GAAG,CAAC,CAAC,IACzB,IAAA,wJAAO,EAAC,EAAE,EAAE,EAAE,kBAAkB;gBAAE;gBAAS,IAAI,EAAE,EAAE;gBAAE;YAAY,MAErE;QAAC,aAAa,QAAQ;QAAE;QAAS;KAAY;IAG/C,MAAM,QAAQ,IAAA,yJAAO,EAAc;QACjC,OAAO;YACL,SAAS,SAAS,KAAK,CAAC,MAAM,KAAK,KAAK,CAAC,aAAa,SAAS;YAC/D,YAAY,aAAa,UAAU;YACnC,WAAW,aAAa,SAAS;YACjC,WAAW,aAAa,SAAS;YACjC,cAAc,aAAa,YAAY;YACvC,OAAO,aAAa,KAAK;YACzB,aAAa,aAAa,WAAW;YACrC,QAAQ,aAAa,MAAM;YAC3B,QAAQ,aAAa,MAAM;YAE3B,UAAU,SAAS,KAAK;YACxB,UAAU,SAAS,KAAK;QAC1B;IACF,GAAG;QAAC;QAAc;QAAU,SAAS,KAAK;KAAC;IAE3C,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,UAAU,SAAS,OAAO;YAC1B,QAAQ,QAAQ,MAAM;YACtB,UAAU,QAAQ,QAAQ;YAC1B,oBAAoB,QAAQ,kBAAkB;YAC9C,WAAW,QAAQ,SAAS;YAC5B,iBAAiB,QAAQ,eAAe;YACxC,QAAQ,QAAQ,MAAM;YACtB,QAAQ,QAAQ,MAAM;YACtB,OAAO,QAAQ,KAAK;YACpB,cAAc,QAAQ,YAAY;YAClC,YAAY;gBACV,MAAM,IAAI,MAAM;YAClB;YACA,WAAW;gBACT,MAAM,IAAI,MAAM;YAClB;YACA,SAAS,CAAC;gBACR,IAAI,QAAQ,UAAU;oBACpB,OAAO,SAAS,GAAG,CAAC;wBAAE,KAAK,SAAS,EAAE;oBAAC;gBACzC,OAAO;oBACL,OAAO,SAAS,GAAG,CAAC;gBACtB;YACF;YACA,uBAAuB,IAAM;QAC/B;IACF;AACF"}},
    {"offset": {"line": 2415, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/client/thread-list-runtime-client.ts"],"sourcesContent":["import {\n  withKey,\n  resource,\n  tapInlineResource,\n  tapMemo,\n} from \"@creatorem/ai-tap\";\nimport {\n  type ClientOutput,\n  tapClientLookup,\n  tapClientResource,\n} from \"@creatorem/ai-store\";\nimport { ThreadListRuntime } from \"../runtime/thread-list-runtime\";\nimport { tapSubscribable } from \"../util-hooks/tap-subscribable\";\nimport { ThreadListItemClient } from \"./thread-list-item-runtime-client\";\nimport { ThreadClient } from \"./thread-runtime-client\";\nimport { ThreadsState } from \"../../types/scopes\";\nimport type { AssistantRuntime } from \"../runtime/assistant-runtime\";\n\nconst ThreadListItemClientById = resource(\n  ({ runtime, id }: { runtime: ThreadListRuntime; id: string }) => {\n    const threadListItemRuntime = tapMemo(\n      () => runtime.getItemById(id),\n      [runtime, id],\n    );\n    return tapInlineResource(\n      ThreadListItemClient({\n        runtime: threadListItemRuntime,\n      }),\n    );\n  },\n);\n\nexport const ThreadListClient = resource(\n  ({\n    runtime,\n    __internal_assistantRuntime,\n  }: {\n    runtime: ThreadListRuntime;\n    __internal_assistantRuntime: AssistantRuntime;\n  }): ClientOutput<\"threads\"> => {\n    const runtimeState = tapSubscribable(runtime);\n\n    const main = tapClientResource(\n      ThreadClient({\n        runtime: runtime.main,\n      }),\n    );\n\n    const threadItems = tapClientLookup(\n      () =>\n        Object.keys(runtimeState.threadItems).map((id) =>\n          withKey(id, ThreadListItemClientById({ runtime, id })),\n        ),\n      [runtimeState.threadItems, runtime],\n    );\n\n    const state = tapMemo<ThreadsState>(() => {\n      return {\n        mainThreadId: runtimeState.mainThreadId,\n        newThreadId: runtimeState.newThreadId ?? null,\n        isLoading: runtimeState.isLoading,\n        threadIds: runtimeState.threadIds,\n        archivedThreadIds: runtimeState.archivedThreadIds,\n        threadItems: threadItems.state,\n\n        main: main.state,\n      };\n    }, [runtimeState, threadItems.state, main.state]);\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        thread: () => main.methods,\n        item: (threadIdOrOptions) => {\n          if (threadIdOrOptions === \"main\") {\n            return threadItems.get({ key: state.mainThreadId });\n          }\n\n          if (\"id\" in threadIdOrOptions) {\n            return threadItems.get({ key: threadIdOrOptions.id });\n          }\n\n          const { index, archived = false } = threadIdOrOptions;\n          const id = archived\n            ? state.archivedThreadIds[index]!\n            : state.threadIds[index]!;\n          return threadItems.get({ key: id });\n        },\n        switchToThread: async (threadId) => {\n          await runtime.switchToThread(threadId);\n        },\n        switchToNewThread: async () => {\n          await runtime.switchToNewThread();\n        },\n        __internal_getAssistantRuntime: () => __internal_assistantRuntime,\n      },\n    };\n  },\n);\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAMA;AACA;AACA;;;;;;AAIA,MAAM,2BAA2B,IAAA,sJAAQ,EACvC,CAAC,EAAE,OAAO,EAAE,EAAE,EAA8C;IAC1D,MAAM,wBAAwB,IAAA,yJAAO,EACnC,IAAM,QAAQ,WAAW,CAAC,KAC1B;QAAC;QAAS;KAAG;IAEf,OAAO,IAAA,iLAAiB,EACtB,IAAA,8NAAoB,EAAC;QACnB,SAAS;IACX;AAEJ;AAGK,MAAM,mBAAmB,IAAA,sJAAQ,EACtC,CAAC,EACC,OAAO,EACP,2BAA2B,EAI5B;IACC,MAAM,eAAe,IAAA,wMAAe,EAAC;IAErC,MAAM,OAAO,IAAA,0KAAiB,EAC5B,IAAA,sMAAY,EAAC;QACX,SAAS,QAAQ,IAAI;IACvB;IAGF,MAAM,cAAc,IAAA,sKAAe,EACjC,IACE,OAAO,IAAI,CAAC,aAAa,WAAW,EAAE,GAAG,CAAC,CAAC,KACzC,IAAA,wJAAO,EAAC,IAAI,yBAAyB;gBAAE;gBAAS;YAAG,MAEvD;QAAC,aAAa,WAAW;QAAE;KAAQ;IAGrC,MAAM,QAAQ,IAAA,yJAAO,EAAe;QAClC,OAAO;YACL,cAAc,aAAa,YAAY;YACvC,aAAa,aAAa,WAAW,IAAI;YACzC,WAAW,aAAa,SAAS;YACjC,WAAW,aAAa,SAAS;YACjC,mBAAmB,aAAa,iBAAiB;YACjD,aAAa,YAAY,KAAK;YAE9B,MAAM,KAAK,KAAK;QAClB;IACF,GAAG;QAAC;QAAc,YAAY,KAAK;QAAE,KAAK,KAAK;KAAC;IAEhD,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,QAAQ,IAAM,KAAK,OAAO;YAC1B,MAAM,CAAC;gBACL,IAAI,sBAAsB,QAAQ;oBAChC,OAAO,YAAY,GAAG,CAAC;wBAAE,KAAK,MAAM,YAAY;oBAAC;gBACnD;gBAEA,IAAI,QAAQ,mBAAmB;oBAC7B,OAAO,YAAY,GAAG,CAAC;wBAAE,KAAK,kBAAkB,EAAE;oBAAC;gBACrD;gBAEA,MAAM,EAAE,KAAK,EAAE,WAAW,KAAK,EAAE,GAAG;gBACpC,MAAM,KAAK,WACP,MAAM,iBAAiB,CAAC,MAAM,GAC9B,MAAM,SAAS,CAAC,MAAM;gBAC1B,OAAO,YAAY,GAAG,CAAC;oBAAE,KAAK;gBAAG;YACnC;YACA,gBAAgB,OAAO;gBACrB,MAAM,QAAQ,cAAc,CAAC;YAC/B;YACA,mBAAmB;gBACjB,MAAM,QAAQ,iBAAiB;YACjC;YACA,gCAAgC,IAAM;QACxC;IACF;AACF"}},
    {"offset": {"line": 2505, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/model-context/model-context-types.ts"],"sourcesContent":["import { Unsubscribe } from \"../types/unsubscribe\";\nimport { Tool } from \"assistant-stream\";\n\nexport type LanguageModelV1CallSettings = {\n  maxTokens?: number;\n  temperature?: number;\n  topP?: number;\n  presencePenalty?: number;\n  frequencyPenalty?: number;\n  seed?: number;\n  headers?: Record<string, string | undefined>;\n};\n\nexport type LanguageModelConfig = {\n  apiKey?: string;\n  baseUrl?: string;\n  modelName?: string;\n};\n\nexport type ModelContext = {\n  priority?: number | undefined;\n  system?: string | undefined;\n  tools?: Record<string, Tool<any, any>> | undefined;\n  callSettings?: LanguageModelV1CallSettings | undefined;\n  config?: LanguageModelConfig | undefined;\n};\n\nexport type ModelContextProvider = {\n  getModelContext: () => ModelContext;\n  subscribe?: (callback: () => void) => Unsubscribe;\n};\n\nexport const mergeModelContexts = (\n  configSet: Set<ModelContextProvider>,\n): ModelContext => {\n  const configs = Array.from(configSet)\n    .map((c) => c.getModelContext())\n    .sort((a, b) => (b.priority ?? 0) - (a.priority ?? 0));\n\n  return configs.reduce((acc, config) => {\n    if (config.system) {\n      if (acc.system) {\n        // TODO should the separator be configurable?\n        acc.system += `\\n\\n${config.system}`;\n      } else {\n        acc.system = config.system;\n      }\n    }\n    if (config.tools) {\n      for (const [name, tool] of Object.entries(config.tools)) {\n        const existing = acc.tools?.[name];\n        if (existing && existing !== tool) {\n          throw new Error(\n            `You tried to define a tool with the name ${name}, but it already exists.`,\n          );\n        }\n\n        if (!acc.tools) acc.tools = {};\n        acc.tools[name] = tool;\n      }\n    }\n    if (config.config) {\n      acc.config = {\n        ...acc.config,\n        ...config.config,\n      };\n    }\n    if (config.callSettings) {\n      acc.callSettings = {\n        ...acc.callSettings,\n        ...config.callSettings,\n      };\n    }\n    return acc;\n  }, {} as ModelContext);\n};\n"],"names":[],"mappings":";;;;AAgCO,MAAM,qBAAqB,CAChC;IAEA,MAAM,UAAU,MAAM,IAAI,CAAC,WACxB,GAAG,CAAC,CAAC,IAAM,EAAE,eAAe,IAC5B,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,EAAE,QAAQ,IAAI,CAAC,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC;IAEtD,OAAO,QAAQ,MAAM,CAAC,CAAC,KAAK;QAC1B,IAAI,OAAO,MAAM,EAAE;YACjB,IAAI,IAAI,MAAM,EAAE;gBACd,6CAA6C;gBAC7C,IAAI,MAAM,IAAI,CAAC,IAAI,EAAE,OAAO,MAAM,EAAE;YACtC,OAAO;gBACL,IAAI,MAAM,GAAG,OAAO,MAAM;YAC5B;QACF;QACA,IAAI,OAAO,KAAK,EAAE;YAChB,KAAK,MAAM,CAAC,MAAM,KAAK,IAAI,OAAO,OAAO,CAAC,OAAO,KAAK,EAAG;gBACvD,MAAM,WAAW,IAAI,KAAK,EAAE,CAAC,KAAK;gBAClC,IAAI,YAAY,aAAa,MAAM;oBACjC,MAAM,IAAI,MACR,CAAC,yCAAyC,EAAE,KAAK,wBAAwB,CAAC;gBAE9E;gBAEA,IAAI,CAAC,IAAI,KAAK,EAAE,IAAI,KAAK,GAAG,CAAC;gBAC7B,IAAI,KAAK,CAAC,KAAK,GAAG;YACpB;QACF;QACA,IAAI,OAAO,MAAM,EAAE;YACjB,IAAI,MAAM,GAAG;gBACX,GAAG,IAAI,MAAM;gBACb,GAAG,OAAO,MAAM;YAClB;QACF;QACA,IAAI,OAAO,YAAY,EAAE;YACvB,IAAI,YAAY,GAAG;gBACjB,GAAG,IAAI,YAAY;gBACnB,GAAG,OAAO,YAAY;YACxB;QACF;QACA,OAAO;IACT,GAAG,CAAC;AACN"}},
    {"offset": {"line": 2549, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/utils/composite-context-provider.ts"],"sourcesContent":["import {\n  type ModelContextProvider,\n  mergeModelContexts,\n} from \"../model-context/model-context-types\";\n\nexport class CompositeContextProvider implements ModelContextProvider {\n  private _providers = new Set<ModelContextProvider>();\n\n  getModelContext() {\n    return mergeModelContexts(this._providers);\n  }\n\n  registerModelContextProvider(provider: ModelContextProvider) {\n    this._providers.add(provider);\n    const unsubscribe = provider.subscribe?.(() => {\n      this.notifySubscribers();\n    });\n    this.notifySubscribers();\n    return () => {\n      this._providers.delete(provider);\n      unsubscribe?.();\n      this.notifySubscribers();\n    };\n  }\n\n  private _subscribers = new Set<() => void>();\n\n  notifySubscribers() {\n    for (const callback of this._subscribers) callback();\n  }\n\n  subscribe(callback: () => void) {\n    this._subscribers.add(callback);\n    return () => this._subscribers.delete(callback);\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAKO,MAAM;IACH,aAAa,IAAI,MAA4B;IAErD,kBAAkB;QAChB,OAAO,IAAA,+LAAkB,EAAC,IAAI,CAAC,UAAU;IAC3C;IAEA,6BAA6B,QAA8B,EAAE;QAC3D,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;QACpB,MAAM,cAAc,SAAS,SAAS,GAAG;YACvC,IAAI,CAAC,iBAAiB;QACxB;QACA,IAAI,CAAC,iBAAiB;QACtB,OAAO;YACL,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC;YACvB;YACA,IAAI,CAAC,iBAAiB;QACxB;IACF;IAEQ,eAAe,IAAI,MAAkB;IAE7C,oBAAoB;QAClB,KAAK,MAAM,YAAY,IAAI,CAAC,YAAY,CAAE;IAC5C;IAEA,UAAU,QAAoB,EAAE;QAC9B,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC;QACtB,OAAO,IAAM,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;IACxC;AACF"}},
    {"offset": {"line": 2585, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/client/model-context-client.ts"],"sourcesContent":["import { resource, tapMemo, tapState } from \"@creatorem/ai-tap\";\nimport { type ClientOutput } from \"@creatorem/ai-store\";\nimport { CompositeContextProvider } from \"../utils/composite-context-provider\";\nimport type { ModelContextState } from \"../types/scopes\";\n\nconst version = 1;\n\nexport const ModelContext = resource((): ClientOutput<\"modelContext\"> => {\n  const [state] = tapState<ModelContextState>(\n    () => ({ version: version + 1 }) as unknown as ModelContextState,\n  );\n  const composite = tapMemo(() => new CompositeContextProvider(), []);\n\n  return {\n    state,\n    methods: {\n      getState: () => state,\n      getModelContext: () => composite.getModelContext(),\n      subscribe: (callback) => composite.subscribe(callback),\n      register: (provider) => composite.registerModelContextProvider(provider),\n    },\n  };\n});\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAEA;;;AAGA,MAAM,UAAU;AAET,MAAM,eAAe,IAAA,sJAAQ,EAAC;IACnC,MAAM,CAAC,MAAM,GAAG,IAAA,2JAAQ,EACtB,IAAM,CAAC;YAAE,SAAS,UAAU;QAAE,CAAC;IAEjC,MAAM,YAAY,IAAA,yJAAO,EAAC,IAAM,IAAI,iMAAwB,IAAI,EAAE;IAElE,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,iBAAiB,IAAM,UAAU,eAAe;YAChD,WAAW,CAAC,WAAa,UAAU,SAAS,CAAC;YAC7C,UAAU,CAAC,WAAa,UAAU,4BAA4B,CAAC;QACjE;IACF;AACF"}},
    {"offset": {"line": 2615, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/client/tools.ts"],"sourcesContent":["import { resource, tapState, tapEffect, tapCallback } from \"@creatorem/ai-tap\";\nimport {\n  tapAssistantClientRef,\n  type ClientOutput,\n  attachDefaultPeers,\n} from \"@creatorem/ai-store\";\nimport { ToolsState } from \"../types/scopes\";\nimport type { Tool } from \"assistant-stream\";\nimport { type Toolkit } from \"../model-context/toolbox\";\nimport { ToolCallMessagePartComponent } from \"../types\";\nimport { ModelContext } from \"./model-context-client\";\n\nexport const Tools = resource(\n  ({ toolkit }: { toolkit?: Toolkit }): ClientOutput<\"tools\"> => {\n    const [state, setState] = tapState<ToolsState>(() => ({\n      tools: {},\n    }));\n\n    const clientRef = tapAssistantClientRef();\n\n    const setToolUI = tapCallback(\n      (toolName: string, render: ToolCallMessagePartComponent) => {\n        setState((prev) => {\n          return {\n            ...prev,\n            tools: {\n              ...prev.tools,\n              [toolName]: [...(prev.tools[toolName] ?? []), render],\n            },\n          };\n        });\n\n        return () => {\n          setState((prev) => {\n            return {\n              ...prev,\n              tools: {\n                ...prev.tools,\n                [toolName]:\n                  prev.tools[toolName]?.filter((r) => r !== render) ?? [],\n              },\n            };\n          });\n        };\n      },\n      [],\n    );\n\n    tapEffect(() => {\n      if (!toolkit) return;\n      const unsubscribes: (() => void)[] = [];\n\n      // Register tool UIs (exclude symbols)\n      for (const [toolName, tool] of Object.entries(toolkit)) {\n        if (tool.render) {\n          unsubscribes.push(setToolUI(toolName, tool.render));\n        }\n      }\n\n      // Register tools with model context (exclude symbols)\n      const toolsWithoutRender = Object.entries(toolkit).reduce(\n        (acc, [name, tool]) => {\n          const { render, ...rest } = tool;\n          acc[name] = rest;\n          return acc;\n        },\n        {} as Record<string, Tool<any, any>>,\n      );\n\n      const modelContextProvider = {\n        getModelContext: () => ({\n          tools: toolsWithoutRender,\n        }),\n      };\n\n      unsubscribes.push(\n        clientRef.current!.modelContext().register(modelContextProvider),\n      );\n\n      return () => {\n        unsubscribes.forEach((fn) => fn());\n      };\n    }, [toolkit, setToolUI, clientRef]);\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        setToolUI,\n      },\n    };\n  },\n);\n\nattachDefaultPeers(Tools, {\n  modelContext: ModelContext(),\n});\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AASA;;;;AAEO,MAAM,QAAQ,IAAA,sJAAQ,EAC3B,CAAC,EAAE,OAAO,EAAyB;IACjC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,2JAAQ,EAAa,IAAM,CAAC;YACpD,OAAO,CAAC;QACV,CAAC;IAED,MAAM,YAAY,IAAA,yLAAqB;IAEvC,MAAM,YAAY,IAAA,iKAAW,EAC3B,CAAC,UAAkB;QACjB,SAAS,CAAC;YACR,OAAO;gBACL,GAAG,IAAI;gBACP,OAAO;oBACL,GAAG,KAAK,KAAK;oBACb,CAAC,SAAS,EAAE;2BAAK,KAAK,KAAK,CAAC,SAAS,IAAI,EAAE;wBAAG;qBAAO;gBACvD;YACF;QACF;QAEA,OAAO;YACL,SAAS,CAAC;gBACR,OAAO;oBACL,GAAG,IAAI;oBACP,OAAO;wBACL,GAAG,KAAK,KAAK;wBACb,CAAC,SAAS,EACR,KAAK,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC,IAAM,MAAM,WAAW,EAAE;oBAC3D;gBACF;YACF;QACF;IACF,GACA,EAAE;IAGJ,IAAA,6JAAS,EAAC;QACR,IAAI,CAAC,SAAS;QACd,MAAM,eAA+B,EAAE;QAEvC,sCAAsC;QACtC,KAAK,MAAM,CAAC,UAAU,KAAK,IAAI,OAAO,OAAO,CAAC,SAAU;YACtD,IAAI,KAAK,MAAM,EAAE;gBACf,aAAa,IAAI,CAAC,UAAU,UAAU,KAAK,MAAM;YACnD;QACF;QAEA,sDAAsD;QACtD,MAAM,qBAAqB,OAAO,OAAO,CAAC,SAAS,MAAM,CACvD,CAAC,KAAK,CAAC,MAAM,KAAK;YAChB,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,GAAG;YAC5B,GAAG,CAAC,KAAK,GAAG;YACZ,OAAO;QACT,GACA,CAAC;QAGH,MAAM,uBAAuB;YAC3B,iBAAiB,IAAM,CAAC;oBACtB,OAAO;gBACT,CAAC;QACH;QAEA,aAAa,IAAI,CACf,UAAU,OAAO,CAAE,YAAY,GAAG,QAAQ,CAAC;QAG7C,OAAO;YACL,aAAa,OAAO,CAAC,CAAC,KAAO;QAC/B;IACF,GAAG;QAAC;QAAS;QAAW;KAAU;IAElC,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB;QACF;IACF;AACF;AAGF,IAAA,4KAAkB,EAAC,OAAO;IACxB,cAAc,IAAA,gLAAY;AAC5B"}},
    {"offset": {"line": 2703, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/client/suggestions.ts"],"sourcesContent":["import { resource, tapState, withKey } from \"@creatorem/ai-tap\";\nimport { type ClientOutput, tapClientLookup } from \"@creatorem/ai-store\";\nimport type { SuggestionsState, SuggestionState } from \"../types/scopes\";\n\nexport type SuggestionConfig =\n  | string\n  | { title: string; label: string; prompt: string };\n\nconst SuggestionClient = resource(\n  (state: SuggestionState): ClientOutput<\"suggestion\"> => {\n    return {\n      state,\n      methods: {\n        getState: () => state,\n      },\n    };\n  },\n);\n\nconst SuggestionsResource = resource(\n  (suggestions?: SuggestionConfig[]): ClientOutput<\"suggestions\"> => {\n    const [state] = tapState<SuggestionsState>(() => {\n      const normalizedSuggestions = (suggestions ?? []).map((s) => {\n        if (typeof s === \"string\") {\n          return {\n            title: s,\n            label: \"\",\n            prompt: s,\n          };\n        }\n        return {\n          title: s.title,\n          label: s.label,\n          prompt: s.prompt,\n        };\n      });\n\n      return {\n        suggestions: normalizedSuggestions,\n      };\n    });\n\n    const suggestionClients = tapClientLookup(\n      () =>\n        state.suggestions.map((suggestion, index) =>\n          withKey(index, SuggestionClient(suggestion)),\n        ),\n      [state.suggestions],\n    );\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        suggestion: ({ index }: { index: number }) => {\n          return suggestionClients.get({ index });\n        },\n      },\n    };\n  },\n);\n\nexport const Suggestions: {\n  (): import(\"@creatorem/ai-tap\").ResourceElement<\n    ClientOutput<\"suggestions\">,\n    undefined\n  >;\n  (\n    suggestions: SuggestionConfig[],\n  ): import(\"@creatorem/ai-tap\").ResourceElement<\n    ClientOutput<\"suggestions\">,\n    SuggestionConfig[]\n  >;\n} = SuggestionsResource as any;\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AACA;;;AAOA,MAAM,mBAAmB,IAAA,sJAAQ,EAC/B,CAAC;IACC,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;QAClB;IACF;AACF;AAGF,MAAM,sBAAsB,IAAA,sJAAQ,EAClC,CAAC;IACC,MAAM,CAAC,MAAM,GAAG,IAAA,2JAAQ,EAAmB;QACzC,MAAM,wBAAwB,CAAC,eAAe,EAAE,EAAE,GAAG,CAAC,CAAC;YACrD,IAAI,OAAO,MAAM,UAAU;gBACzB,OAAO;oBACL,OAAO;oBACP,OAAO;oBACP,QAAQ;gBACV;YACF;YACA,OAAO;gBACL,OAAO,EAAE,KAAK;gBACd,OAAO,EAAE,KAAK;gBACd,QAAQ,EAAE,MAAM;YAClB;QACF;QAEA,OAAO;YACL,aAAa;QACf;IACF;IAEA,MAAM,oBAAoB,IAAA,sKAAe,EACvC,IACE,MAAM,WAAW,CAAC,GAAG,CAAC,CAAC,YAAY,QACjC,IAAA,wJAAO,EAAC,OAAO,iBAAiB,eAEpC;QAAC,MAAM,WAAW;KAAC;IAGrB,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,YAAY,CAAC,EAAE,KAAK,EAAqB;gBACvC,OAAO,kBAAkB,GAAG,CAAC;oBAAE;gBAAM;YACvC;QACF;IACF;AACF;AAGK,MAAM,cAWT"}},
    {"offset": {"line": 2761, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/runtime-adapter.ts"],"sourcesContent":["import { resource, tapEffect, tapInlineResource } from \"@creatorem/ai-tap\";\nimport type { AssistantRuntime } from \"./runtime/assistant-runtime\";\nimport { ThreadListClient } from \"./client/thread-list-runtime-client\";\nimport {\n  tapAssistantClientRef,\n  Derived,\n  attachDefaultPeers,\n} from \"@creatorem/ai-store\";\nimport { ModelContext } from \"../client/model-context-client\";\nimport { Tools, Suggestions } from \"../model-context\";\n\nexport const RuntimeAdapter = resource((runtime: AssistantRuntime) => {\n  const clientRef = tapAssistantClientRef();\n\n  tapEffect(() => {\n    return runtime.registerModelContextProvider(\n      clientRef.current!.modelContext(),\n    );\n  }, [runtime, clientRef]);\n\n  return tapInlineResource(\n    ThreadListClient({\n      runtime: runtime.threads,\n      __internal_assistantRuntime: runtime,\n    }),\n  );\n});\n\nattachDefaultPeers(RuntimeAdapter, {\n  modelContext: ModelContext(),\n  tools: Tools({}),\n  suggestions: Suggestions(),\n  threadListItem: Derived({\n    source: \"threads\",\n    query: { type: \"main\" },\n    get: (aui) => aui.threads().item(\"main\"),\n  }),\n  thread: Derived({\n    source: \"threads\",\n    query: { type: \"main\" },\n    get: (aui) => aui.threads().thread(\"main\"),\n  }),\n  composer: Derived({\n    source: \"thread\",\n    query: {},\n    get: (aui) => aui.threads().thread(\"main\").composer,\n  }),\n});\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAKA;AACA;AAAA;;;;;;AAEO,MAAM,iBAAiB,IAAA,sJAAQ,EAAC,CAAC;IACtC,MAAM,YAAY,IAAA,yLAAqB;IAEvC,IAAA,6JAAS,EAAC;QACR,OAAO,QAAQ,4BAA4B,CACzC,UAAU,OAAO,CAAE,YAAY;IAEnC,GAAG;QAAC;QAAS;KAAU;IAEvB,OAAO,IAAA,iLAAiB,EACtB,IAAA,kNAAgB,EAAC;QACf,SAAS,QAAQ,OAAO;QACxB,6BAA6B;IAC/B;AAEJ;AAEA,IAAA,4KAAkB,EAAC,gBAAgB;IACjC,cAAc,IAAA,gLAAY;IAC1B,OAAO,IAAA,oJAAK,EAAC,CAAC;IACd,aAAa,IAAA,gKAAW;IACxB,gBAAgB,IAAA,8IAAO,EAAC;QACtB,QAAQ;QACR,OAAO;YAAE,MAAM;QAAO;QACtB,KAAK,CAAC,MAAQ,IAAI,OAAO,GAAG,IAAI,CAAC;IACnC;IACA,QAAQ,IAAA,8IAAO,EAAC;QACd,QAAQ;QACR,OAAO;YAAE,MAAM;QAAO;QACtB,KAAK,CAAC,MAAQ,IAAI,OAAO,GAAG,MAAM,CAAC;IACrC;IACA,UAAU,IAAA,8IAAO,EAAC;QAChB,QAAQ;QACR,OAAO,CAAC;QACR,KAAK,CAAC,MAAQ,IAAI,OAAO,GAAG,MAAM,CAAC,QAAQ,QAAQ;IACrD;AACF"}},
    {"offset": {"line": 2821, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/stores/thread-viewport.tsx"],"sourcesContent":["\"use client\";\n\nimport { create } from \"zustand\";\nimport type { Unsubscribe } from \"../../types/unsubscribe\";\n\nexport type SizeHandle = {\n  /** Update the height */\n  setHeight: (height: number) => void;\n  /** Unregister this handle */\n  unregister: Unsubscribe;\n};\n\ntype SizeRegistry = {\n  register: () => SizeHandle;\n};\n\nconst createSizeRegistry = (\n  onChange: (total: number) => void,\n): SizeRegistry => {\n  const entries = new Map<symbol, number>();\n\n  const recalculate = () => {\n    let total = 0;\n    for (const height of entries.values()) {\n      total += height;\n    }\n    onChange(total);\n  };\n\n  return {\n    register: () => {\n      const id = Symbol();\n      entries.set(id, 0);\n\n      return {\n        setHeight: (height: number) => {\n          if (entries.get(id) !== height) {\n            entries.set(id, height);\n            recalculate();\n          }\n        },\n        unregister: () => {\n          entries.delete(id);\n          recalculate();\n        },\n      };\n    },\n  };\n};\n\nexport type ThreadViewportState = {\n  readonly isAtBottom: boolean;\n  readonly scrollToBottom: (config?: {\n    behavior?: ScrollBehavior | undefined;\n  }) => void;\n  readonly onScrollToBottom: (\n    callback: ({ behavior }: { behavior: ScrollBehavior }) => void,\n  ) => Unsubscribe;\n\n  /** Controls scroll anchoring: \"top\" anchors user messages at top, \"bottom\" is classic behavior */\n  readonly turnAnchor: \"top\" | \"bottom\";\n\n  /** Raw height values from registered elements */\n  readonly height: {\n    /** Total viewport height */\n    readonly viewport: number;\n    /** Total content inset height (footer, anchor message, etc.) */\n    readonly inset: number;\n    /** Height of the anchor user message (full height) */\n    readonly userMessage: number;\n  };\n\n  /** Register a viewport and get a handle to update its height */\n  readonly registerViewport: () => SizeHandle;\n\n  /** Register a content inset (footer, anchor message, etc.) and get a handle to update its height */\n  readonly registerContentInset: () => SizeHandle;\n\n  /** Register the anchor user message height */\n  readonly registerUserMessageHeight: () => SizeHandle;\n};\n\nexport type ThreadViewportStoreOptions = {\n  turnAnchor?: \"top\" | \"bottom\" | undefined;\n};\n\nexport const makeThreadViewportStore = (\n  options: ThreadViewportStoreOptions = {},\n) => {\n  const scrollToBottomListeners = new Set<\n    (config: { behavior: ScrollBehavior }) => void\n  >();\n\n  const viewportRegistry = createSizeRegistry((total) => {\n    store.setState({\n      height: {\n        ...store.getState().height,\n        viewport: total,\n      },\n    });\n  });\n  const insetRegistry = createSizeRegistry((total) => {\n    store.setState({\n      height: {\n        ...store.getState().height,\n        inset: total,\n      },\n    });\n  });\n  const userMessageRegistry = createSizeRegistry((total) => {\n    store.setState({\n      height: {\n        ...store.getState().height,\n        userMessage: total,\n      },\n    });\n  });\n\n  const store = create<ThreadViewportState>(() => ({\n    isAtBottom: true,\n    scrollToBottom: ({ behavior = \"auto\" } = {}) => {\n      for (const listener of scrollToBottomListeners) {\n        listener({ behavior });\n      }\n    },\n    onScrollToBottom: (callback) => {\n      scrollToBottomListeners.add(callback);\n      return () => {\n        scrollToBottomListeners.delete(callback);\n      };\n    },\n\n    turnAnchor: options.turnAnchor ?? \"bottom\",\n\n    height: {\n      viewport: 0,\n      inset: 0,\n      userMessage: 0,\n    },\n\n    registerViewport: viewportRegistry.register,\n    registerContentInset: insetRegistry.register,\n    registerUserMessageHeight: userMessageRegistry.register,\n  }));\n\n  return store;\n};\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAgBA,MAAM,qBAAqB,CACzB;IAEA,MAAM,UAAU,IAAI;IAEpB,MAAM,cAAc;QAClB,IAAI,QAAQ;QACZ,KAAK,MAAM,UAAU,QAAQ,MAAM,GAAI;YACrC,SAAS;QACX;QACA,SAAS;IACX;IAEA,OAAO;QACL,UAAU;YACR,MAAM,KAAK;YACX,QAAQ,GAAG,CAAC,IAAI;YAEhB,OAAO;gBACL,WAAW,CAAC;oBACV,IAAI,QAAQ,GAAG,CAAC,QAAQ,QAAQ;wBAC9B,QAAQ,GAAG,CAAC,IAAI;wBAChB;oBACF;gBACF;gBACA,YAAY;oBACV,QAAQ,MAAM,CAAC;oBACf;gBACF;YACF;QACF;IACF;AACF;AAsCO,MAAM,0BAA0B,CACrC,UAAsC,CAAC,CAAC;IAExC,MAAM,0BAA0B,IAAI;IAIpC,MAAM,mBAAmB,mBAAmB,CAAC;QAC3C,MAAM,QAAQ,CAAC;YACb,QAAQ;gBACN,GAAG,MAAM,QAAQ,GAAG,MAAM;gBAC1B,UAAU;YACZ;QACF;IACF;IACA,MAAM,gBAAgB,mBAAmB,CAAC;QACxC,MAAM,QAAQ,CAAC;YACb,QAAQ;gBACN,GAAG,MAAM,QAAQ,GAAG,MAAM;gBAC1B,OAAO;YACT;QACF;IACF;IACA,MAAM,sBAAsB,mBAAmB,CAAC;QAC9C,MAAM,QAAQ,CAAC;YACb,QAAQ;gBACN,GAAG,MAAM,QAAQ,GAAG,MAAM;gBAC1B,aAAa;YACf;QACF;IACF;IAEA,MAAM,QAAQ,IAAA,8VAAM,EAAsB,IAAM,CAAC;YAC/C,YAAY;YACZ,gBAAgB,CAAC,EAAE,WAAW,MAAM,EAAE,GAAG,CAAC,CAAC;gBACzC,KAAK,MAAM,YAAY,wBAAyB;oBAC9C,SAAS;wBAAE;oBAAS;gBACtB;YACF;YACA,kBAAkB,CAAC;gBACjB,wBAAwB,GAAG,CAAC;gBAC5B,OAAO;oBACL,wBAAwB,MAAM,CAAC;gBACjC;YACF;YAEA,YAAY,QAAQ,UAAU,IAAI;YAElC,QAAQ;gBACN,UAAU;gBACV,OAAO;gBACP,aAAa;YACf;YAEA,kBAAkB,iBAAiB,QAAQ;YAC3C,sBAAsB,cAAc,QAAQ;YAC5C,2BAA2B,oBAAoB,QAAQ;QACzD,CAAC;IAED,OAAO;AACT"}},
    {"offset": {"line": 2913, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/react/utils/create-context-hook.ts"],"sourcesContent":["\"use client\";\n\nimport { useContext, Context } from \"react\";\n\n/**\n * Creates a context hook with optional support.\n * @param context - The React context to consume.\n * @param providerName - The name of the provider for error messages.\n * @returns A hook function that provides the context value.\n */\nexport function createContextHook<T>(\n  context: Context<T | null>,\n  providerName: string,\n) {\n  function useContextHook(options?: {\n    optional?: boolean | undefined;\n  }): T | null {\n    const contextValue = useContext(context);\n    if (!options?.optional && !contextValue) {\n      throw new Error(`This component must be used within ${providerName}.`);\n    }\n    return contextValue;\n  }\n\n  return useContextHook;\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAUO,SAAS,kBACd,OAA0B,EAC1B,YAAoB;IAEpB,SAAS,eAAe,OAEvB;QACC,MAAM,eAAe,IAAA,4ZAAU,EAAC;QAChC,IAAI,CAAC,SAAS,YAAY,CAAC,cAAc;YACvC,MAAM,IAAI,MAAM,CAAC,mCAAmC,EAAE,aAAa,CAAC,CAAC;QACvE;QACA,OAAO;IACT;IAEA,OAAO;AACT"}},
    {"offset": {"line": 2934, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/react/utils/create-context-store-hook.ts"],"sourcesContent":["import { UseBoundStore } from \"zustand\";\nimport { ReadonlyStore } from \"../../readonly-store\";\n\n/**\n * Creates hooks for accessing a store within a context.\n * @param contextHook - The hook to access the context.\n * @param contextKey - The key of the store in the context.\n * @returns An object containing the hooks: `use...` and `use...Store`.\n */\nexport function createContextStoreHook<T, K extends keyof T & string>(\n  contextHook: (options?: { optional?: boolean }) => T | null,\n  contextKey: K,\n) {\n  type StoreType = T[K];\n  type StateType = StoreType extends ReadonlyStore<infer S> ? S : never;\n\n  // Define useStoreStoreHook with overloads\n  function useStoreStoreHook(): ReadonlyStore<StateType>;\n  function useStoreStoreHook(options: {\n    optional: true;\n  }): ReadonlyStore<StateType> | null;\n  function useStoreStoreHook(options?: {\n    optional?: boolean;\n  }): ReadonlyStore<StateType> | null {\n    const context = contextHook(options);\n    if (!context) return null;\n    return context[contextKey] as ReadonlyStore<StateType>;\n  }\n\n  // Define useStoreHook with overloads\n  function useStoreHook(): StateType;\n  function useStoreHook<TSelected>(\n    selector: (state: StateType) => TSelected,\n  ): TSelected;\n  function useStoreHook(options: { optional: true }): StateType | null;\n  function useStoreHook<TSelected>(options: {\n    optional: true;\n    selector?: (state: StateType) => TSelected;\n  }): TSelected | null;\n  function useStoreHook<TSelected>(\n    param?:\n      | ((state: StateType) => TSelected)\n      | {\n          optional?: boolean;\n          selector?: (state: StateType) => TSelected;\n        },\n  ): TSelected | StateType | null {\n    let optional = false;\n    let selector: ((state: StateType) => TSelected) | undefined;\n\n    if (typeof param === \"function\") {\n      selector = param;\n    } else if (param && typeof param === \"object\") {\n      optional = !!param.optional;\n      selector = param.selector;\n    }\n\n    const store = useStoreStoreHook({\n      optional,\n    } as any) as UseBoundStore<ReadonlyStore<StateType>>;\n    if (!store) return null;\n    return selector ? store(selector) : store();\n  }\n\n  // Return an object with keys based on contextKey\n  return {\n    [contextKey]: useStoreHook,\n    [`${contextKey}Store`]: useStoreStoreHook,\n  } as {\n    [P in K]: typeof useStoreHook;\n  } & {\n    [P in `${K}Store`]: typeof useStoreStoreHook;\n  };\n}\n"],"names":[],"mappings":";;;;AASO,SAAS,uBACd,WAA2D,EAC3D,UAAa;IAUb,SAAS,kBAAkB,OAE1B;QACC,MAAM,UAAU,YAAY;QAC5B,IAAI,CAAC,SAAS,OAAO;QACrB,OAAO,OAAO,CAAC,WAAW;IAC5B;IAYA,SAAS,aACP,KAKK;QAEL,IAAI,WAAW;QACf,IAAI;QAEJ,IAAI,OAAO,UAAU,YAAY;YAC/B,WAAW;QACb,OAAO,IAAI,SAAS,OAAO,UAAU,UAAU;YAC7C,WAAW,CAAC,CAAC,MAAM,QAAQ;YAC3B,WAAW,MAAM,QAAQ;QAC3B;QAEA,MAAM,QAAQ,kBAAkB;YAC9B;QACF;QACA,IAAI,CAAC,OAAO,OAAO;QACnB,OAAO,WAAW,MAAM,YAAY;IACtC;IAEA,iDAAiD;IACjD,OAAO;QACL,CAAC,WAAW,EAAE;QACd,CAAC,GAAG,WAAW,KAAK,CAAC,CAAC,EAAE;IAC1B;AAKF"}},
    {"offset": {"line": 2969, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/react/thread-viewport-context.ts"],"sourcesContent":["\"use client\";\n\nimport { createContext } from \"react\";\nimport { ReadonlyStore } from \"../readonly-store\";\nimport { UseBoundStore } from \"zustand\";\nimport { createContextHook } from \"./utils/create-context-hook\";\nimport { createContextStoreHook } from \"./utils/create-context-store-hook\";\nimport { ThreadViewportState } from \"../stores\";\n\nexport type ThreadViewportContextValue = {\n  useThreadViewport: UseBoundStore<ReadonlyStore<ThreadViewportState>>;\n};\n\nexport const ThreadViewportContext =\n  createContext<ThreadViewportContextValue | null>(null);\n\nconst useThreadViewportContext = createContextHook(\n  ThreadViewportContext,\n  \"ThreadPrimitive.Viewport\",\n);\n\nexport const { useThreadViewport, useThreadViewportStore } =\n  createContextStoreHook(useThreadViewportContext, \"useThreadViewport\");\n"],"names":[],"mappings":";;;;;;;;AAEA;AAGA;AACA;AANA;;;;AAaO,MAAM,sCACX,IAAA,+ZAAa,EAAoC;AAEnD,MAAM,2BAA2B,IAAA,uMAAiB,EAChD,uBACA;AAGK,MAAM,EAAE,iBAAiB,EAAE,sBAAsB,EAAE,GACxD,IAAA,qNAAsB,EAAC,0BAA0B"}},
    {"offset": {"line": 2991, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/readonly-store.ts"],"sourcesContent":["import type { StoreApi } from \"zustand\";\n\nexport type ReadonlyStore<T> = Omit<StoreApi<T>, \"setState\" | \"destroy\">;\n\nexport const writableStore = <T>(store: ReadonlyStore<T> | undefined) => {\n  return store as unknown as StoreApi<T>;\n};\n"],"names":[],"mappings":";;;;AAIO,MAAM,gBAAgB,CAAI;IAC/B,OAAO;AACT"}},
    {"offset": {"line": 3002, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/providers/thread-viewport-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useEffect, useState } from \"react\";\nimport {\n  makeThreadViewportStore,\n  type ThreadViewportStoreOptions,\n} from \"../stores/thread-viewport\";\nimport {\n  ThreadViewportContext,\n  ThreadViewportContextValue,\n  useThreadViewportStore,\n} from \"../react/thread-viewport-context\";\nimport { writableStore } from \"../readonly-store\";\n\nexport type ThreadViewportProviderProps = PropsWithChildren<{\n  options?: ThreadViewportStoreOptions;\n}>;\n\nconst useThreadViewportStoreValue = (options: ThreadViewportStoreOptions) => {\n  const outerViewport = useThreadViewportStore({ optional: true });\n  const [store] = useState(() => makeThreadViewportStore(options));\n\n  // Forward scrollToBottom from outer viewport to inner viewport\n  useEffect(() => {\n    return outerViewport?.getState().onScrollToBottom(() => {\n      store.getState().scrollToBottom();\n    });\n  }, [outerViewport, store]);\n\n  useEffect(() => {\n    if (!outerViewport) return;\n    return store.subscribe((state) => {\n      if (outerViewport.getState().isAtBottom !== state.isAtBottom) {\n        writableStore(outerViewport).setState({ isAtBottom: state.isAtBottom });\n      }\n    });\n  }, [store, outerViewport]);\n\n  // Sync options to store when they change\n  useEffect(() => {\n    const nextState = {\n      turnAnchor: options.turnAnchor ?? \"bottom\",\n    };\n\n    const currentState = store.getState();\n    if (currentState.turnAnchor !== nextState.turnAnchor) {\n      writableStore(store).setState(nextState);\n    }\n  }, [store, options.turnAnchor]);\n\n  return store;\n};\n\nexport const ThreadPrimitiveViewportProvider: FC<\n  ThreadViewportProviderProps\n> = ({ children, options = {} }) => {\n  const useThreadViewport = useThreadViewportStoreValue(options);\n\n  const [context] = useState<ThreadViewportContextValue>(() => {\n    return {\n      useThreadViewport,\n    };\n  });\n\n  return (\n    <ThreadViewportContext.Provider value={context}>\n      {children}\n    </ThreadViewportContext.Provider>\n  );\n};\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAIA;AAKA;AAbA;;;;;;AAmBA,MAAM,8BAA8B,CAAC;IACnC,MAAM,gBAAgB,IAAA,uMAAsB,EAAC;QAAE,UAAU;IAAK;IAC9D,MAAM,CAAC,MAAM,GAAG,IAAA,0ZAAQ,EAAC,IAAM,IAAA,+LAAuB,EAAC;IAEvD,+DAA+D;IAC/D,IAAA,2ZAAS,EAAC;QACR,OAAO,eAAe,WAAW,iBAAiB;YAChD,MAAM,QAAQ,GAAG,cAAc;QACjC;IACF,GAAG;QAAC;QAAe;KAAM;IAEzB,IAAA,2ZAAS,EAAC;QACR,IAAI,CAAC,eAAe;QACpB,OAAO,MAAM,SAAS,CAAC,CAAC;YACtB,IAAI,cAAc,QAAQ,GAAG,UAAU,KAAK,MAAM,UAAU,EAAE;gBAC5D,IAAA,yKAAa,EAAC,eAAe,QAAQ,CAAC;oBAAE,YAAY,MAAM,UAAU;gBAAC;YACvE;QACF;IACF,GAAG;QAAC;QAAO;KAAc;IAEzB,yCAAyC;IACzC,IAAA,2ZAAS,EAAC;QACR,MAAM,YAAY;YAChB,YAAY,QAAQ,UAAU,IAAI;QACpC;QAEA,MAAM,eAAe,MAAM,QAAQ;QACnC,IAAI,aAAa,UAAU,KAAK,UAAU,UAAU,EAAE;YACpD,IAAA,yKAAa,EAAC,OAAO,QAAQ,CAAC;QAChC;IACF,GAAG;QAAC;QAAO,QAAQ,UAAU;KAAC;IAE9B,OAAO;AACT;AAEO,MAAM,kCAET,CAAC,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC,EAAE;IAC7B,MAAM,oBAAoB,4BAA4B;IAEtD,MAAM,CAAC,QAAQ,GAAG,IAAA,0ZAAQ,EAA6B;QACrD,OAAO;YACL;QACF;IACF;IAEA,qBACE,ubAAC,sMAAqB,CAAC,QAAQ;QAAC,OAAO;kBACpC;;;;;;AAGP"}},
    {"offset": {"line": 3079, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/legacy-runtime/assistant-runtime-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { FC, memo, PropsWithChildren, useEffect } from \"react\";\nimport { useAui, AuiProvider, AssistantClient } from \"@creatorem/ai-store\";\nimport { AssistantRuntime } from \"./runtime/assistant-runtime\";\nimport { AssistantRuntimeCore } from \"./runtime-cores/core/assistant-runtime-core\";\nimport { RuntimeAdapter } from \"./runtime-adapter\";\nimport { ThreadPrimitiveViewportProvider } from \"../context/providers/thread-viewport-provider\";\n// import { DevToolsProviderApi } from \"../devtools\";\n\nexport namespace AssistantRuntimeProvider {\n  export type Props = PropsWithChildren<{\n    /**\n     * The runtime to provide to the rest of your app.\n     */\n    runtime: AssistantRuntime;\n\n    /**\n     * The aui instance to extend. If not provided, a new aui instance will be created.\n     */\n    aui?: AssistantClient;\n  }>;\n}\n\nconst getRenderComponent = (runtime: AssistantRuntime) => {\n  return (runtime as { _core?: AssistantRuntimeCore })._core?.RenderComponent;\n};\n\nexport const AssistantRuntimeProviderImpl: FC<\n  AssistantRuntimeProvider.Props\n> = ({ children, aui: parent = null, runtime }) => {\n  const aui = useAui({ threads: RuntimeAdapter(runtime) }, { parent: parent });\n\n  // useEffect(() => {\n  //   if (process.env[\"NODE_ENV\"] === \"production\") return;\n  //   return DevToolsProviderApi.register(aui);\n  // }, [aui]);\n\n  const RenderComponent = getRenderComponent(runtime);\n\n  return (\n    <AuiProvider value={aui}>\n      {RenderComponent && <RenderComponent />}\n\n      {/* TODO temporarily allow accessing viewport state from outside the viewport */}\n      {/* TODO figure out if this behavior should be deprecated, since it is quite hacky */}\n      <ThreadPrimitiveViewportProvider>\n        {children}\n      </ThreadPrimitiveViewportProvider>\n    </AuiProvider>\n  );\n};\n\nexport const AssistantRuntimeProvider = memo(AssistantRuntimeProviderImpl);\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAAA;AAGA;AACA;AAPA;;;;;;AAwBA,MAAM,qBAAqB,CAAC;IAC1B,OAAO,AAAC,QAA6C,KAAK,EAAE;AAC9D;AAEO,MAAM,+BAET,CAAC,EAAE,QAAQ,EAAE,KAAK,SAAS,IAAI,EAAE,OAAO,EAAE;IAC5C,MAAM,MAAM,IAAA,iJAAM,EAAC;QAAE,SAAS,IAAA,qLAAc,EAAC;IAAS,GAAG;QAAE,QAAQ;IAAO;IAE1E,oBAAoB;IACpB,0DAA0D;IAC1D,8CAA8C;IAC9C,aAAa;IAEb,MAAM,kBAAkB,mBAAmB;IAE3C,qBACE,ubAAC,kLAAW;QAAC,OAAO;;YACjB,iCAAmB,ubAAC;;;;;0BAIrB,ubAAC,sNAA+B;0BAC7B;;;;;;;;;;;;AAIT;AAEO,MAAM,yCAA2B,IAAA,sZAAI,EAAC"}},
    {"offset": {"line": 3138, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 3147, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/attachment/attachment-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\n\ntype PrimitiveDivProps = ComponentPropsWithoutRef<typeof Primitive.div>;\n\nexport namespace AttachmentPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  /**\n   * Props for the AttachmentPrimitive.Root component.\n   * Accepts all standard div element props.\n   */\n  export type Props = PrimitiveDivProps;\n}\n\n/**\n * The root container component for an attachment.\n *\n * This component provides the foundational wrapper for attachment-related components\n * and content. It serves as the context provider for attachment state and actions.\n *\n * @example\n * ```tsx\n * <AttachmentPrimitive.Root>\n *   <AttachmentPrimitive.Name />\n *   <AttachmentPrimitive.Remove />\n * </AttachmentPrimitive.Root>\n * ```\n */\nexport const AttachmentPrimitiveRoot = forwardRef<\n  AttachmentPrimitiveRoot.Element,\n  AttachmentPrimitiveRoot.Props\n>((props, ref) => {\n  return <Primitive.div {...props} ref={ref} />;\n});\n\nAttachmentPrimitiveRoot.displayName = \"AttachmentPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AA8BO,MAAM,wCAA0B,IAAA,4ZAAU,EAG/C,CAAC,OAAO;IACR,qBAAO,ubAAC,mYAAS,CAAC,GAAG;QAAE,GAAG,KAAK;QAAE,KAAK;;;;;;AACxC;AAEA,wBAAwB,WAAW,GAAG"}},
    {"offset": {"line": 3173, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/use-aui-state.tsx"],"sourcesContent":["import { useSyncExternalStore, useDebugValue } from \"react\";\nimport type { AssistantState } from \"./types/client\";\nimport { useAui } from \"./use-aui\";\nimport { getProxiedAssistantState } from \"./utils/proxied-assistant-state\";\n\n/**\n * Hook to access a slice of the assistant state with automatic subscription\n *\n * @param selector - Function to select a slice of the state\n * @returns The selected state slice\n *\n * @example\n * ```typescript\n * const aui = useAui({\n *   foo: RootScope({ ... }),\n * });\n *\n * const bar = useAuiState((state) => state.foo.bar);\n * ```\n */\nexport const useAuiState = <T,>(selector: (state: AssistantState) => T): T => {\n  const aui = useAui();\n  const proxiedState = getProxiedAssistantState(aui);\n\n  const slice = useSyncExternalStore(\n    aui.subscribe,\n    () => selector(proxiedState),\n    () => selector(proxiedState),\n  );\n\n  if (slice === proxiedState) {\n    throw new Error(\n      \"You tried to return the entire AssistantState. This is not supported due to technical limitations.\",\n    );\n  }\n\n  useDebugValue(slice);\n\n  return slice;\n};\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;;;;AAiBO,MAAM,cAAc,CAAK;IAC9B,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,eAAe,IAAA,+LAAwB,EAAC;IAE9C,MAAM,QAAQ,IAAA,saAAoB,EAChC,IAAI,SAAS,EACb,IAAM,SAAS,eACf,IAAM,SAAS;IAGjB,IAAI,UAAU,cAAc;QAC1B,MAAM,IAAI,MACR;IAEJ;IAEA,IAAA,+ZAAa,EAAC;IAEd,OAAO;AACT"}},
    {"offset": {"line": 3197, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/attachment/attachment-thumb.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, forwardRef, type ComponentRef } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\n\ntype PrimitiveDivProps = ComponentPropsWithoutRef<typeof Primitive.div>;\n\nexport namespace AttachmentPrimitiveThumb {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = PrimitiveDivProps;\n}\n\nexport const AttachmentPrimitiveThumb = forwardRef<\n  AttachmentPrimitiveThumb.Element,\n  AttachmentPrimitiveThumb.Props\n>((props, ref) => {\n  const ext = useAuiState(({ attachment }) => {\n    const parts = attachment.name.split(\".\");\n    return parts.length > 1 ? parts.pop()! : \"\";\n  });\n  return (\n    <Primitive.div {...props} ref={ref}>\n      .{ext}\n    </Primitive.div>\n  );\n});\n\nAttachmentPrimitiveThumb.displayName = \"AttachmentPrimitive.Thumb\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,MAAM,yCAA2B,IAAA,4ZAAU,EAGhD,CAAC,OAAO;IACR,MAAM,MAAM,IAAA,+JAAW,EAAC,CAAC,EAAE,UAAU,EAAE;QACrC,MAAM,QAAQ,WAAW,IAAI,CAAC,KAAK,CAAC;QACpC,OAAO,MAAM,MAAM,GAAG,IAAI,MAAM,GAAG,KAAM;IAC3C;IACA,qBACE,ubAAC,mYAAS,CAAC,GAAG;QAAE,GAAG,KAAK;QAAE,KAAK;;YAAK;YAChC;;;;;;;AAGR;AAEA,yBAAyB,WAAW,GAAG"}},
    {"offset": {"line": 3233, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/attachment/attachment-name.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nexport namespace AttachmentPrimitiveName {\n  export type Props = Record<string, never>;\n}\n\nexport const AttachmentPrimitiveName: FC<\n  AttachmentPrimitiveName.Props\n> = () => {\n  const name = useAuiState(({ attachment }) => attachment.name);\n  return <>{name}</>;\n};\n\nAttachmentPrimitiveName.displayName = \"AttachmentPrimitive.Name\";\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AASO,MAAM,0BAET;IACF,MAAM,OAAO,IAAA,+JAAW,EAAC,CAAC,EAAE,UAAU,EAAE,GAAK,WAAW,IAAI;IAC5D,qBAAO;kBAAG;;AACZ;AAEA,wBAAwB,WAAW,GAAG"}},
    {"offset": {"line": 3253, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/utils/create-action-button.tsx"],"sourcesContent":["import {\n  ComponentRef,\n  forwardRef,\n  ComponentPropsWithoutRef,\n  MouseEventHandler,\n} from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\n\ntype ActionButtonCallback<TProps> = (\n  props: TProps,\n) => MouseEventHandler<HTMLButtonElement> | null;\n\ntype PrimitiveButtonProps = ComponentPropsWithoutRef<typeof Primitive.button>;\n\nexport type ActionButtonProps<THook> = PrimitiveButtonProps &\n  (THook extends (props: infer TProps) => unknown ? TProps : never);\n\nexport type ActionButtonElement = ComponentRef<typeof Primitive.button>;\n\nexport const createActionButton = <TProps,>(\n  displayName: string,\n  useActionButton: ActionButtonCallback<TProps>,\n  forwardProps: (keyof NonNullable<TProps>)[] = [],\n) => {\n  const ActionButton = forwardRef<\n    ActionButtonElement,\n    PrimitiveButtonProps & TProps\n  >((props, forwardedRef) => {\n    const forwardedProps = {} as TProps;\n    const primitiveProps = {} as PrimitiveButtonProps;\n\n    (Object.keys(props) as Array<keyof typeof props>).forEach((key) => {\n      if (forwardProps.includes(key as keyof TProps)) {\n        (forwardedProps as any)[key] = props[key];\n      } else {\n        (primitiveProps as any)[key] = props[key];\n      }\n    });\n\n    const callback = useActionButton(forwardedProps as TProps) ?? undefined;\n    return (\n      <Primitive.button\n        type=\"button\"\n        {...primitiveProps}\n        ref={forwardedRef}\n        disabled={primitiveProps.disabled || !callback}\n        onClick={composeEventHandlers(primitiveProps.onClick, callback)}\n      />\n    );\n  });\n\n  ActionButton.displayName = displayName;\n\n  return ActionButton;\n};\n"],"names":[],"mappings":";;;;;AAAA;AAMA;AACA;;;;;AAaO,MAAM,qBAAqB,CAChC,aACA,iBACA,eAA8C,EAAE;IAEhD,MAAM,6BAAe,IAAA,4ZAAU,EAG7B,CAAC,OAAO;QACR,MAAM,iBAAiB,CAAC;QACxB,MAAM,iBAAiB,CAAC;QAEvB,OAAO,IAAI,CAAC,OAAqC,OAAO,CAAC,CAAC;YACzD,IAAI,aAAa,QAAQ,CAAC,MAAsB;gBAC7C,cAAsB,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI;YAC3C,OAAO;gBACJ,cAAsB,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI;YAC3C;QACF;QAEA,MAAM,WAAW,gBAAgB,mBAA6B;QAC9D,qBACE,ubAAC,mYAAS,CAAC,MAAM;YACf,MAAK;YACJ,GAAG,cAAc;YAClB,KAAK;YACL,UAAU,eAAe,QAAQ,IAAI,CAAC;YACtC,SAAS,IAAA,2PAAoB,EAAC,eAAe,OAAO,EAAE;;;;;;IAG5D;IAEA,aAAa,WAAW,GAAG;IAE3B,OAAO;AACT"}},
    {"offset": {"line": 3296, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/attachment/attachment-remove.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAui } from \"@creatorem/ai-store\";\n\nconst useAttachmentRemove = () => {\n  const aui = useAui();\n\n  const handleRemoveAttachment = useCallback(() => {\n    aui.attachment().remove();\n  }, [aui]);\n\n  return handleRemoveAttachment;\n};\n\nexport namespace AttachmentPrimitiveRemove {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useAttachmentRemove>;\n}\n\nexport const AttachmentPrimitiveRemove = createActionButton(\n  \"AttachmentPrimitive.Remove\",\n  useAttachmentRemove,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AARA;;;;AAUA,MAAM,sBAAsB;IAC1B,MAAM,MAAM,IAAA,iJAAM;IAElB,MAAM,yBAAyB,IAAA,6ZAAW,EAAC;QACzC,IAAI,UAAU,GAAG,MAAM;IACzB,GAAG;QAAC;KAAI;IAER,OAAO;AACT;AAOO,MAAM,4BAA4B,IAAA,sLAAkB,EACzD,8BACA"}},
    {"offset": {"line": 3349, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 3366, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-send.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nexport const useComposerSend = () => {\n  const aui = useAui();\n\n  const disabled = useAuiState(\n    (s) => s.thread.isRunning || !s.composer.isEditing || s.composer.isEmpty,\n  );\n\n  const callback = useCallback(() => {\n    aui.composer().send();\n  }, [aui]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ComposerPrimitiveSend {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the ComposerPrimitive.Send component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useComposerSend>;\n}\n\n/**\n * A button component that sends the current message in the composer.\n *\n * This component automatically handles the send functionality and is disabled\n * when sending is not available (e.g., when the thread is running, the composer\n * is empty, or not in editing mode).\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Send>\n *   Send Message\n * </ComposerPrimitive.Send>\n * ```\n */\nexport const ComposerPrimitiveSend = createActionButton(\n  \"ComposerPrimitive.Send\",\n  useComposerSend,\n);\n"],"names":[],"mappings":";;;;;;AAEA;AAKA;AACA;AAAA;AARA;;;;AAUO,MAAM,kBAAkB;IAC7B,MAAM,MAAM,IAAA,iJAAM;IAElB,MAAM,WAAW,IAAA,+JAAW,EAC1B,CAAC,IAAM,EAAE,MAAM,CAAC,SAAS,IAAI,CAAC,EAAE,QAAQ,CAAC,SAAS,IAAI,EAAE,QAAQ,CAAC,OAAO;IAG1E,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,QAAQ,GAAG,IAAI;IACrB,GAAG;QAAC;KAAI;IAER,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAyBO,MAAM,wBAAwB,IAAA,sLAAkB,EACrD,0BACA"}},
    {"offset": {"line": 3396, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport {\n  type ComponentRef,\n  type FormEvent,\n  forwardRef,\n  ComponentPropsWithoutRef,\n} from \"react\";\nimport { useComposerSend } from \"./composer-send\";\n\nexport namespace ComposerPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.form>;\n  /**\n   * Props for the ComposerPrimitive.Root component.\n   * Accepts all standard form element props.\n   */\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.form>;\n}\n\n/**\n * The root form container for message composition.\n *\n * This component provides a form wrapper that handles message submission when the form\n * is submitted (e.g., via Enter key or submit button). It automatically prevents the\n * default form submission and triggers the composer's send functionality.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Root>\n *   <ComposerPrimitive.Input placeholder=\"Type your message...\" />\n *   <ComposerPrimitive.Send>Send</ComposerPrimitive.Send>\n * </ComposerPrimitive.Root>\n * ```\n */\nexport const ComposerPrimitiveRoot = forwardRef<\n  ComposerPrimitiveRoot.Element,\n  ComposerPrimitiveRoot.Props\n>(({ onSubmit, ...rest }, forwardedRef) => {\n  const send = useComposerSend();\n\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n\n    if (!send) return;\n    send();\n  };\n\n  return (\n    <Primitive.form\n      {...rest}\n      ref={forwardedRef}\n      onSubmit={composeEventHandlers(onSubmit, handleSubmit)}\n    />\n  );\n});\n\nComposerPrimitiveRoot.displayName = \"ComposerPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAMA;AAVA;;;;;;AAoCO,MAAM,sCAAwB,IAAA,4ZAAU,EAG7C,CAAC,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE;IACxB,MAAM,OAAO,IAAA,0LAAe;IAE5B,MAAM,eAAe,CAAC;QACpB,EAAE,cAAc;QAEhB,IAAI,CAAC,MAAM;QACX;IACF;IAEA,qBACE,ubAAC,mYAAS,CAAC,IAAI;QACZ,GAAG,IAAI;QACR,KAAK;QACL,UAAU,IAAA,2PAAoB,EAAC,UAAU;;;;;;AAG/C;AAEA,sBAAsB,WAAW,GAAG"}},
    {"offset": {"line": 3433, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/utils/hooks/use-on-scroll-to-bottom.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useEffect } from \"react\";\nimport { useThreadViewport } from \"../../context/react/thread-viewport-context\";\n\nexport const useOnScrollToBottom = (\n  callback: (config: { behavior: ScrollBehavior }) => void,\n) => {\n  const callbackRef = useCallbackRef(callback);\n  const onScrollToBottom = useThreadViewport((vp) => vp.onScrollToBottom);\n\n  useEffect(() => {\n    return onScrollToBottom(callbackRef);\n  }, [onScrollToBottom, callbackRef]);\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;AAMO,MAAM,sBAAsB,CACjC;IAEA,MAAM,cAAc,IAAA,2VAAc,EAAC;IACnC,MAAM,mBAAmB,IAAA,kMAAiB,EAAC,CAAC,KAAO,GAAG,gBAAgB;IAEtE,IAAA,2ZAAS,EAAC;QACR,OAAO,iBAAiB;IAC1B,GAAG;QAAC;QAAkB;KAAY;AACpC"}},
    {"offset": {"line": 3458, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-input.tsx"],"sourcesContent":["\"use client\";\n\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport {\n  ClipboardEvent,\n  type KeyboardEvent,\n  forwardRef,\n  useCallback,\n  useEffect,\n  useRef,\n} from \"react\";\nimport TextareaAutosize, {\n  type TextareaAutosizeProps,\n} from \"react-textarea-autosize\";\nimport { useEscapeKeydown } from \"@radix-ui/react-use-escape-keydown\";\nimport { useOnScrollToBottom } from \"../../utils/hooks/use-on-scroll-to-bottom\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\nimport { flushResourcesSync } from \"@creatorem/ai-tap\";\n\nexport namespace ComposerPrimitiveInput {\n  export type Element = HTMLTextAreaElement;\n  export type Props = TextareaAutosizeProps & {\n    /**\n     * Whether to render as a child component using Slot.\n     * When true, the component will merge its props with its child.\n     */\n    asChild?: boolean | undefined;\n    /**\n     * Whether to submit the message when Enter is pressed (without Shift).\n     * @default true\n     */\n    submitOnEnter?: boolean | undefined;\n    /**\n     * Whether to cancel message composition when Escape is pressed.\n     * @default true\n     */\n    cancelOnEscape?: boolean | undefined;\n    /**\n     * Whether to automatically focus the input when a new run starts.\n     * @default true\n     */\n    unstable_focusOnRunStart?: boolean | undefined;\n    /**\n     * Whether to automatically focus the input when scrolling to bottom.\n     * @default true\n     */\n    unstable_focusOnScrollToBottom?: boolean | undefined;\n    /**\n     * Whether to automatically focus the input when switching threads.\n     * @default true\n     */\n    unstable_focusOnThreadSwitched?: boolean | undefined;\n    /**\n     * Whether to automatically add pasted files as attachments.\n     * @default true\n     */\n    addAttachmentOnPaste?: boolean | undefined;\n  };\n}\n\n/**\n * A text input component for composing messages.\n *\n * This component provides a rich text input experience with automatic resizing,\n * keyboard shortcuts, file paste support, and intelligent focus management.\n * It integrates with the composer context to manage message state and submission.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Input\n *   placeholder=\"Type your message...\"\n *   submitOnEnter={true}\n *   addAttachmentOnPaste={true}\n * />\n * ```\n */\nexport const ComposerPrimitiveInput = forwardRef<\n  ComposerPrimitiveInput.Element,\n  ComposerPrimitiveInput.Props\n>(\n  (\n    {\n      autoFocus = false,\n      asChild,\n      disabled: disabledProp,\n      onChange,\n      onKeyDown,\n      onPaste,\n      submitOnEnter = true,\n      cancelOnEscape = true,\n      unstable_focusOnRunStart = true,\n      unstable_focusOnScrollToBottom = true,\n      unstable_focusOnThreadSwitched = true,\n      addAttachmentOnPaste = true,\n      ...rest\n    },\n    forwardedRef,\n  ) => {\n    const aui = useAui();\n\n    const value = useAuiState(({ composer }) => {\n      if (!composer.isEditing) return \"\";\n      return composer.text;\n    });\n\n    const Component = asChild ? Slot : TextareaAutosize;\n\n    const isDisabled =\n      useAuiState(\n        ({ thread, composer }) =>\n          thread.isDisabled || composer.dictation?.inputDisabled,\n      ) || disabledProp;\n    const textareaRef = useRef<HTMLTextAreaElement>(null);\n    const ref = useComposedRefs(forwardedRef, textareaRef);\n\n    useEscapeKeydown((e) => {\n      if (!cancelOnEscape) return;\n\n      // Only handle ESC if it originated from within this input\n      if (!textareaRef.current?.contains(e.target as Node)) return;\n\n      const composer = aui.composer();\n      if (composer.getState().canCancel) {\n        composer.cancel();\n        e.preventDefault();\n      }\n    });\n\n    const handleKeyPress = (e: KeyboardEvent) => {\n      if (isDisabled || !submitOnEnter) return;\n\n      // ignore IME composition events\n      if (e.nativeEvent.isComposing) return;\n\n      if (e.key === \"Enter\" && e.shiftKey === false) {\n        const isRunning = aui.thread().getState().isRunning;\n\n        if (!isRunning) {\n          e.preventDefault();\n\n          textareaRef.current?.closest(\"form\")?.requestSubmit();\n        }\n      }\n    };\n\n    const handlePaste = async (e: ClipboardEvent<HTMLTextAreaElement>) => {\n      if (!addAttachmentOnPaste) return;\n      const threadCapabilities = aui.thread().getState().capabilities;\n      const files = Array.from(e.clipboardData?.files || []);\n\n      if (threadCapabilities.attachments && files.length > 0) {\n        try {\n          e.preventDefault();\n          await Promise.all(\n            files.map((file) => aui.composer().addAttachment(file)),\n          );\n        } catch (error) {\n          console.error(\"Error adding attachment:\", error);\n        }\n      }\n    };\n\n    const autoFocusEnabled = autoFocus && !isDisabled;\n    const focus = useCallback(() => {\n      const textarea = textareaRef.current;\n      if (!textarea || !autoFocusEnabled) return;\n\n      textarea.focus({ preventScroll: true });\n      textarea.setSelectionRange(textarea.value.length, textarea.value.length);\n    }, [autoFocusEnabled]);\n\n    useEffect(() => focus(), [focus]);\n\n    useOnScrollToBottom(() => {\n      if (\n        aui.composer().getState().type === \"thread\" &&\n        unstable_focusOnScrollToBottom\n      ) {\n        focus();\n      }\n    });\n\n    useEffect(() => {\n      if (\n        aui.composer().getState().type !== \"thread\" ||\n        !unstable_focusOnRunStart\n      )\n        return undefined;\n\n      return aui.on(\"thread.runStart\", focus);\n    }, [unstable_focusOnRunStart, focus, aui]);\n\n    useEffect(() => {\n      if (\n        aui.composer().getState().type !== \"thread\" ||\n        !unstable_focusOnThreadSwitched\n      )\n        return undefined;\n\n      return aui.on(\"threadListItem.switchedTo\", focus);\n    }, [unstable_focusOnThreadSwitched, focus, aui]);\n\n    return (\n      <Component\n        name=\"input\"\n        value={value}\n        {...rest}\n        ref={ref as React.ForwardedRef<HTMLTextAreaElement>}\n        disabled={isDisabled}\n        onChange={composeEventHandlers(onChange, (e) => {\n          if (!aui.composer().getState().isEditing) return;\n          flushResourcesSync(() => {\n            aui.composer().setText(e.target.value);\n          });\n        })}\n        onKeyDown={composeEventHandlers(onKeyDown, handleKeyPress)}\n        onPaste={composeEventHandlers(onPaste, handlePaste)}\n      />\n    );\n  },\n);\n\nComposerPrimitiveInput.displayName = \"ComposerPrimitive.Input\";\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3589, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-cancel.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nconst useComposerCancel = () => {\n  const aui = useAui();\n  const disabled = useAuiState(({ composer }) => !composer.canCancel);\n\n  const callback = useCallback(() => {\n    aui.composer().cancel();\n  }, [aui]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ComposerPrimitiveCancel {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the ComposerPrimitive.Cancel component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useComposerCancel>;\n}\n\n/**\n * A button component that cancels the current message composition.\n *\n * This component automatically handles the cancel functionality and is disabled\n * when canceling is not available.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Cancel>\n *   Cancel\n * </ComposerPrimitive.Cancel>\n * ```\n */\nexport const ComposerPrimitiveCancel = createActionButton(\n  \"ComposerPrimitive.Cancel\",\n  useComposerCancel,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AAAA;AARA;;;;AAUA,MAAM,oBAAoB;IACxB,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,WAAW,IAAA,+JAAW,EAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,CAAC,SAAS,SAAS;IAElE,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,QAAQ,GAAG,MAAM;IACvB,GAAG;QAAC;KAAI;IAER,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAwBO,MAAM,0BAA0B,IAAA,sLAAkB,EACvD,4BACA"}},
    {"offset": {"line": 3617, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-add-attachment.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nconst useComposerAddAttachment = ({\n  multiple = true,\n}: {\n  /** allow selecting multiple files */\n  multiple?: boolean | undefined;\n} = {}) => {\n  const disabled = useAuiState(({ composer }) => !composer.isEditing);\n  const aui = useAui();\n\n  const callback = useCallback(() => {\n    const input = document.createElement(\"input\");\n    input.type = \"file\";\n    input.multiple = multiple;\n    input.hidden = true;\n\n    const attachmentAccept = aui.composer().getState().attachmentAccept;\n    if (attachmentAccept !== \"*\") {\n      input.accept = attachmentAccept;\n    }\n\n    document.body.appendChild(input);\n\n    input.onchange = (e) => {\n      const fileList = (e.target as HTMLInputElement).files;\n      if (!fileList) return;\n      for (const file of fileList) {\n        aui.composer().addAttachment(file);\n      }\n\n      document.body.removeChild(input);\n    };\n\n    input.oncancel = () => {\n      if (!input.files || input.files.length === 0) {\n        document.body.removeChild(input);\n      }\n    };\n\n    input.click();\n  }, [aui, multiple]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ComposerPrimitiveAddAttachment {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useComposerAddAttachment>;\n}\n\nexport const ComposerPrimitiveAddAttachment = createActionButton(\n  \"ComposerPrimitive.AddAttachment\",\n  useComposerAddAttachment,\n  [\"multiple\"],\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AAAA;AARA;;;;AAUA,MAAM,2BAA2B,CAAC,EAChC,WAAW,IAAI,EAIhB,GAAG,CAAC,CAAC;IACJ,MAAM,WAAW,IAAA,+JAAW,EAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,CAAC,SAAS,SAAS;IAClE,MAAM,MAAM,IAAA,iJAAM;IAElB,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,MAAM,QAAQ,SAAS,aAAa,CAAC;QACrC,MAAM,IAAI,GAAG;QACb,MAAM,QAAQ,GAAG;QACjB,MAAM,MAAM,GAAG;QAEf,MAAM,mBAAmB,IAAI,QAAQ,GAAG,QAAQ,GAAG,gBAAgB;QACnE,IAAI,qBAAqB,KAAK;YAC5B,MAAM,MAAM,GAAG;QACjB;QAEA,SAAS,IAAI,CAAC,WAAW,CAAC;QAE1B,MAAM,QAAQ,GAAG,CAAC;YAChB,MAAM,WAAW,AAAC,EAAE,MAAM,CAAsB,KAAK;YACrD,IAAI,CAAC,UAAU;YACf,KAAK,MAAM,QAAQ,SAAU;gBAC3B,IAAI,QAAQ,GAAG,aAAa,CAAC;YAC/B;YAEA,SAAS,IAAI,CAAC,WAAW,CAAC;QAC5B;QAEA,MAAM,QAAQ,GAAG;YACf,IAAI,CAAC,MAAM,KAAK,IAAI,MAAM,KAAK,CAAC,MAAM,KAAK,GAAG;gBAC5C,SAAS,IAAI,CAAC,WAAW,CAAC;YAC5B;QACF;QAEA,MAAM,KAAK;IACb,GAAG;QAAC;QAAK;KAAS;IAElB,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAOO,MAAM,iCAAiC,IAAA,sLAAkB,EAC9D,mCACA,0BACA;IAAC;CAAW"}},
    {"offset": {"line": 3670, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/providers/attachment-by-index-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport { useAui, AuiProvider, Derived } from \"@creatorem/ai-store\";\n\nexport const MessageAttachmentByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const aui = useAui({\n    attachment: Derived({\n      source: \"message\",\n      query: { type: \"index\", index },\n      get: (aui) => aui.message().attachment({ index }),\n    }),\n  });\n\n  return <AuiProvider value={aui}>{children}</AuiProvider>;\n};\n\nexport const ComposerAttachmentByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const aui = useAui({\n    attachment: Derived({\n      source: \"composer\",\n      query: { type: \"index\", index },\n      get: (aui) => aui.composer().attachment({ index }),\n    }),\n  });\n\n  return <AuiProvider value={aui}>{children}</AuiProvider>;\n};\n"],"names":[],"mappings":";;;;;;;AAGA;AAAA;AAAA;AAHA;;;AAKO,MAAM,mCAIT,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IACtB,MAAM,MAAM,IAAA,iJAAM,EAAC;QACjB,YAAY,IAAA,8IAAO,EAAC;YAClB,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;YAAM;YAC9B,KAAK,CAAC,MAAQ,IAAI,OAAO,GAAG,UAAU,CAAC;oBAAE;gBAAM;QACjD;IACF;IAEA,qBAAO,ubAAC,kLAAW;QAAC,OAAO;kBAAM;;;;;;AACnC;AAEO,MAAM,oCAIT,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IACtB,MAAM,MAAM,IAAA,iJAAM,EAAC;QACjB,YAAY,IAAA,8IAAO,EAAC;YAClB,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;YAAM;YAC9B,KAAK,CAAC,MAAQ,IAAI,QAAQ,GAAG,UAAU,CAAC;oBAAE;gBAAM;QAClD;IACF;IAEA,qBAAO,ubAAC,kLAAW;QAAC,OAAO;kBAAM;;;;;;AACnC"}},
    {"offset": {"line": 3731, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-attachments.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentType, type FC, memo, useMemo } from \"react\";\nimport { Attachment } from \"../../types\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { ComposerAttachmentByIndexProvider } from \"../../context/providers\";\n\nexport namespace ComposerPrimitiveAttachments {\n  export type Props = {\n    components:\n      | {\n          Image?: ComponentType | undefined;\n          Document?: ComponentType | undefined;\n          File?: ComponentType | undefined;\n          Attachment?: ComponentType | undefined;\n        }\n      | undefined;\n  };\n}\n\nconst getComponent = (\n  components: ComposerPrimitiveAttachments.Props[\"components\"],\n  attachment: Attachment,\n) => {\n  const type = attachment.type;\n  switch (type) {\n    case \"image\":\n      return components?.Image ?? components?.Attachment;\n    case \"document\":\n      return components?.Document ?? components?.Attachment;\n    case \"file\":\n      return components?.File ?? components?.Attachment;\n    default:\n      const _exhaustiveCheck: never = type;\n      throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n  }\n};\n\nconst AttachmentComponent: FC<{\n  components: ComposerPrimitiveAttachments.Props[\"components\"];\n}> = ({ components }) => {\n  const attachment = useAuiState(({ attachment }) => attachment);\n  if (!attachment) return null;\n\n  const Component = getComponent(components, attachment);\n  if (!Component) return null;\n  return <Component />;\n};\n\nexport namespace ComposerPrimitiveAttachmentByIndex {\n  export type Props = {\n    index: number;\n    components?: ComposerPrimitiveAttachments.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single attachment at the specified index within the composer.\n *\n * This component provides direct access to render a specific attachment\n * from the composer's attachment list using the provided component configuration.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.AttachmentByIndex\n *   index={0}\n *   components={{\n *     Image: MyImageAttachment,\n *     Document: MyDocumentAttachment\n *   }}\n * />\n * ```\n */\nexport const ComposerPrimitiveAttachmentByIndex: FC<ComposerPrimitiveAttachmentByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <ComposerAttachmentByIndexProvider index={index}>\n          <AttachmentComponent components={components} />\n        </ComposerAttachmentByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      prev.components?.Image === next.components?.Image &&\n      prev.components?.Document === next.components?.Document &&\n      prev.components?.File === next.components?.File &&\n      prev.components?.Attachment === next.components?.Attachment,\n  );\n\nComposerPrimitiveAttachmentByIndex.displayName =\n  \"ComposerPrimitive.AttachmentByIndex\";\n\nexport const ComposerPrimitiveAttachments: FC<\n  ComposerPrimitiveAttachments.Props\n> = ({ components }) => {\n  const attachmentsCount = useAuiState((s) => s.composer.attachments.length);\n\n  const attachmentElements = useMemo(() => {\n    return Array.from({ length: attachmentsCount }, (_, index) => (\n      <ComposerPrimitiveAttachmentByIndex\n        key={index}\n        index={index}\n        components={components}\n      />\n    ));\n  }, [attachmentsCount, components]);\n\n  return attachmentElements;\n};\n\nComposerPrimitiveAttachments.displayName = \"ComposerPrimitive.Attachments\";\n"],"names":[],"mappings":";;;;;;;AAEA;AAEA;AACA;AALA;;;;;AAoBA,MAAM,eAAe,CACnB,YACA;IAEA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;YACH,OAAO,YAAY,SAAS,YAAY;QAC1C,KAAK;YACH,OAAO,YAAY,YAAY,YAAY;QAC7C,KAAK;YACH,OAAO,YAAY,QAAQ,YAAY;QACzC;YACE,MAAM,mBAA0B;YAChC,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,kBAAkB;IAClE;AACF;AAEA,MAAM,sBAED,CAAC,EAAE,UAAU,EAAE;IAClB,MAAM,aAAa,IAAA,+JAAW,EAAC,CAAC,EAAE,UAAU,EAAE,GAAK;IACnD,IAAI,CAAC,YAAY,OAAO;IAExB,MAAM,YAAY,aAAa,YAAY;IAC3C,IAAI,CAAC,WAAW,OAAO;IACvB,qBAAO,ubAAC;;;;;AACV;AA0BO,MAAM,mDACX,IAAA,sZAAI,EACF,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;IACpB,qBACE,ubAAC,+NAAiC;QAAC,OAAO;kBACxC,cAAA,ubAAC;YAAoB,YAAY;;;;;;;;;;;AAGvC,GACA,CAAC,MAAM,OACL,KAAK,KAAK,KAAK,KAAK,KAAK,IACzB,KAAK,UAAU,EAAE,UAAU,KAAK,UAAU,EAAE,SAC5C,KAAK,UAAU,EAAE,aAAa,KAAK,UAAU,EAAE,YAC/C,KAAK,UAAU,EAAE,SAAS,KAAK,UAAU,EAAE,QAC3C,KAAK,UAAU,EAAE,eAAe,KAAK,UAAU,EAAE;AAGvD,mCAAmC,WAAW,GAC5C;AAEK,MAAM,+BAET,CAAC,EAAE,UAAU,EAAE;IACjB,MAAM,mBAAmB,IAAA,+JAAW,EAAC,CAAC,IAAM,EAAE,QAAQ,CAAC,WAAW,CAAC,MAAM;IAEzE,MAAM,qBAAqB,IAAA,yZAAO,EAAC;QACjC,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAiB,GAAG,CAAC,GAAG,sBAClD,ubAAC;gBAEC,OAAO;gBACP,YAAY;eAFP;;;;;IAKX,GAAG;QAAC;QAAkB;KAAW;IAEjC,OAAO;AACT;AAEA,6BAA6B,WAAW,GAAG"}},
    {"offset": {"line": 3812, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-attachment-dropzone.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef, useCallback, useState } from \"react\";\n\nimport { Slot } from \"@radix-ui/react-slot\";\nimport React from \"react\";\nimport { useAui } from \"@creatorem/ai-store\";\n\nexport namespace ComposerPrimitiveAttachmentDropzone {\n  export type Element = HTMLDivElement;\n  export type Props = React.HTMLAttributes<HTMLDivElement> & {\n    asChild?: boolean | undefined;\n    disabled?: boolean | undefined;\n  };\n}\n\nexport const ComposerPrimitiveAttachmentDropzone = forwardRef<\n  HTMLDivElement,\n  ComposerPrimitiveAttachmentDropzone.Props\n>(({ disabled, asChild = false, children, ...rest }, ref) => {\n  const [isDragging, setIsDragging] = useState(false);\n  const aui = useAui();\n\n  const handleDragEnterCapture = useCallback(\n    (e: React.DragEvent) => {\n      if (disabled) return;\n      e.preventDefault();\n      setIsDragging(true);\n    },\n    [disabled],\n  );\n\n  const handleDragOverCapture = useCallback(\n    (e: React.DragEvent) => {\n      if (disabled) return;\n      e.preventDefault();\n      if (!isDragging) setIsDragging(true);\n    },\n    [disabled, isDragging],\n  );\n\n  const handleDragLeaveCapture = useCallback(\n    (e: React.DragEvent) => {\n      if (disabled) return;\n      e.preventDefault();\n      const next = e.relatedTarget as Node | null;\n      if (next && e.currentTarget.contains(next)) {\n        return;\n      }\n      setIsDragging(false);\n    },\n    [disabled],\n  );\n\n  const handleDrop = useCallback(\n    async (e: React.DragEvent) => {\n      if (disabled) return;\n      e.preventDefault();\n      setIsDragging(false);\n      for (const file of e.dataTransfer.files) {\n        try {\n          await aui.composer().addAttachment(file);\n        } catch (error) {\n          console.error(\"Failed to add attachment:\", error);\n        }\n      }\n    },\n    [disabled, aui],\n  );\n\n  const dragProps = {\n    onDragEnterCapture: handleDragEnterCapture,\n    onDragOverCapture: handleDragOverCapture,\n    onDragLeaveCapture: handleDragLeaveCapture,\n    onDropCapture: handleDrop,\n  };\n\n  const Comp = asChild ? Slot : \"div\";\n\n  return (\n    <Comp\n      {...(isDragging ? { \"data-dragging\": \"true\" } : null)}\n      ref={ref}\n      {...dragProps}\n      {...rest}\n    >\n      {children}\n    </Comp>\n  );\n});\n\nComposerPrimitiveAttachmentDropzone.displayName =\n  \"ComposerPrimitive.AttachmentDropzone\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AAEA;AANA;;;;;AAgBO,MAAM,oDAAsC,IAAA,4ZAAU,EAG3D,CAAC,EAAE,QAAQ,EAAE,UAAU,KAAK,EAAE,QAAQ,EAAE,GAAG,MAAM,EAAE;IACnD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,0ZAAQ,EAAC;IAC7C,MAAM,MAAM,IAAA,iJAAM;IAElB,MAAM,yBAAyB,IAAA,6ZAAW,EACxC,CAAC;QACC,IAAI,UAAU;QACd,EAAE,cAAc;QAChB,cAAc;IAChB,GACA;QAAC;KAAS;IAGZ,MAAM,wBAAwB,IAAA,6ZAAW,EACvC,CAAC;QACC,IAAI,UAAU;QACd,EAAE,cAAc;QAChB,IAAI,CAAC,YAAY,cAAc;IACjC,GACA;QAAC;QAAU;KAAW;IAGxB,MAAM,yBAAyB,IAAA,6ZAAW,EACxC,CAAC;QACC,IAAI,UAAU;QACd,EAAE,cAAc;QAChB,MAAM,OAAO,EAAE,aAAa;QAC5B,IAAI,QAAQ,EAAE,aAAa,CAAC,QAAQ,CAAC,OAAO;YAC1C;QACF;QACA,cAAc;IAChB,GACA;QAAC;KAAS;IAGZ,MAAM,aAAa,IAAA,6ZAAW,EAC5B,OAAO;QACL,IAAI,UAAU;QACd,EAAE,cAAc;QAChB,cAAc;QACd,KAAK,MAAM,QAAQ,EAAE,YAAY,CAAC,KAAK,CAAE;YACvC,IAAI;gBACF,MAAM,IAAI,QAAQ,GAAG,aAAa,CAAC;YACrC,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,6BAA6B;YAC7C;QACF;IACF,GACA;QAAC;QAAU;KAAI;IAGjB,MAAM,YAAY;QAChB,oBAAoB;QACpB,mBAAmB;QACnB,oBAAoB;QACpB,eAAe;IACjB;IAEA,MAAM,OAAO,UAAU,6SAAI,GAAG;IAE9B,qBACE,ubAAC;QACE,GAAI,aAAa;YAAE,iBAAiB;QAAO,IAAI,IAAI;QACpD,KAAK;QACJ,GAAG,SAAS;QACZ,GAAG,IAAI;kBAEP;;;;;;AAGP;AAEA,oCAAoC,WAAW,GAC7C"}},
    {"offset": {"line": 3895, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-dictate.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback } from \"react\";\nimport { useAui, useAuiState } from \"@creatorem/ai-store\";\nimport type {\n  ActionButtonElement,\n  ActionButtonProps,\n} from \"../../utils/create-action-button\";\nimport { createActionButton } from \"../../utils/create-action-button\";\n\nconst useComposerDictate = () => {\n  const aui = useAui();\n  const disabled = useAuiState(\n    ({ thread, composer }) =>\n      composer.dictation != null ||\n      !thread.capabilities.dictation ||\n      !composer.isEditing,\n  );\n\n  const callback = useCallback(() => {\n    aui.composer().startDictation();\n  }, [aui]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ComposerPrimitiveDictate {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useComposerDictate>;\n}\n\n/**\n * A button that starts dictation to convert voice to text.\n *\n * Requires a DictationAdapter to be configured in the runtime.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.Dictate>\n *   <MicIcon />\n * </ComposerPrimitive.Dictate>\n * ```\n */\nexport const ComposerPrimitiveDictate = createActionButton(\n  \"ComposerPrimitive.Dictate\",\n  useComposerDictate,\n);\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAKA;AARA;;;;AAUA,MAAM,qBAAqB;IACzB,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,WAAW,IAAA,+JAAW,EAC1B,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE,GACnB,SAAS,SAAS,IAAI,QACtB,CAAC,OAAO,YAAY,CAAC,SAAS,IAC9B,CAAC,SAAS,SAAS;IAGvB,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,QAAQ,GAAG,cAAc;IAC/B,GAAG;QAAC;KAAI;IAER,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAmBO,MAAM,2BAA2B,IAAA,sLAAkB,EACxD,6BACA"}},
    {"offset": {"line": 3923, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-stop-dictation.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback } from \"react\";\nimport { useAui } from \"@creatorem/ai-store\";\nimport type {\n  ActionButtonElement,\n  ActionButtonProps,\n} from \"../../utils/create-action-button\";\nimport { createActionButton } from \"../../utils/create-action-button\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nconst useComposerStopDictation = () => {\n  const aui = useAui();\n  const isDictating = useAuiState(({ composer }) => composer.dictation != null);\n\n  const callback = useCallback(() => {\n    aui.composer().stopDictation();\n  }, [aui]);\n\n  if (!isDictating) return null;\n  return callback;\n};\n\nexport namespace ComposerPrimitiveStopDictation {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useComposerStopDictation>;\n}\n\n/**\n * A button that stops the current dictation session.\n *\n * Only rendered when dictation is active.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.StopDictation>\n *   <StopIcon />\n * </ComposerPrimitive.StopDictation>\n * ```\n */\nexport const ComposerPrimitiveStopDictation = createActionButton(\n  \"ComposerPrimitive.StopDictation\",\n  useComposerStopDictation,\n);\n"],"names":[],"mappings":";;;;AAEA;AACA;AAKA;AACA;AATA;;;;;AAWA,MAAM,2BAA2B;IAC/B,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,cAAc,IAAA,+JAAW,EAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,SAAS,SAAS,IAAI;IAExE,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,QAAQ,GAAG,aAAa;IAC9B,GAAG;QAAC;KAAI;IAER,IAAI,CAAC,aAAa,OAAO;IACzB,OAAO;AACT;AAmBO,MAAM,iCAAiC,IAAA,sLAAkB,EAC9D,mCACA"}},
    {"offset": {"line": 3952, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-dictation-transcript.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nexport namespace ComposerPrimitiveDictationTranscript {\n  export type Element = ComponentRef<typeof Primitive.span>;\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.span>;\n}\n\n/**\n * Renders the current interim (partial) transcript while dictation is active.\n *\n * This component displays real-time feedback of what the user is saying before\n * the transcription is finalized and committed to the composer input.\n *\n * @example\n * ```tsx\n * <ComposerPrimitive.If dictation>\n *   <div className=\"dictation-preview\">\n *     <ComposerPrimitive.DictationTranscript />\n *   </div>\n * </ComposerPrimitive.If>\n * ```\n */\nexport const ComposerPrimitiveDictationTranscript = forwardRef<\n  ComposerPrimitiveDictationTranscript.Element,\n  ComposerPrimitiveDictationTranscript.Props\n>(({ children, ...props }, forwardRef) => {\n  const transcript = useAuiState(\n    ({ composer }) => composer.dictation?.transcript,\n  );\n\n  if (!transcript) return null;\n\n  return (\n    <Primitive.span {...props} ref={forwardRef}>\n      {children ?? transcript}\n    </Primitive.span>\n  );\n});\n\nComposerPrimitiveDictationTranscript.displayName =\n  \"ComposerPrimitive.DictationTranscript\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AA0BO,MAAM,qDAAuC,IAAA,4ZAAU,EAG5D,CAAC,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACzB,MAAM,aAAa,IAAA,+JAAW,EAC5B,CAAC,EAAE,QAAQ,EAAE,GAAK,SAAS,SAAS,EAAE;IAGxC,IAAI,CAAC,YAAY,OAAO;IAExB,qBACE,ubAAC,mYAAS,CAAC,IAAI;QAAE,GAAG,KAAK;QAAE,KAAK;kBAC7B,YAAY;;;;;;AAGnB;AAEA,qCAAqC,WAAW,GAC9C"}},
    {"offset": {"line": 3983, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/composer/composer-if.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport type { RequireAtLeastOne } from \"../../utils/require-at-least-one\";\n\ntype ComposerIfFilters = {\n  /** Whether the composer is in editing mode */\n  editing: boolean | undefined;\n  /** Whether dictation is currently active */\n  dictation: boolean | undefined;\n};\n\nexport type UseComposerIfProps = RequireAtLeastOne<ComposerIfFilters>;\n\nconst useComposerIf = (props: UseComposerIfProps) => {\n  return useAuiState(({ composer }) => {\n    if (props.editing === true && !composer.isEditing) return false;\n    if (props.editing === false && composer.isEditing) return false;\n\n    const isDictating = composer.dictation != null;\n    if (props.dictation === true && !isDictating) return false;\n    if (props.dictation === false && isDictating) return false;\n\n    return true;\n  });\n};\n\nexport namespace ComposerPrimitiveIf {\n  export type Props = PropsWithChildren<UseComposerIfProps>;\n}\n\n/**\n * @deprecated Use `<AuiIf condition={({ composer }) => ...} />` instead.\n */\nexport const ComposerPrimitiveIf: FC<ComposerPrimitiveIf.Props> = ({\n  children,\n  ...query\n}) => {\n  const result = useComposerIf(query);\n  return result ? children : null;\n};\n\nComposerPrimitiveIf.displayName = \"ComposerPrimitive.If\";\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AAeA,MAAM,gBAAgB,CAAC;IACrB,OAAO,IAAA,+JAAW,EAAC,CAAC,EAAE,QAAQ,EAAE;QAC9B,IAAI,MAAM,OAAO,KAAK,QAAQ,CAAC,SAAS,SAAS,EAAE,OAAO;QAC1D,IAAI,MAAM,OAAO,KAAK,SAAS,SAAS,SAAS,EAAE,OAAO;QAE1D,MAAM,cAAc,SAAS,SAAS,IAAI;QAC1C,IAAI,MAAM,SAAS,KAAK,QAAQ,CAAC,aAAa,OAAO;QACrD,IAAI,MAAM,SAAS,KAAK,SAAS,aAAa,OAAO;QAErD,OAAO;IACT;AACF;AASO,MAAM,sBAAqD,CAAC,EACjE,QAAQ,EACR,GAAG,OACJ;IACC,MAAM,SAAS,cAAc;IAC7B,OAAO,SAAS,WAAW;AAC7B;AAEA,oBAAoB,WAAW,GAAG"}},
    {"offset": {"line": 4060, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 4074, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/utils/hooks/use-managed-ref.ts"],"sourcesContent":["import { useCallback, useRef } from \"react\";\n\nexport const useManagedRef = <TNode>(\n  callback: (node: TNode) => (() => void) | void,\n) => {\n  const cleanupRef = useRef<(() => void) | void>(undefined);\n\n  const ref = useCallback(\n    (el: TNode | null) => {\n      // Call the previous cleanup function\n      if (cleanupRef.current) {\n        cleanupRef.current();\n      }\n\n      // Call the new callback and store its cleanup function\n      if (el) {\n        cleanupRef.current = callback(el);\n      }\n    },\n    [callback],\n  );\n\n  return ref;\n};\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,gBAAgB,CAC3B;IAEA,MAAM,aAAa,IAAA,wZAAM,EAAsB;IAE/C,MAAM,MAAM,IAAA,6ZAAW,EACrB,CAAC;QACC,qCAAqC;QACrC,IAAI,WAAW,OAAO,EAAE;YACtB,WAAW,OAAO;QACpB;QAEA,uDAAuD;QACvD,IAAI,IAAI;YACN,WAAW,OAAO,GAAG,SAAS;QAChC;IACF,GACA;QAAC;KAAS;IAGZ,OAAO;AACT"}},
    {"offset": {"line": 4100, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/utils/hooks/use-size-handle.ts"],"sourcesContent":["\"use client\";\n\nimport { useCallback } from \"react\";\nimport { useManagedRef } from \"./use-managed-ref\";\nimport type { SizeHandle } from \"../../context/stores/thread-viewport\";\n\n/**\n * Hook that creates a ref for tracking element size via a SizeHandle.\n * Automatically sets up ResizeObserver and reports height changes.\n *\n * @param register - Function that returns a SizeHandle (e.g., registerContentInset)\n * @param getHeight - Optional function to compute height (defaults to el.offsetHeight)\n * @returns A ref callback to attach to the element\n */\nexport const useSizeHandle = (\n  register: (() => SizeHandle) | null | undefined,\n  getHeight?: (el: HTMLElement) => number,\n) => {\n  const callbackRef = useCallback(\n    (el: HTMLElement) => {\n      if (!register) return;\n\n      const sizeHandle = register();\n\n      const updateHeight = () => {\n        const height = getHeight ? getHeight(el) : el.offsetHeight;\n        sizeHandle.setHeight(height);\n      };\n\n      const ro = new ResizeObserver(updateHeight);\n      ro.observe(el);\n      updateHeight();\n\n      return () => {\n        ro.disconnect();\n        sizeHandle.unregister();\n      };\n    },\n    [register, getHeight],\n  );\n\n  return useManagedRef(callbackRef);\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;AAcO,MAAM,gBAAgB,CAC3B,UACA;IAEA,MAAM,cAAc,IAAA,6ZAAW,EAC7B,CAAC;QACC,IAAI,CAAC,UAAU;QAEf,MAAM,aAAa;QAEnB,MAAM,eAAe;YACnB,MAAM,SAAS,YAAY,UAAU,MAAM,GAAG,YAAY;YAC1D,WAAW,SAAS,CAAC;QACvB;QAEA,MAAM,KAAK,IAAI,eAAe;QAC9B,GAAG,OAAO,CAAC;QACX;QAEA,OAAO;YACL,GAAG,UAAU;YACb,WAAW,UAAU;QACvB;IACF,GACA;QAAC;QAAU;KAAU;IAGvB,OAAO,IAAA,oLAAa,EAAC;AACvB"}},
    {"offset": {"line": 4134, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-viewport-slack.tsx"],"sourcesContent":["\"use client\";\n\nimport { Slot } from \"@radix-ui/react-slot\";\nimport {\n  createContext,\n  type FC,\n  type ReactNode,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { useThreadViewportStore } from \"../../context/react/thread-viewport-context\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { useManagedRef } from \"../../utils/hooks/use-managed-ref\";\n\nconst SlackNestingContext = createContext(false);\n\nconst parseCssLength = (value: string, element: HTMLElement): number => {\n  const match = value.match(/^([\\d.]+)(em|px|rem)$/);\n  if (!match) return 0;\n\n  const num = parseFloat(match[1]!);\n  const unit = match[2];\n\n  if (unit === \"px\") return num;\n  if (unit === \"em\") {\n    const fontSize = parseFloat(getComputedStyle(element).fontSize) || 16;\n    return num * fontSize;\n  }\n  if (unit === \"rem\") {\n    const rootFontSize =\n      parseFloat(getComputedStyle(document.documentElement).fontSize) || 16;\n    return num * rootFontSize;\n  }\n  return 0;\n};\n\nexport type ThreadViewportSlackProps = {\n  /** Threshold at which the user message height clamps to the offset */\n  fillClampThreshold?: string;\n  /** Offset used when clamping large user messages */\n  fillClampOffset?: string;\n  children: ReactNode;\n};\n\n/**\n * A slot component that provides minimum height to enable scroll anchoring.\n *\n * When using `turnAnchor=\"top\"`, this component ensures there is\n * enough scroll room below the anchor point (last user message) for it to scroll\n * to the top of the viewport. The min-height is applied only to the last\n * assistant message.\n *\n * This component is used internally by MessagePrimitive.Root.\n */\nexport const ThreadPrimitiveViewportSlack: FC<ThreadViewportSlackProps> = ({\n  children,\n  fillClampThreshold = \"10em\",\n  fillClampOffset = \"6em\",\n}) => {\n  const shouldApplySlack = useAuiState(\n    // only add slack to the last assistant message following a user message (valid turn)\n    ({ thread, message }) =>\n      message.isLast &&\n      message.role === \"assistant\" &&\n      message.index >= 1 &&\n      thread.messages.at(message.index - 1)?.role === \"user\",\n  );\n  const threadViewportStore = useThreadViewportStore({ optional: true });\n  const isNested = useContext(SlackNestingContext);\n\n  const callback = useCallback(\n    (el: HTMLElement) => {\n      if (!threadViewportStore || isNested) return;\n\n      const updateMinHeight = () => {\n        const state = threadViewportStore.getState();\n        if (state.turnAnchor === \"top\" && shouldApplySlack) {\n          const { viewport, inset, userMessage } = state.height;\n          const threshold = parseCssLength(fillClampThreshold, el);\n          const offset = parseCssLength(fillClampOffset, el);\n          const clampAdjustment =\n            userMessage <= threshold ? userMessage : offset;\n\n          const minHeight = Math.max(0, viewport - inset - clampAdjustment);\n          el.style.minHeight = `${minHeight}px`;\n          el.style.flexShrink = \"0\";\n          el.style.transition = \"min-height 0s\";\n        } else {\n          el.style.minHeight = \"\";\n          el.style.flexShrink = \"\";\n          el.style.transition = \"\";\n        }\n      };\n\n      updateMinHeight();\n      return threadViewportStore.subscribe(updateMinHeight);\n    },\n    [\n      threadViewportStore,\n      shouldApplySlack,\n      isNested,\n      fillClampThreshold,\n      fillClampOffset,\n    ],\n  );\n\n  const ref = useManagedRef<HTMLElement>(callback);\n\n  return (\n    <SlackNestingContext.Provider value={true}>\n      <Slot ref={ref}>{children}</Slot>\n    </SlackNestingContext.Provider>\n  );\n};\n\nThreadPrimitiveViewportSlack.displayName = \"ThreadPrimitive.ViewportSlack\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAOA;AACA;AACA;AAZA;;;;;;;AAcA,MAAM,oCAAsB,IAAA,+ZAAa,EAAC;AAE1C,MAAM,iBAAiB,CAAC,OAAe;IACrC,MAAM,QAAQ,MAAM,KAAK,CAAC;IAC1B,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,MAAM,WAAW,KAAK,CAAC,EAAE;IAC/B,MAAM,OAAO,KAAK,CAAC,EAAE;IAErB,IAAI,SAAS,MAAM,OAAO;IAC1B,IAAI,SAAS,MAAM;QACjB,MAAM,WAAW,WAAW,iBAAiB,SAAS,QAAQ,KAAK;QACnE,OAAO,MAAM;IACf;IACA,IAAI,SAAS,OAAO;QAClB,MAAM,eACJ,WAAW,iBAAiB,SAAS,eAAe,EAAE,QAAQ,KAAK;QACrE,OAAO,MAAM;IACf;IACA,OAAO;AACT;AAoBO,MAAM,+BAA6D,CAAC,EACzE,QAAQ,EACR,qBAAqB,MAAM,EAC3B,kBAAkB,KAAK,EACxB;IACC,MAAM,mBAAmB,IAAA,+JAAW,EAClC,qFAAqF;IACrF,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,GAClB,QAAQ,MAAM,IACd,QAAQ,IAAI,KAAK,eACjB,QAAQ,KAAK,IAAI,KACjB,OAAO,QAAQ,CAAC,EAAE,CAAC,QAAQ,KAAK,GAAG,IAAI,SAAS;IAEpD,MAAM,sBAAsB,IAAA,uMAAsB,EAAC;QAAE,UAAU;IAAK;IACpE,MAAM,WAAW,IAAA,4ZAAU,EAAC;IAE5B,MAAM,WAAW,IAAA,6ZAAW,EAC1B,CAAC;QACC,IAAI,CAAC,uBAAuB,UAAU;QAEtC,MAAM,kBAAkB;YACtB,MAAM,QAAQ,oBAAoB,QAAQ;YAC1C,IAAI,MAAM,UAAU,KAAK,SAAS,kBAAkB;gBAClD,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG,MAAM,MAAM;gBACrD,MAAM,YAAY,eAAe,oBAAoB;gBACrD,MAAM,SAAS,eAAe,iBAAiB;gBAC/C,MAAM,kBACJ,eAAe,YAAY,cAAc;gBAE3C,MAAM,YAAY,KAAK,GAAG,CAAC,GAAG,WAAW,QAAQ;gBACjD,GAAG,KAAK,CAAC,SAAS,GAAG,GAAG,UAAU,EAAE,CAAC;gBACrC,GAAG,KAAK,CAAC,UAAU,GAAG;gBACtB,GAAG,KAAK,CAAC,UAAU,GAAG;YACxB,OAAO;gBACL,GAAG,KAAK,CAAC,SAAS,GAAG;gBACrB,GAAG,KAAK,CAAC,UAAU,GAAG;gBACtB,GAAG,KAAK,CAAC,UAAU,GAAG;YACxB;QACF;QAEA;QACA,OAAO,oBAAoB,SAAS,CAAC;IACvC,GACA;QACE;QACA;QACA;QACA;QACA;KACD;IAGH,MAAM,MAAM,IAAA,oLAAa,EAAc;IAEvC,qBACE,ubAAC,oBAAoB,QAAQ;QAAC,OAAO;kBACnC,cAAA,ubAAC,6SAAI;YAAC,KAAK;sBAAM;;;;;;;;;;;AAGvB;AAEA,6BAA6B,WAAW,GAAG"}},
    {"offset": {"line": 4225, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message/message-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport {\n  type ComponentRef,\n  forwardRef,\n  ComponentPropsWithoutRef,\n  useCallback,\n} from \"react\";\nimport { useAui, useAuiState } from \"@creatorem/ai-store\";\nimport { useManagedRef } from \"../../utils/hooks/use-managed-ref\";\nimport { useSizeHandle } from \"../../utils/hooks/use-size-handle\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useThreadViewport } from \"../../context/react/thread-viewport-context\";\nimport { ThreadPrimitiveViewportSlack } from \"../thread/thread-viewport-slack\";\n\nconst useIsHoveringRef = () => {\n  const aui = useAui();\n  const message = useAuiState(() => aui.message());\n\n  const callbackRef = useCallback(\n    (el: HTMLElement) => {\n      const handleMouseEnter = () => {\n        message.setIsHovering(true);\n      };\n      const handleMouseLeave = () => {\n        message.setIsHovering(false);\n      };\n\n      el.addEventListener(\"mouseenter\", handleMouseEnter);\n      el.addEventListener(\"mouseleave\", handleMouseLeave);\n\n      if (el.matches(\":hover\")) {\n        // TODO this is needed for SSR to work, figure out why\n        queueMicrotask(() => message.setIsHovering(true));\n      }\n\n      return () => {\n        el.removeEventListener(\"mouseenter\", handleMouseEnter);\n        el.removeEventListener(\"mouseleave\", handleMouseLeave);\n        message.setIsHovering(false);\n      };\n    },\n    [message],\n  );\n\n  return useManagedRef(callbackRef);\n};\n\n/**\n * Hook that registers the anchor user message as a content inset.\n * Only registers if: user message, at index messages.length-2, and last message is assistant.\n */\nconst useMessageViewportRef = () => {\n  const turnAnchor = useThreadViewport((s) => s.turnAnchor);\n  const registerUserHeight = useThreadViewport(\n    (s) => s.registerUserMessageHeight,\n  );\n\n  // inset rules:\n  // - the previous user message before the last assistant message registers its full height\n  const shouldRegisterAsInset = useAuiState(\n    ({ thread, message }) =>\n      turnAnchor === \"top\" &&\n      message.role === \"user\" &&\n      message.index === thread.messages.length - 2 &&\n      thread.messages.at(-1)?.role === \"assistant\",\n  );\n\n  const getHeight = useCallback((el: HTMLElement) => el.offsetHeight, []);\n\n  return useSizeHandle(\n    shouldRegisterAsInset ? registerUserHeight : null,\n    getHeight,\n  );\n};\n\nexport namespace MessagePrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  /**\n   * Props for the MessagePrimitive.Root component.\n   * Accepts all standard div element props.\n   */\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div>;\n}\n\n/**\n * The root container component for a message.\n *\n * This component provides the foundational wrapper for message content and handles\n * hover state management for the message. It automatically tracks when the user\n * is hovering over the message, which can be used by child components like action bars.\n *\n * When `turnAnchor=\"top\"` is set on the viewport, this component\n * registers itself as the scroll anchor if it's the last user message.\n *\n * @example\n * ```tsx\n * <MessagePrimitive.Root>\n *   <MessagePrimitive.Content />\n *   <ActionBarPrimitive.Root>\n *     <ActionBarPrimitive.Copy />\n *     <ActionBarPrimitive.Edit />\n *   </ActionBarPrimitive.Root>\n * </MessagePrimitive.Root>\n * ```\n */\nexport const MessagePrimitiveRoot = forwardRef<\n  MessagePrimitiveRoot.Element,\n  MessagePrimitiveRoot.Props\n>((props, forwardRef) => {\n  const isHoveringRef = useIsHoveringRef();\n  const anchorUserMessageRef = useMessageViewportRef();\n  const ref = useComposedRefs<HTMLDivElement>(\n    forwardRef,\n    isHoveringRef,\n    anchorUserMessageRef,\n  );\n\n  return (\n    <ThreadPrimitiveViewportSlack>\n      <Primitive.div {...props} ref={ref} />\n    </ThreadPrimitiveViewportSlack>\n  );\n});\n\nMessagePrimitiveRoot.displayName = \"MessagePrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAMA;AAAA;AACA;AACA;AACA;AACA;AACA;AAdA;;;;;;;;;;AAgBA,MAAM,mBAAmB;IACvB,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,UAAU,IAAA,+JAAW,EAAC,IAAM,IAAI,OAAO;IAE7C,MAAM,cAAc,IAAA,6ZAAW,EAC7B,CAAC;QACC,MAAM,mBAAmB;YACvB,QAAQ,aAAa,CAAC;QACxB;QACA,MAAM,mBAAmB;YACvB,QAAQ,aAAa,CAAC;QACxB;QAEA,GAAG,gBAAgB,CAAC,cAAc;QAClC,GAAG,gBAAgB,CAAC,cAAc;QAElC,IAAI,GAAG,OAAO,CAAC,WAAW;YACxB,sDAAsD;YACtD,eAAe,IAAM,QAAQ,aAAa,CAAC;QAC7C;QAEA,OAAO;YACL,GAAG,mBAAmB,CAAC,cAAc;YACrC,GAAG,mBAAmB,CAAC,cAAc;YACrC,QAAQ,aAAa,CAAC;QACxB;IACF,GACA;QAAC;KAAQ;IAGX,OAAO,IAAA,oLAAa,EAAC;AACvB;AAEA;;;CAGC,GACD,MAAM,wBAAwB;IAC5B,MAAM,aAAa,IAAA,kMAAiB,EAAC,CAAC,IAAM,EAAE,UAAU;IACxD,MAAM,qBAAqB,IAAA,kMAAiB,EAC1C,CAAC,IAAM,EAAE,yBAAyB;IAGpC,eAAe;IACf,0FAA0F;IAC1F,MAAM,wBAAwB,IAAA,+JAAW,EACvC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE,GAClB,eAAe,SACf,QAAQ,IAAI,KAAK,UACjB,QAAQ,KAAK,KAAK,OAAO,QAAQ,CAAC,MAAM,GAAG,KAC3C,OAAO,QAAQ,CAAC,EAAE,CAAC,CAAC,IAAI,SAAS;IAGrC,MAAM,YAAY,IAAA,6ZAAW,EAAC,CAAC,KAAoB,GAAG,YAAY,EAAE,EAAE;IAEtE,OAAO,IAAA,oLAAa,EAClB,wBAAwB,qBAAqB,MAC7C;AAEJ;AAgCO,MAAM,qCAAuB,IAAA,4ZAAU,EAG5C,CAAC,OAAO;IACR,MAAM,gBAAgB;IACtB,MAAM,uBAAuB;IAC7B,MAAM,MAAM,IAAA,8UAAe,EACzB,YACA,eACA;IAGF,qBACE,ubAAC,gNAA4B;kBAC3B,cAAA,ubAAC,mYAAS,CAAC,GAAG;YAAE,GAAG,KAAK;YAAE,KAAK;;;;;;;;;;;AAGrC;AAEA,qBAAqB,WAAW,GAAG"}},
    {"offset": {"line": 4311, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/providers/part-by-index-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport { useAui, AuiProvider, Derived } from \"@creatorem/ai-store\";\n\nexport const PartByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const aui = useAui({\n    part: Derived({\n      source: \"message\",\n      query: { type: \"index\", index },\n      get: (aui) => aui.message().part({ index }),\n    }),\n  });\n\n  return <AuiProvider value={aui}>{children}</AuiProvider>;\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAHA;;;AAKO,MAAM,sBAIT,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IACtB,MAAM,MAAM,IAAA,iJAAM,EAAC;QACjB,MAAM,IAAA,8IAAO,EAAC;YACZ,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;YAAM;YAC9B,KAAK,CAAC,MAAQ,IAAI,OAAO,GAAG,IAAI,CAAC;oBAAE;gBAAM;QAC3C;IACF;IAEA,qBAAO,ubAAC,kLAAW;QAAC,OAAO;kBAAM;;;;;;AACnC"}},
    {"offset": {"line": 4348, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/providers/text-message-part-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport { useAui, AuiProvider, type ClientOutput } from \"@creatorem/ai-store\";\nimport { PartState } from \"../../types/scopes\";\nimport { resource, tapMemo } from \"@creatorem/ai-tap\";\n\nconst TextMessagePartClient = resource(\n  ({\n    text,\n    isRunning,\n  }: {\n    text: string;\n    isRunning: boolean;\n  }): ClientOutput<\"part\"> => {\n    const state = tapMemo<PartState>(\n      () => ({\n        type: \"text\",\n        text,\n        status: isRunning ? { type: \"running\" } : { type: \"complete\" },\n      }),\n      [text, isRunning],\n    );\n\n    return {\n      state,\n      methods: {\n        getState: () => state,\n        addToolResult: () => {\n          throw new Error(\"Not supported\");\n        },\n        resumeToolCall: () => {\n          throw new Error(\"Not supported\");\n        },\n      },\n    };\n  },\n);\n\nexport const TextMessagePartProvider: FC<\n  PropsWithChildren<{\n    text: string;\n    isRunning?: boolean;\n  }>\n> = ({ text, isRunning = false, children }) => {\n  const aui = useAui({\n    part: TextMessagePartClient({ text, isRunning }),\n  });\n\n  return <AuiProvider value={aui}>{children}</AuiProvider>;\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAEA;AAAA;AALA;;;;AAOA,MAAM,wBAAwB,IAAA,sJAAQ,EACpC,CAAC,EACC,IAAI,EACJ,SAAS,EAIV;IACC,MAAM,QAAQ,IAAA,yJAAO,EACnB,IAAM,CAAC;YACL,MAAM;YACN;YACA,QAAQ,YAAY;gBAAE,MAAM;YAAU,IAAI;gBAAE,MAAM;YAAW;QAC/D,CAAC,GACD;QAAC;QAAM;KAAU;IAGnB,OAAO;QACL;QACA,SAAS;YACP,UAAU,IAAM;YAChB,eAAe;gBACb,MAAM,IAAI,MAAM;YAClB;YACA,gBAAgB;gBACd,MAAM,IAAI,MAAM;YAClB;QACF;IACF;AACF;AAGK,MAAM,0BAKT,CAAC,EAAE,IAAI,EAAE,YAAY,KAAK,EAAE,QAAQ,EAAE;IACxC,MAAM,MAAM,IAAA,iJAAM,EAAC;QACjB,MAAM,sBAAsB;YAAE;YAAM;QAAU;IAChD;IAEA,qBAAO,ubAAC,kLAAW;QAAC,OAAO;kBAAM;;;;;;AACnC"}},
    {"offset": {"line": 4407, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message-part/use-message-part-text.tsx"],"sourcesContent":["\"use client\";\n\nimport { MessagePartState } from \"../../legacy-runtime/runtime/message-part-runtime\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { TextMessagePart, ReasoningMessagePart } from \"../../types\";\n\nexport const useMessagePartText = () => {\n  const text = useAuiState(({ part }) => {\n    if (part.type !== \"text\" && part.type !== \"reasoning\")\n      throw new Error(\n        \"MessagePartText can only be used inside text or reasoning message parts.\",\n      );\n\n    return part as MessagePartState & (TextMessagePart | ReasoningMessagePart);\n  });\n\n  return text;\n};\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AAMO,MAAM,qBAAqB;IAChC,MAAM,OAAO,IAAA,+JAAW,EAAC,CAAC,EAAE,IAAI,EAAE;QAChC,IAAI,KAAK,IAAI,KAAK,UAAU,KAAK,IAAI,KAAK,aACxC,MAAM,IAAI,MACR;QAGJ,OAAO;IACT;IAEA,OAAO;AACT"}},
    {"offset": {"line": 4425, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/utils/smooth/smooth-context.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ComponentType,\n  createContext,\n  FC,\n  forwardRef,\n  PropsWithChildren,\n  useContext,\n  useState,\n} from \"react\";\nimport { ReadonlyStore } from \"../../context/readonly-store\";\nimport { create, UseBoundStore } from \"zustand\";\nimport {\n  MessagePartStatus,\n  ToolCallMessagePartStatus,\n} from \"../../types/assistant-types\";\nimport { useAui } from \"@creatorem/ai-store\";\nimport { createContextStoreHook } from \"../../context/react/utils/create-context-store-hook\";\n\ntype SmoothContextValue = {\n  useSmoothStatus: UseBoundStore<\n    ReadonlyStore<MessagePartStatus | ToolCallMessagePartStatus>\n  >;\n};\n\nconst SmoothContext = createContext<SmoothContextValue | null>(null);\n\nconst makeSmoothContext = (\n  initialState: MessagePartStatus | ToolCallMessagePartStatus,\n) => {\n  const useSmoothStatus = create(() => initialState);\n  return { useSmoothStatus };\n};\n\nexport const SmoothContextProvider: FC<PropsWithChildren> = ({ children }) => {\n  const outer = useSmoothContext({ optional: true });\n  const aui = useAui();\n\n  const [context] = useState(() =>\n    makeSmoothContext(aui.part().getState().status),\n  );\n\n  // do not wrap if there is an outer SmoothContextProvider\n  if (outer) return children;\n\n  return (\n    <SmoothContext.Provider value={context}>{children}</SmoothContext.Provider>\n  );\n};\n\nexport const withSmoothContextProvider = <C extends ComponentType<any>>(\n  Component: C,\n): C => {\n  const Wrapped = forwardRef((props, ref) => {\n    return (\n      <SmoothContextProvider>\n        <Component {...(props as any)} ref={ref} />\n      </SmoothContextProvider>\n    );\n  });\n  Wrapped.displayName = Component.displayName;\n  return Wrapped as any;\n};\n\nfunction useSmoothContext(options?: {\n  optional?: false | undefined;\n}): SmoothContextValue;\nfunction useSmoothContext(options?: {\n  optional?: boolean | undefined;\n}): SmoothContextValue | null;\nfunction useSmoothContext(options?: { optional?: boolean | undefined }) {\n  const context = useContext(SmoothContext);\n  if (!options?.optional && !context)\n    throw new Error(\n      \"This component must be used within a SmoothContextProvider.\",\n    );\n  return context;\n}\n\nexport const { useSmoothStatus, useSmoothStatusStore } = createContextStoreHook(\n  useSmoothContext,\n  \"useSmoothStatus\",\n);\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AAUA;AAKA;AACA;AAlBA;;;;;;AA0BA,MAAM,8BAAgB,IAAA,+ZAAa,EAA4B;AAE/D,MAAM,oBAAoB,CACxB;IAEA,MAAM,kBAAkB,IAAA,8VAAM,EAAC,IAAM;IACrC,OAAO;QAAE;IAAgB;AAC3B;AAEO,MAAM,wBAA+C,CAAC,EAAE,QAAQ,EAAE;IACvE,MAAM,QAAQ,iBAAiB;QAAE,UAAU;IAAK;IAChD,MAAM,MAAM,IAAA,iJAAM;IAElB,MAAM,CAAC,QAAQ,GAAG,IAAA,0ZAAQ,EAAC,IACzB,kBAAkB,IAAI,IAAI,GAAG,QAAQ,GAAG,MAAM;IAGhD,yDAAyD;IACzD,IAAI,OAAO,OAAO;IAElB,qBACE,ubAAC,cAAc,QAAQ;QAAC,OAAO;kBAAU;;;;;;AAE7C;AAEO,MAAM,4BAA4B,CACvC;IAEA,MAAM,wBAAU,IAAA,4ZAAU,EAAC,CAAC,OAAO;QACjC,qBACE,ubAAC;sBACC,cAAA,ubAAC;gBAAW,GAAI,KAAK;gBAAU,KAAK;;;;;;;;;;;IAG1C;IACA,QAAQ,WAAW,GAAG,UAAU,WAAW;IAC3C,OAAO;AACT;AAQA,SAAS,iBAAiB,OAA4C;IACpE,MAAM,UAAU,IAAA,4ZAAU,EAAC;IAC3B,IAAI,CAAC,SAAS,YAAY,CAAC,SACzB,MAAM,IAAI,MACR;IAEJ,OAAO;AACT;AAEO,MAAM,EAAE,eAAe,EAAE,oBAAoB,EAAE,GAAG,IAAA,qNAAsB,EAC7E,kBACA"}},
    {"offset": {"line": 4500, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/utils/smooth/use-smooth.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport {\n  MessagePartStatus,\n  ReasoningMessagePart,\n  TextMessagePart,\n} from \"../../types/assistant-types\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useSmoothStatusStore } from \"./smooth-context\";\nimport { writableStore } from \"../../context/readonly-store\";\nimport { MessagePartState } from \"../../legacy-runtime/runtime/message-part-runtime\";\n\nclass TextStreamAnimator {\n  private animationFrameId: number | null = null;\n  private lastUpdateTime: number = Date.now();\n\n  public targetText: string = \"\";\n\n  constructor(\n    public currentText: string,\n    private setText: (newText: string) => void,\n  ) {}\n\n  start() {\n    if (this.animationFrameId !== null) return;\n    this.lastUpdateTime = Date.now();\n    this.animate();\n  }\n\n  stop() {\n    if (this.animationFrameId !== null) {\n      cancelAnimationFrame(this.animationFrameId);\n      this.animationFrameId = null;\n    }\n  }\n\n  private animate = () => {\n    const currentTime = Date.now();\n    const deltaTime = currentTime - this.lastUpdateTime;\n    let timeToConsume = deltaTime;\n\n    const remainingChars = this.targetText.length - this.currentText.length;\n    const baseTimePerChar = Math.min(5, 250 / remainingChars);\n\n    let charsToAdd = 0;\n    while (timeToConsume >= baseTimePerChar && charsToAdd < remainingChars) {\n      charsToAdd++;\n      timeToConsume -= baseTimePerChar;\n    }\n\n    if (charsToAdd !== remainingChars) {\n      this.animationFrameId = requestAnimationFrame(this.animate);\n    } else {\n      this.animationFrameId = null;\n    }\n    if (charsToAdd === 0) return;\n\n    this.currentText = this.targetText.slice(\n      0,\n      this.currentText.length + charsToAdd,\n    );\n    this.lastUpdateTime = currentTime - timeToConsume;\n    this.setText(this.currentText);\n  };\n}\n\nconst SMOOTH_STATUS: MessagePartStatus = Object.freeze({\n  type: \"running\",\n});\n\nexport const useSmooth = (\n  state: MessagePartState & (TextMessagePart | ReasoningMessagePart),\n  smooth: boolean = false,\n): MessagePartState & (TextMessagePart | ReasoningMessagePart) => {\n  const { text } = state;\n  const id = useAuiState(({ message }) => message.id);\n\n  const idRef = useRef(id);\n  const [displayedText, setDisplayedText] = useState(text);\n\n  const smoothStatusStore = useSmoothStatusStore({ optional: true });\n  const setText = useCallbackRef((text: string) => {\n    setDisplayedText(text);\n    if (smoothStatusStore) {\n      const target =\n        displayedText !== text || state.status.type === \"running\"\n          ? SMOOTH_STATUS\n          : state.status;\n      writableStore(smoothStatusStore).setState(target, true);\n    }\n  });\n\n  // TODO this is hacky\n  useEffect(() => {\n    if (smoothStatusStore) {\n      const target =\n        smooth && (displayedText !== text || state.status.type === \"running\")\n          ? SMOOTH_STATUS\n          : state.status;\n      writableStore(smoothStatusStore).setState(target, true);\n    }\n  }, [smoothStatusStore, smooth, text, displayedText, state.status]);\n\n  const [animatorRef] = useState<TextStreamAnimator>(\n    new TextStreamAnimator(text, setText),\n  );\n\n  useEffect(() => {\n    if (!smooth) {\n      animatorRef.stop();\n      return;\n    }\n\n    if (idRef.current !== id || !text.startsWith(animatorRef.targetText)) {\n      idRef.current = id;\n      setText(text);\n\n      animatorRef.currentText = text;\n      animatorRef.targetText = text;\n      animatorRef.stop();\n\n      return;\n    }\n\n    animatorRef.targetText = text;\n    animatorRef.start();\n  }, [setText, animatorRef, id, smooth, text]);\n\n  useEffect(() => {\n    return () => {\n      animatorRef.stop();\n    };\n  }, [animatorRef]);\n\n  return useMemo(\n    () =>\n      smooth\n        ? {\n            type: \"text\",\n            text: displayedText,\n            status: text === displayedText ? state.status : SMOOTH_STATUS,\n          }\n        : state,\n    [smooth, displayedText, state, text],\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4638, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message-part/message-part-text.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport {\n  type ComponentRef,\n  forwardRef,\n  ComponentPropsWithoutRef,\n  ElementType,\n} from \"react\";\nimport { useMessagePartText } from \"./use-message-part-text\";\nimport { useSmooth } from \"../../utils/smooth/use-smooth\";\n\nexport namespace MessagePartPrimitiveText {\n  export type Element = ComponentRef<typeof Primitive.span>;\n  export type Props = Omit<\n    ComponentPropsWithoutRef<typeof Primitive.span>,\n    \"children\" | \"asChild\"\n  > & {\n    /**\n     * Whether to enable smooth text streaming animation.\n     * When enabled, text appears with a typing effect as it streams in.\n     * @default true\n     */\n    smooth?: boolean;\n    /**\n     * The HTML element or React component to render as.\n     * @default \"span\"\n     */\n    component?: ElementType;\n  };\n}\n\n/**\n * Renders the text content of a message part with optional smooth streaming.\n *\n * This component displays text content from the current message part context,\n * with support for smooth streaming animation that shows text appearing\n * character by character as it's generated.\n *\n * @example\n * ```tsx\n * <MessagePartPrimitive.Text\n *   smooth={true}\n *   component=\"p\"\n *   className=\"message-text\"\n * />\n * ```\n */\nexport const MessagePartPrimitiveText = forwardRef<\n  MessagePartPrimitiveText.Element,\n  MessagePartPrimitiveText.Props\n>(({ smooth = true, component: Component = \"span\", ...rest }, forwardedRef) => {\n  const { text, status } = useSmooth(useMessagePartText(), smooth);\n\n  return (\n    <Component data-status={status.type} {...rest} ref={forwardedRef}>\n      {text}\n    </Component>\n  );\n});\n\nMessagePartPrimitiveText.displayName = \"MessagePartPrimitive.Text\";\n"],"names":[],"mappings":";;;;;AAGA;AAMA;AACA;AAVA;;;;;AAgDO,MAAM,yCAA2B,IAAA,4ZAAU,EAGhD,CAAC,EAAE,SAAS,IAAI,EAAE,WAAW,YAAY,MAAM,EAAE,GAAG,MAAM,EAAE;IAC5D,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,GAAG,IAAA,0KAAS,EAAC,IAAA,kNAAkB,KAAI;IAEzD,qBACE,ubAAC;QAAU,eAAa,OAAO,IAAI;QAAG,GAAG,IAAI;QAAE,KAAK;kBACjD;;;;;;AAGP;AAEA,yBAAyB,WAAW,GAAG"}},
    {"offset": {"line": 4669, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message-part/use-message-part-image.tsx"],"sourcesContent":["\"use client\";\n\nimport { MessagePartState } from \"../../legacy-runtime/runtime/message-part-runtime\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { ImageMessagePart } from \"../../types\";\n\nexport const useMessagePartImage = () => {\n  const image = useAuiState(({ part }) => {\n    if (part.type !== \"image\")\n      throw new Error(\n        \"MessagePartImage can only be used inside image message parts.\",\n      );\n\n    return part as MessagePartState & ImageMessagePart;\n  });\n\n  return image;\n};\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AAMO,MAAM,sBAAsB;IACjC,MAAM,QAAQ,IAAA,+JAAW,EAAC,CAAC,EAAE,IAAI,EAAE;QACjC,IAAI,KAAK,IAAI,KAAK,SAChB,MAAM,IAAI,MACR;QAGJ,OAAO;IACT;IAEA,OAAO;AACT"}},
    {"offset": {"line": 4687, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message-part/message-part-image.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport { useMessagePartImage } from \"./use-message-part-image\";\n\nexport namespace MessagePartPrimitiveImage {\n  export type Element = ComponentRef<typeof Primitive.img>;\n  /**\n   * Props for the MessagePartPrimitive.Image component.\n   * Accepts all standard img element props.\n   */\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.img>;\n}\n\n/**\n * Renders an image from the current message part context.\n *\n * This component displays image content from the current message part,\n * automatically setting the src attribute from the message part's image data.\n *\n * @example\n * ```tsx\n * <MessagePartPrimitive.Image\n *   alt=\"Generated image\"\n *   className=\"message-image\"\n *   style={{ maxWidth: '100%' }}\n * />\n * ```\n */\nexport const MessagePartPrimitiveImage = forwardRef<\n  MessagePartPrimitiveImage.Element,\n  MessagePartPrimitiveImage.Props\n>((props, forwardedRef) => {\n  const { image } = useMessagePartImage();\n  return <Primitive.img src={image} {...props} ref={forwardedRef} />;\n});\n\nMessagePartPrimitiveImage.displayName = \"MessagePartPrimitive.Image\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AA8BO,MAAM,0CAA4B,IAAA,4ZAAU,EAGjD,CAAC,OAAO;IACR,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,oNAAmB;IACrC,qBAAO,ubAAC,mYAAS,CAAC,GAAG;QAAC,KAAK;QAAQ,GAAG,KAAK;QAAE,KAAK;;;;;;AACpD;AAEA,0BAA0B,WAAW,GAAG"}},
    {"offset": {"line": 4717, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message-part/message-part-in-progress.tsx"],"sourcesContent":["\"use client\";\n\nimport { FC, PropsWithChildren } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nexport namespace MessagePartPrimitiveInProgress {\n  export type Props = PropsWithChildren;\n}\n\n// TODO should this be renamed to IsRunning?\nexport const MessagePartPrimitiveInProgress: FC<\n  MessagePartPrimitiveInProgress.Props\n> = ({ children }) => {\n  const isInProgress = useAuiState(\n    ({ part }) => part.status.type === \"running\",\n  );\n\n  return isInProgress ? children : null;\n};\n\nMessagePartPrimitiveInProgress.displayName = \"MessagePartPrimitive.InProgress\";\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AAUO,MAAM,iCAET,CAAC,EAAE,QAAQ,EAAE;IACf,MAAM,eAAe,IAAA,+JAAW,EAC9B,CAAC,EAAE,IAAI,EAAE,GAAK,KAAK,MAAM,CAAC,IAAI,KAAK;IAGrC,OAAO,eAAe,WAAW;AACnC;AAEA,+BAA+B,WAAW,GAAG"}},
    {"offset": {"line": 4733, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message/message-parts.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  type ComponentType,\n  type FC,\n  memo,\n  PropsWithChildren,\n  useMemo,\n} from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\nimport {\n  PartByIndexProvider,\n  TextMessagePartProvider,\n} from \"../../context/providers\";\nimport { MessagePartPrimitiveText } from \"../message-part/message-part-text\";\nimport { MessagePartPrimitiveImage } from \"../message-part/message-part-image\";\nimport type {\n  Unstable_AudioMessagePartComponent,\n  EmptyMessagePartComponent,\n  TextMessagePartComponent,\n  ImageMessagePartComponent,\n  SourceMessagePartComponent,\n  ToolCallMessagePartComponent,\n  ToolCallMessagePartProps,\n  FileMessagePartComponent,\n  ReasoningMessagePartComponent,\n  ReasoningGroupComponent,\n} from \"../../types/message-part-component-types\";\nimport { MessagePartPrimitiveInProgress } from \"../message-part/message-part-in-progress\";\nimport { MessagePartStatus } from \"../../types/assistant-types\";\nimport { useShallow } from \"zustand/shallow\";\n\ntype MessagePartRange =\n  | { type: \"single\"; index: number }\n  | { type: \"toolGroup\"; startIndex: number; endIndex: number }\n  | { type: \"reasoningGroup\"; startIndex: number; endIndex: number };\n\n/**\n * Creates a group state manager for a specific part type.\n * Returns functions to start, end, and finalize groups.\n */\nconst createGroupState = <T extends \"toolGroup\" | \"reasoningGroup\">(\n  groupType: T,\n) => {\n  let start = -1;\n\n  return {\n    startGroup: (index: number) => {\n      if (start === -1) {\n        start = index;\n      }\n    },\n    endGroup: (endIndex: number, ranges: MessagePartRange[]) => {\n      if (start !== -1) {\n        ranges.push({\n          type: groupType,\n          startIndex: start,\n          endIndex,\n        } as MessagePartRange);\n        start = -1;\n      }\n    },\n    finalize: (endIndex: number, ranges: MessagePartRange[]) => {\n      if (start !== -1) {\n        ranges.push({\n          type: groupType,\n          startIndex: start,\n          endIndex,\n        } as MessagePartRange);\n      }\n    },\n  };\n};\n\n/**\n * Groups consecutive tool-call and reasoning message parts into ranges.\n * Always groups tool calls and reasoning parts, even if there's only one.\n */\nconst groupMessageParts = (\n  messageTypes: readonly string[],\n): MessagePartRange[] => {\n  const ranges: MessagePartRange[] = [];\n  const toolGroup = createGroupState(\"toolGroup\");\n  const reasoningGroup = createGroupState(\"reasoningGroup\");\n\n  for (let i = 0; i < messageTypes.length; i++) {\n    const type = messageTypes[i];\n\n    if (type === \"tool-call\") {\n      reasoningGroup.endGroup(i - 1, ranges);\n      toolGroup.startGroup(i);\n    } else if (type === \"reasoning\") {\n      toolGroup.endGroup(i - 1, ranges);\n      reasoningGroup.startGroup(i);\n    } else {\n      toolGroup.endGroup(i - 1, ranges);\n      reasoningGroup.endGroup(i - 1, ranges);\n      ranges.push({ type: \"single\", index: i });\n    }\n  }\n\n  toolGroup.finalize(messageTypes.length - 1, ranges);\n  reasoningGroup.finalize(messageTypes.length - 1, ranges);\n\n  return ranges;\n};\n\nconst useMessagePartsGroups = (): MessagePartRange[] => {\n  const messageTypes = useAuiState(\n    useShallow((s) => s.message.parts.map((c: any) => c.type)),\n  );\n\n  return useMemo(() => {\n    if (messageTypes.length === 0) {\n      return [];\n    }\n    return groupMessageParts(messageTypes);\n  }, [messageTypes]);\n};\n\nexport namespace MessagePrimitiveParts {\n  export type Props = {\n    /**\n     * Component configuration for rendering different types of message content.\n     *\n     * You can provide custom components for each content type (text, image, file, etc.)\n     * and configure tool rendering behavior. If not provided, default components will be used.\n     */\n    components?:\n      | {\n          /** Component for rendering empty messages */\n          Empty?: EmptyMessagePartComponent | undefined;\n          /** Component for rendering text content */\n          Text?: TextMessagePartComponent | undefined;\n          /** Component for rendering reasoning content (typically hidden) */\n          Reasoning?: ReasoningMessagePartComponent | undefined;\n          /** Component for rendering source content */\n          Source?: SourceMessagePartComponent | undefined;\n          /** Component for rendering image content */\n          Image?: ImageMessagePartComponent | undefined;\n          /** Component for rendering file content */\n          File?: FileMessagePartComponent | undefined;\n          /** Component for rendering audio content (experimental) */\n          Unstable_Audio?: Unstable_AudioMessagePartComponent | undefined;\n          /** Configuration for tool call rendering */\n          tools?:\n            | {\n                /** Map of tool names to their specific components */\n                by_name?:\n                  | Record<string, ToolCallMessagePartComponent | undefined>\n                  | undefined;\n                /** Fallback component for unregistered tools */\n                Fallback?: ComponentType<ToolCallMessagePartProps> | undefined;\n              }\n            | {\n                /** Override component that handles all tool calls */\n                Override: ComponentType<ToolCallMessagePartProps>;\n              }\n            | undefined;\n\n          /**\n           * Component for rendering grouped consecutive tool calls.\n           *\n           * When provided, this component will automatically wrap consecutive tool-call\n           * message parts, allowing you to create collapsible sections, custom styling,\n           * or other grouped presentations for multiple tool calls.\n           *\n           * The component receives:\n           * - `startIndex`: The index of the first tool call in the group\n           * - `endIndex`: The index of the last tool call in the group\n           * - `children`: The rendered tool call components\n           *\n           * @example\n           * ```tsx\n           * // Collapsible tool group\n           * ToolGroup: ({ startIndex, endIndex, children }) => (\n           *   <details className=\"tool-group\">\n           *     <summary>\n           *       {endIndex - startIndex + 1} tool calls\n           *     </summary>\n           *     <div className=\"tool-group-content\">\n           *       {children}\n           *     </div>\n           *   </details>\n           * )\n           * ```\n           *\n           * @example\n           * ```tsx\n           * // Custom styled tool group with header\n           * ToolGroup: ({ startIndex, endIndex, children }) => (\n           *   <div className=\"border rounded-lg p-4 my-2\">\n           *     <div className=\"text-sm text-gray-600 mb-2\">\n           *       Tool execution #{startIndex + 1}-{endIndex + 1}\n           *     </div>\n           *     <div className=\"space-y-2\">\n           *       {children}\n           *     </div>\n           *   </div>\n           * )\n           * ```\n           *\n           * @param startIndex - Index of the first tool call in the group\n           * @param endIndex - Index of the last tool call in the group\n           * @param children - Rendered tool call components to display within the group\n           *\n           * @deprecated This feature is still experimental and subject to change.\n           */\n          ToolGroup?: ComponentType<\n            PropsWithChildren<{ startIndex: number; endIndex: number }>\n          >;\n\n          /**\n           * Component for rendering grouped reasoning parts.\n           *\n           * When provided, this component will automatically wrap reasoning message parts\n           * (one or more consecutive) in a group container. Each reasoning part inside\n           * renders its own text independently - no text merging occurs.\n           *\n           * The component receives:\n           * - `startIndex`: The index of the first reasoning part in the group\n           * - `endIndex`: The index of the last reasoning part in the group\n           * - `children`: The rendered Reasoning components (one per part)\n           *\n           * @example\n           * ```tsx\n           * // Collapsible reasoning group\n           * ReasoningGroup: ({ children }) => (\n           *   <details className=\"reasoning-group\">\n           *     <summary>Reasoning</summary>\n           *     <div className=\"reasoning-content\">\n           *       {children}\n           *     </div>\n           *   </details>\n           * )\n           * ```\n           *\n           * @param startIndex - Index of the first reasoning part in the group\n           * @param endIndex - Index of the last reasoning part in the group\n           * @param children - Rendered reasoning part components\n           */\n          ReasoningGroup?: ReasoningGroupComponent;\n        }\n      | undefined;\n    /**\n     * When enabled, shows the Empty component if the last part in the message\n     * is anything other than Text or Reasoning.\n     *\n     * This can be useful to ensure there's always a visible element at the end\n     * of messages that end with non-text content like tool calls or images.\n     *\n     * @experimental This API is experimental and may change in future versions.\n     * @default true\n     */\n    unstable_showEmptyOnNonTextEnd?: boolean | undefined;\n  };\n}\n\nconst ToolUIDisplay = ({\n  Fallback,\n  ...props\n}: {\n  Fallback: ToolCallMessagePartComponent | undefined;\n} & ToolCallMessagePartProps) => {\n  const Render = useAuiState(({ tools }) => {\n    const Render = tools.tools[props.toolName] ?? Fallback;\n    if (Array.isArray(Render)) return Render[0] ?? Fallback;\n    return Render;\n  });\n  if (!Render) return null;\n  return <Render {...props} />;\n};\n\nconst defaultComponents = {\n  Text: () => (\n    <p style={{ whiteSpace: \"pre-line\" }}>\n      <MessagePartPrimitiveText />\n      <MessagePartPrimitiveInProgress>\n        <span style={{ fontFamily: \"revert\" }}>{\" \\u25CF\"}</span>\n      </MessagePartPrimitiveInProgress>\n    </p>\n  ),\n  Reasoning: () => null,\n  Source: () => null,\n  Image: () => <MessagePartPrimitiveImage />,\n  File: () => null,\n  Unstable_Audio: () => null,\n  ToolGroup: ({ children }) => children,\n  ReasoningGroup: ({ children }) => children,\n} satisfies MessagePrimitiveParts.Props[\"components\"];\n\ntype MessagePartComponentProps = {\n  components: MessagePrimitiveParts.Props[\"components\"];\n};\n\nconst MessagePartComponent: FC<MessagePartComponentProps> = ({\n  components: {\n    Text = defaultComponents.Text,\n    Reasoning = defaultComponents.Reasoning,\n    Image = defaultComponents.Image,\n    Source = defaultComponents.Source,\n    File = defaultComponents.File,\n    Unstable_Audio: Audio = defaultComponents.Unstable_Audio,\n    tools = {},\n  } = {},\n}) => {\n  const aui = useAui();\n  const part = useAuiState(({ part }) => part);\n\n  const type = part.type;\n  if (type === \"tool-call\") {\n    const addResult = aui.part().addToolResult;\n    const resume = aui.part().resumeToolCall;\n    if (\"Override\" in tools)\n      return <tools.Override {...part} addResult={addResult} resume={resume} />;\n    const Tool = tools.by_name?.[part.toolName] ?? tools.Fallback;\n    return (\n      <ToolUIDisplay\n        {...part}\n        Fallback={Tool}\n        addResult={addResult}\n        resume={resume}\n      />\n    );\n  }\n\n  if (part.status?.type === \"requires-action\")\n    throw new Error(\"Encountered unexpected requires-action status\");\n\n  switch (type) {\n    case \"text\":\n      return <Text {...part} />;\n\n    case \"reasoning\":\n      return <Reasoning {...part} />;\n\n    case \"source\":\n      return <Source {...part} />;\n\n    case \"image\":\n      return <Image {...part} />;\n\n    case \"file\":\n      return <File {...part} />;\n\n    case \"audio\":\n      return <Audio {...part} />;\n\n    case \"data\":\n      return null;\n\n    default:\n      const unhandledType: never = type;\n      throw new Error(`Unknown message part type: ${unhandledType}`);\n  }\n};\n\nexport namespace MessagePrimitivePartByIndex {\n  export type Props = {\n    index: number;\n    components: MessagePrimitiveParts.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single message part at the specified index.\n *\n * This component provides direct access to render a specific message part\n * within the current message context, using the provided component configuration.\n *\n * @example\n * ```tsx\n * <MessagePrimitive.PartByIndex\n *   index={0}\n *   components={{\n *     Text: MyTextComponent,\n *     Image: MyImageComponent\n *   }}\n * />\n * ```\n */\nexport const MessagePrimitivePartByIndex: FC<MessagePrimitivePartByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <PartByIndexProvider index={index}>\n          <MessagePartComponent components={components} />\n        </PartByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      prev.components?.Text === next.components?.Text &&\n      prev.components?.Reasoning === next.components?.Reasoning &&\n      prev.components?.Source === next.components?.Source &&\n      prev.components?.Image === next.components?.Image &&\n      prev.components?.File === next.components?.File &&\n      prev.components?.Unstable_Audio === next.components?.Unstable_Audio &&\n      prev.components?.tools === next.components?.tools &&\n      prev.components?.ToolGroup === next.components?.ToolGroup &&\n      prev.components?.ReasoningGroup === next.components?.ReasoningGroup,\n  );\n\nMessagePrimitivePartByIndex.displayName = \"MessagePrimitive.PartByIndex\";\n\nconst EmptyPartFallback: FC<{\n  status: MessagePartStatus;\n  component: TextMessagePartComponent;\n}> = ({ status, component: Component }) => {\n  return (\n    <TextMessagePartProvider text=\"\" isRunning={status.type === \"running\"}>\n      <Component type=\"text\" text=\"\" status={status} />\n    </TextMessagePartProvider>\n  );\n};\n\nconst COMPLETE_STATUS: MessagePartStatus = Object.freeze({\n  type: \"complete\",\n});\n\nconst EmptyPartsImpl: FC<MessagePartComponentProps> = ({ components }) => {\n  const status = useAuiState(\n    (s) => (s.message.status ?? COMPLETE_STATUS) as MessagePartStatus,\n  );\n\n  if (components?.Empty) return <components.Empty status={status} />;\n\n  return (\n    <EmptyPartFallback\n      status={status}\n      component={components?.Text ?? defaultComponents.Text}\n    />\n  );\n};\n\nconst EmptyParts = memo(\n  EmptyPartsImpl,\n  (prev, next) =>\n    prev.components?.Empty === next.components?.Empty &&\n    prev.components?.Text === next.components?.Text,\n);\n\nconst ConditionalEmptyImpl: FC<{\n  components: MessagePrimitiveParts.Props[\"components\"];\n  enabled: boolean;\n}> = ({ components, enabled }) => {\n  const shouldShowEmpty = useAuiState(({ message }) => {\n    if (!enabled) return false;\n    if (message.parts.length === 0) return false;\n\n    const lastPart = message.parts[message.parts.length - 1];\n    return lastPart?.type !== \"text\" && lastPart?.type !== \"reasoning\";\n  });\n\n  if (!shouldShowEmpty) return null;\n  return <EmptyParts components={components} />;\n};\n\nconst ConditionalEmpty = memo(\n  ConditionalEmptyImpl,\n  (prev, next) =>\n    prev.enabled === next.enabled &&\n    prev.components?.Empty === next.components?.Empty &&\n    prev.components?.Text === next.components?.Text,\n);\n\n/**\n * Renders the parts of a message with support for multiple content types.\n *\n * This component automatically handles different types of message content including\n * text, images, files, tool calls, and more. It provides a flexible component\n * system for customizing how each content type is rendered.\n *\n * @example\n * ```tsx\n * <MessagePrimitive.Parts\n *   components={{\n *     Text: ({ text }) => <p className=\"message-text\">{text}</p>,\n *     Image: ({ image }) => <img src={image} alt=\"Message image\" />,\n *     tools: {\n *       by_name: {\n *         calculator: CalculatorTool,\n *         weather: WeatherTool,\n *       },\n *       Fallback: DefaultToolComponent\n *     }\n *   }}\n * />\n * ```\n */\nexport const MessagePrimitiveParts: FC<MessagePrimitiveParts.Props> = ({\n  components,\n  unstable_showEmptyOnNonTextEnd = true,\n}) => {\n  const contentLength = useAuiState(({ message }) => message.parts.length);\n  const messageRanges = useMessagePartsGroups();\n\n  const partsElements = useMemo(() => {\n    if (contentLength === 0) {\n      return <EmptyParts components={components} />;\n    }\n\n    return messageRanges.map((range) => {\n      if (range.type === \"single\") {\n        return (\n          <MessagePrimitivePartByIndex\n            key={range.index}\n            index={range.index}\n            components={components}\n          />\n        );\n      } else if (range.type === \"toolGroup\") {\n        const ToolGroupComponent =\n          components?.ToolGroup ?? defaultComponents.ToolGroup;\n        return (\n          <ToolGroupComponent\n            key={`tool-${range.startIndex}`}\n            startIndex={range.startIndex}\n            endIndex={range.endIndex}\n          >\n            {Array.from(\n              { length: range.endIndex - range.startIndex + 1 },\n              (_, i) => (\n                <MessagePrimitivePartByIndex\n                  key={i}\n                  index={range.startIndex + i}\n                  components={components}\n                />\n              ),\n            )}\n          </ToolGroupComponent>\n        );\n      } else {\n        // reasoningGroup\n        const ReasoningGroupComponent =\n          components?.ReasoningGroup ?? defaultComponents.ReasoningGroup;\n        return (\n          <ReasoningGroupComponent\n            key={`reasoning-${range.startIndex}`}\n            startIndex={range.startIndex}\n            endIndex={range.endIndex}\n          >\n            {Array.from(\n              { length: range.endIndex - range.startIndex + 1 },\n              (_, i) => (\n                <MessagePrimitivePartByIndex\n                  key={i}\n                  index={range.startIndex + i}\n                  components={components}\n                />\n              ),\n            )}\n          </ReasoningGroupComponent>\n        );\n      }\n    });\n  }, [messageRanges, components, contentLength]);\n\n  return (\n    <>\n      {partsElements}\n      <ConditionalEmpty\n        components={components}\n        enabled={unstable_showEmptyOnNonTextEnd}\n      />\n    </>\n  );\n};\n\nMessagePrimitiveParts.displayName = \"MessagePrimitive.Parts\";\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5139, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message/message-if.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport type { RequireAtLeastOne } from \"../../utils/require-at-least-one\";\n\ntype MessageIfFilters = {\n  user: boolean | undefined;\n  assistant: boolean | undefined;\n  system: boolean | undefined;\n  hasBranches: boolean | undefined;\n  copied: boolean | undefined;\n  lastOrHover: boolean | undefined;\n  last: boolean | undefined;\n  speaking: boolean | undefined;\n  hasAttachments: boolean | undefined;\n  hasContent: boolean | undefined;\n  submittedFeedback: \"positive\" | \"negative\" | null | undefined;\n};\ntype UseMessageIfProps = RequireAtLeastOne<MessageIfFilters>;\n\nconst useMessageIf = (props: UseMessageIfProps) => {\n  return useAuiState(({ message }) => {\n    const {\n      role,\n      attachments,\n      parts,\n      branchCount,\n      isLast,\n      speech,\n      isCopied,\n      isHovering,\n    } = message;\n\n    if (props.hasBranches === true && branchCount < 2) return false;\n\n    if (props.user && role !== \"user\") return false;\n    if (props.assistant && role !== \"assistant\") return false;\n    if (props.system && role !== \"system\") return false;\n\n    if (props.lastOrHover === true && !isHovering && !isLast) return false;\n    if (props.last !== undefined && props.last !== isLast) return false;\n\n    if (props.copied === true && !isCopied) return false;\n    if (props.copied === false && isCopied) return false;\n\n    if (props.speaking === true && speech == null) return false;\n    if (props.speaking === false && speech != null) return false;\n\n    if (\n      props.hasAttachments === true &&\n      (role !== \"user\" || !attachments?.length)\n    )\n      return false;\n    if (\n      props.hasAttachments === false &&\n      role === \"user\" &&\n      !!attachments?.length\n    )\n      return false;\n\n    if (props.hasContent === true && parts.length === 0) return false;\n    if (props.hasContent === false && parts.length > 0) return false;\n\n    if (\n      props.submittedFeedback !== undefined &&\n      (message.metadata.submittedFeedback?.type ?? null) !==\n        props.submittedFeedback\n    )\n      return false;\n\n    return true;\n  });\n};\n\nexport namespace MessagePrimitiveIf {\n  export type Props = PropsWithChildren<UseMessageIfProps>;\n}\n\n/**\n * @deprecated Use `<AuiIf condition={({ message }) => ...} />` instead.\n */\nexport const MessagePrimitiveIf: FC<MessagePrimitiveIf.Props> = ({\n  children,\n  ...query\n}) => {\n  const result = useMessageIf(query);\n  return result ? children : null;\n};\n\nMessagePrimitiveIf.displayName = \"MessagePrimitive.If\";\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AAqBA,MAAM,eAAe,CAAC;IACpB,OAAO,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE;QAC7B,MAAM,EACJ,IAAI,EACJ,WAAW,EACX,KAAK,EACL,WAAW,EACX,MAAM,EACN,MAAM,EACN,QAAQ,EACR,UAAU,EACX,GAAG;QAEJ,IAAI,MAAM,WAAW,KAAK,QAAQ,cAAc,GAAG,OAAO;QAE1D,IAAI,MAAM,IAAI,IAAI,SAAS,QAAQ,OAAO;QAC1C,IAAI,MAAM,SAAS,IAAI,SAAS,aAAa,OAAO;QACpD,IAAI,MAAM,MAAM,IAAI,SAAS,UAAU,OAAO;QAE9C,IAAI,MAAM,WAAW,KAAK,QAAQ,CAAC,cAAc,CAAC,QAAQ,OAAO;QACjE,IAAI,MAAM,IAAI,KAAK,aAAa,MAAM,IAAI,KAAK,QAAQ,OAAO;QAE9D,IAAI,MAAM,MAAM,KAAK,QAAQ,CAAC,UAAU,OAAO;QAC/C,IAAI,MAAM,MAAM,KAAK,SAAS,UAAU,OAAO;QAE/C,IAAI,MAAM,QAAQ,KAAK,QAAQ,UAAU,MAAM,OAAO;QACtD,IAAI,MAAM,QAAQ,KAAK,SAAS,UAAU,MAAM,OAAO;QAEvD,IACE,MAAM,cAAc,KAAK,QACzB,CAAC,SAAS,UAAU,CAAC,aAAa,MAAM,GAExC,OAAO;QACT,IACE,MAAM,cAAc,KAAK,SACzB,SAAS,UACT,CAAC,CAAC,aAAa,QAEf,OAAO;QAET,IAAI,MAAM,UAAU,KAAK,QAAQ,MAAM,MAAM,KAAK,GAAG,OAAO;QAC5D,IAAI,MAAM,UAAU,KAAK,SAAS,MAAM,MAAM,GAAG,GAAG,OAAO;QAE3D,IACE,MAAM,iBAAiB,KAAK,aAC5B,CAAC,QAAQ,QAAQ,CAAC,iBAAiB,EAAE,QAAQ,IAAI,MAC/C,MAAM,iBAAiB,EAEzB,OAAO;QAET,OAAO;IACT;AACF;AASO,MAAM,qBAAmD,CAAC,EAC/D,QAAQ,EACR,GAAG,OACJ;IACC,MAAM,SAAS,aAAa;IAC5B,OAAO,SAAS,WAAW;AAC7B;AAEA,mBAAmB,WAAW,GAAG"}},
    {"offset": {"line": 5176, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message/message-attachments.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentType, type FC, memo, useMemo } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { MessageAttachmentByIndexProvider } from \"../../context/providers\";\nimport { CompleteAttachment } from \"../../types\";\n\nexport namespace MessagePrimitiveAttachments {\n  export type Props = {\n    components:\n      | {\n          Image?: ComponentType | undefined;\n          Document?: ComponentType | undefined;\n          File?: ComponentType | undefined;\n          Attachment?: ComponentType | undefined;\n        }\n      | undefined;\n  };\n}\n\nconst getComponent = (\n  components: MessagePrimitiveAttachments.Props[\"components\"],\n  attachment: CompleteAttachment,\n) => {\n  const type = attachment.type;\n  switch (type) {\n    case \"image\":\n      return components?.Image ?? components?.Attachment;\n    case \"document\":\n      return components?.Document ?? components?.Attachment;\n    case \"file\":\n      return components?.File ?? components?.Attachment;\n    default:\n      const _exhaustiveCheck: never = type;\n      throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n  }\n};\n\nconst AttachmentComponent: FC<{\n  components: MessagePrimitiveAttachments.Props[\"components\"];\n}> = ({ components }) => {\n  const attachment = useAuiState(({ attachment }) => attachment);\n  if (!attachment) return null;\n\n  const Component = getComponent(components, attachment as CompleteAttachment);\n  if (!Component) return null;\n  return <Component />;\n};\n\nexport namespace MessagePrimitiveAttachmentByIndex {\n  export type Props = {\n    index: number;\n    components?: MessagePrimitiveAttachments.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single attachment at the specified index within the current message.\n *\n * This component provides direct access to render a specific attachment\n * from the message's attachment list using the provided component configuration.\n *\n * @example\n * ```tsx\n * <MessagePrimitive.AttachmentByIndex\n *   index={0}\n *   components={{\n *     Image: MyImageAttachment,\n *     Document: MyDocumentAttachment\n *   }}\n * />\n * ```\n */\nexport const MessagePrimitiveAttachmentByIndex: FC<MessagePrimitiveAttachmentByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <MessageAttachmentByIndexProvider index={index}>\n          <AttachmentComponent components={components} />\n        </MessageAttachmentByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      prev.components?.Image === next.components?.Image &&\n      prev.components?.Document === next.components?.Document &&\n      prev.components?.File === next.components?.File &&\n      prev.components?.Attachment === next.components?.Attachment,\n  );\n\nMessagePrimitiveAttachmentByIndex.displayName =\n  \"MessagePrimitive.AttachmentByIndex\";\n\nexport const MessagePrimitiveAttachments: FC<\n  MessagePrimitiveAttachments.Props\n> = ({ components }) => {\n  const attachmentsCount = useAuiState(({ message }) => {\n    if (message.role !== \"user\") return 0;\n    return message.attachments.length;\n  });\n\n  const attachmentElements = useMemo(() => {\n    return Array.from({ length: attachmentsCount }, (_, index) => (\n      <MessagePrimitiveAttachmentByIndex\n        key={index}\n        index={index}\n        components={components}\n      />\n    ));\n  }, [attachmentsCount, components]);\n\n  return attachmentElements;\n};\n\nMessagePrimitiveAttachments.displayName = \"MessagePrimitive.Attachments\";\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAoBA,MAAM,eAAe,CACnB,YACA;IAEA,MAAM,OAAO,WAAW,IAAI;IAC5B,OAAQ;QACN,KAAK;YACH,OAAO,YAAY,SAAS,YAAY;QAC1C,KAAK;YACH,OAAO,YAAY,YAAY,YAAY;QAC7C,KAAK;YACH,OAAO,YAAY,QAAQ,YAAY;QACzC;YACE,MAAM,mBAA0B;YAChC,MAAM,IAAI,MAAM,CAAC,yBAAyB,EAAE,kBAAkB;IAClE;AACF;AAEA,MAAM,sBAED,CAAC,EAAE,UAAU,EAAE;IAClB,MAAM,aAAa,IAAA,+JAAW,EAAC,CAAC,EAAE,UAAU,EAAE,GAAK;IACnD,IAAI,CAAC,YAAY,OAAO;IAExB,MAAM,YAAY,aAAa,YAAY;IAC3C,IAAI,CAAC,WAAW,OAAO;IACvB,qBAAO,ubAAC;;;;;AACV;AA0BO,MAAM,kDACX,IAAA,sZAAI,EACF,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;IACpB,qBACE,ubAAC,8NAAgC;QAAC,OAAO;kBACvC,cAAA,ubAAC;YAAoB,YAAY;;;;;;;;;;;AAGvC,GACA,CAAC,MAAM,OACL,KAAK,KAAK,KAAK,KAAK,KAAK,IACzB,KAAK,UAAU,EAAE,UAAU,KAAK,UAAU,EAAE,SAC5C,KAAK,UAAU,EAAE,aAAa,KAAK,UAAU,EAAE,YAC/C,KAAK,UAAU,EAAE,SAAS,KAAK,UAAU,EAAE,QAC3C,KAAK,UAAU,EAAE,eAAe,KAAK,UAAU,EAAE;AAGvD,kCAAkC,WAAW,GAC3C;AAEK,MAAM,8BAET,CAAC,EAAE,UAAU,EAAE;IACjB,MAAM,mBAAmB,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE;QAC/C,IAAI,QAAQ,IAAI,KAAK,QAAQ,OAAO;QACpC,OAAO,QAAQ,WAAW,CAAC,MAAM;IACnC;IAEA,MAAM,qBAAqB,IAAA,yZAAO,EAAC;QACjC,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAiB,GAAG,CAAC,GAAG,sBAClD,ubAAC;gBAEC,OAAO;gBACP,YAAY;eAFP;;;;;IAKX,GAAG;QAAC;QAAkB;KAAW;IAEjC,OAAO;AACT;AAEA,4BAA4B,WAAW,GAAG"}},
    {"offset": {"line": 5260, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message/message-error.tsx"],"sourcesContent":["\"use client\";\n\nimport { FC, PropsWithChildren } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nexport const MessagePrimitiveError: FC<PropsWithChildren> = ({ children }) => {\n  const hasError = useAuiState(\n    ({ message }) =>\n      message.status?.type === \"incomplete\" &&\n      message.status.reason === \"error\",\n  );\n  return hasError ? children : null;\n};\n\nMessagePrimitiveError.displayName = \"MessagePrimitive.Error\";\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AAKO,MAAM,wBAA+C,CAAC,EAAE,QAAQ,EAAE;IACvE,MAAM,WAAW,IAAA,+JAAW,EAC1B,CAAC,EAAE,OAAO,EAAE,GACV,QAAQ,MAAM,EAAE,SAAS,gBACzB,QAAQ,MAAM,CAAC,MAAM,KAAK;IAE9B,OAAO,WAAW,WAAW;AAC/B;AAEA,sBAAsB,WAAW,GAAG"}},
    {"offset": {"line": 5276, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/message/message-parts-grouped.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  type ComponentType,\n  type FC,\n  memo,\n  PropsWithChildren,\n  useMemo,\n} from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\nimport {\n  PartByIndexProvider,\n  TextMessagePartProvider,\n} from \"../../context/providers\";\nimport { MessagePartPrimitiveText } from \"../message-part/message-part-text\";\nimport { MessagePartPrimitiveImage } from \"../message-part/message-part-image\";\nimport type {\n  Unstable_AudioMessagePartComponent,\n  EmptyMessagePartComponent,\n  TextMessagePartComponent,\n  ImageMessagePartComponent,\n  SourceMessagePartComponent,\n  ToolCallMessagePartComponent,\n  ToolCallMessagePartProps,\n  FileMessagePartComponent,\n  ReasoningMessagePartComponent,\n} from \"../../types/message-part-component-types\";\nimport { MessagePartPrimitiveInProgress } from \"../message-part/message-part-in-progress\";\nimport { MessagePartStatus } from \"../../types/assistant-types\";\n\ntype MessagePartGroup = {\n  groupKey: string | undefined;\n  indices: number[];\n};\n\nexport type GroupingFunction = (parts: readonly any[]) => MessagePartGroup[];\n\n/**\n * Groups message parts by their parent ID.\n * Parts without a parent ID appear in their chronological position as individual groups.\n * Parts with the same parent ID are grouped together at the position of their first occurrence.\n */\nconst groupMessagePartsByParentId: GroupingFunction = (\n  parts: readonly any[],\n): MessagePartGroup[] => {\n  // Map maintains insertion order, so groups appear in order of first occurrence\n  const groupMap = new Map<string, number[]>();\n\n  // Process each part in order\n  for (let i = 0; i < parts.length; i++) {\n    const part = parts[i];\n    const parentId = part?.parentId as string | undefined;\n\n    // For parts without parentId, assign a unique group ID to maintain their position\n    const groupId = parentId ?? `__ungrouped_${i}`;\n\n    // Get or create the indices array for this group\n    const indices = groupMap.get(groupId) ?? [];\n    indices.push(i);\n    groupMap.set(groupId, indices);\n  }\n\n  // Convert map to array of groups\n  const groups: MessagePartGroup[] = [];\n  for (const [groupId, indices] of groupMap) {\n    // Extract parentId (undefined for ungrouped parts)\n    const groupKey = groupId.startsWith(\"__ungrouped_\") ? undefined : groupId;\n    groups.push({ groupKey, indices });\n  }\n\n  return groups;\n};\n\nconst useMessagePartsGrouped = (\n  groupingFunction: GroupingFunction,\n): MessagePartGroup[] => {\n  const parts = useAuiState(({ message }) => message.parts);\n\n  return useMemo(() => {\n    if (parts.length === 0) {\n      return [];\n    }\n    return groupingFunction(parts);\n  }, [parts, groupingFunction]);\n};\n\nexport namespace MessagePrimitiveUnstable_PartsGrouped {\n  export type Props = {\n    /**\n     * Function that takes an array of message parts and returns an array of groups.\n     * Each group contains a key (for identification) and an array of indices.\n     *\n     * @example\n     * ```tsx\n     * // Group by parent ID (default behavior)\n     * groupingFunction={(parts) => {\n     *   const groups = new Map<string, number[]>();\n     *   parts.forEach((part, i) => {\n     *     const key = part.parentId ?? `__ungrouped_${i}`;\n     *     const indices = groups.get(key) ?? [];\n     *     indices.push(i);\n     *     groups.set(key, indices);\n     *   });\n     *   return Array.from(groups.entries()).map(([key, indices]) => ({\n     *     key: key.startsWith(\"__ungrouped_\") ? undefined : key,\n     *     indices\n     *   }));\n     * }}\n     * ```\n     *\n     * @example\n     * ```tsx\n     * // Group by tool name\n     * import { groupMessagePartsByToolName } from \"@creatorem/ai-react\";\n     *\n     * <MessagePrimitive.Unstable_PartsGrouped\n     *   groupingFunction={groupMessagePartsByToolName}\n     *   components={{\n     *     Group: ({ key, indices, children }) => {\n     *       if (!key) return <>{children}</>;\n     *       return (\n     *         <div className=\"tool-group\">\n     *           <h4>Tool: {key}</h4>\n     *           {children}\n     *         </div>\n     *       );\n     *     }\n     *   }}\n     * />\n     * ```\n     */\n    groupingFunction: GroupingFunction;\n\n    /**\n     * Component configuration for rendering different types of message content.\n     *\n     * You can provide custom components for each content type (text, image, file, etc.)\n     * and configure tool rendering behavior. If not provided, default components will be used.\n     */\n    components:\n      | {\n          /** Component for rendering empty messages */\n          Empty?: EmptyMessagePartComponent | undefined;\n          /** Component for rendering text content */\n          Text?: TextMessagePartComponent | undefined;\n          /** Component for rendering reasoning content (typically hidden) */\n          Reasoning?: ReasoningMessagePartComponent | undefined;\n          /** Component for rendering source content */\n          Source?: SourceMessagePartComponent | undefined;\n          /** Component for rendering image content */\n          Image?: ImageMessagePartComponent | undefined;\n          /** Component for rendering file content */\n          File?: FileMessagePartComponent | undefined;\n          /** Component for rendering audio content (experimental) */\n          Unstable_Audio?: Unstable_AudioMessagePartComponent | undefined;\n          /** Configuration for tool call rendering */\n          tools?:\n            | {\n                /** Map of tool names to their specific components */\n                by_name?:\n                  | Record<string, ToolCallMessagePartComponent | undefined>\n                  | undefined;\n                /** Fallback component for unregistered tools */\n                Fallback?: ComponentType<ToolCallMessagePartProps> | undefined;\n              }\n            | {\n                /** Override component that handles all tool calls */\n                Override: ComponentType<ToolCallMessagePartProps>;\n              }\n            | undefined;\n\n          /**\n           * Component for rendering grouped message parts.\n           *\n           * When provided, this component will automatically wrap message parts that share\n           * the same group key as determined by the groupingFunction.\n           *\n           * The component receives:\n           * - `groupKey`: The group key (or undefined for ungrouped parts)\n           * - `indices`: Array of indices for the parts in this group\n           * - `children`: The rendered message part components\n           *\n           * @example\n           * ```tsx\n           * // Collapsible group\n           * Group: ({ groupKey, indices, children }) => {\n           *   if (!groupKey) return <>{children}</>;\n           *   return (\n           *     <details className=\"message-group\">\n           *       <summary>\n           *         Group {groupKey} ({indices.length} parts)\n           *       </summary>\n           *       <div className=\"group-content\">\n           *         {children}\n           *       </div>\n           *     </details>\n           *   );\n           * }\n           * ```\n           *\n           * @param groupKey - The group key (undefined for ungrouped parts)\n           * @param indices - Array of indices for the parts in this group\n           * @param children - Rendered message part components to display within the group\n           */\n          Group?: ComponentType<\n            PropsWithChildren<{\n              groupKey: string | undefined;\n              indices: number[];\n            }>\n          >;\n        }\n      | undefined;\n  };\n}\n\nconst ToolUIDisplay = ({\n  Fallback,\n  ...props\n}: {\n  Fallback: ToolCallMessagePartComponent | undefined;\n} & ToolCallMessagePartProps) => {\n  const Render = useAuiState(({ tools }) => {\n    const Render = tools.tools[props.toolName] ?? Fallback;\n    if (Array.isArray(Render)) return Render[0] ?? Fallback;\n    return Render;\n  });\n  if (!Render) return null;\n  return <Render {...props} />;\n};\n\nconst defaultComponents = {\n  Text: () => (\n    <p style={{ whiteSpace: \"pre-line\" }}>\n      <MessagePartPrimitiveText />\n      <MessagePartPrimitiveInProgress>\n        <span style={{ fontFamily: \"revert\" }}>{\" \\u25CF\"}</span>\n      </MessagePartPrimitiveInProgress>\n    </p>\n  ),\n  Reasoning: () => null,\n  Source: () => null,\n  Image: () => <MessagePartPrimitiveImage />,\n  File: () => null,\n  Unstable_Audio: () => null,\n  Group: ({ children }) => children,\n} satisfies MessagePrimitiveUnstable_PartsGrouped.Props[\"components\"];\n\ntype MessagePartComponentProps = {\n  components: MessagePrimitiveUnstable_PartsGrouped.Props[\"components\"];\n};\n\nconst MessagePartComponent: FC<MessagePartComponentProps> = ({\n  components: {\n    Text = defaultComponents.Text,\n    Reasoning = defaultComponents.Reasoning,\n    Image = defaultComponents.Image,\n    Source = defaultComponents.Source,\n    File = defaultComponents.File,\n    Unstable_Audio: Audio = defaultComponents.Unstable_Audio,\n    tools = {},\n  } = {},\n}) => {\n  const aui = useAui();\n  const part = useAuiState(({ part }) => part);\n\n  const type = part.type;\n  if (type === \"tool-call\") {\n    const addResult = aui.part().addToolResult;\n    const resume = aui.part().resumeToolCall;\n    if (\"Override\" in tools)\n      return <tools.Override {...part} addResult={addResult} resume={resume} />;\n    const Tool = tools.by_name?.[part.toolName] ?? tools.Fallback;\n    return (\n      <ToolUIDisplay\n        {...part}\n        Fallback={Tool}\n        addResult={addResult}\n        resume={resume}\n      />\n    );\n  }\n\n  if (part.status?.type === \"requires-action\")\n    throw new Error(\"Encountered unexpected requires-action status\");\n\n  switch (type) {\n    case \"text\":\n      return <Text {...part} />;\n\n    case \"reasoning\":\n      return <Reasoning {...part} />;\n\n    case \"source\":\n      return <Source {...part} />;\n\n    case \"image\":\n      return <Image {...part} />;\n\n    case \"file\":\n      return <File {...part} />;\n\n    case \"audio\":\n      return <Audio {...part} />;\n\n    case \"data\":\n      return null;\n\n    default:\n      const unhandledType: never = type;\n      throw new Error(`Unknown message part type: ${unhandledType}`);\n  }\n};\n\ntype MessagePartProps = {\n  partIndex: number;\n  components: MessagePrimitiveUnstable_PartsGrouped.Props[\"components\"];\n};\n\nconst MessagePartImpl: FC<MessagePartProps> = ({ partIndex, components }) => {\n  return (\n    <PartByIndexProvider index={partIndex}>\n      <MessagePartComponent components={components} />\n    </PartByIndexProvider>\n  );\n};\n\nconst MessagePart = memo(\n  MessagePartImpl,\n  (prev, next) =>\n    prev.partIndex === next.partIndex &&\n    prev.components?.Text === next.components?.Text &&\n    prev.components?.Reasoning === next.components?.Reasoning &&\n    prev.components?.Source === next.components?.Source &&\n    prev.components?.Image === next.components?.Image &&\n    prev.components?.File === next.components?.File &&\n    prev.components?.Unstable_Audio === next.components?.Unstable_Audio &&\n    prev.components?.tools === next.components?.tools &&\n    prev.components?.Group === next.components?.Group,\n);\n\nconst EmptyPartFallback: FC<{\n  status: MessagePartStatus;\n  component: TextMessagePartComponent;\n}> = ({ status, component: Component }) => {\n  return (\n    <TextMessagePartProvider text=\"\" isRunning={status.type === \"running\"}>\n      <Component type=\"text\" text=\"\" status={status} />\n    </TextMessagePartProvider>\n  );\n};\n\nconst COMPLETE_STATUS: MessagePartStatus = Object.freeze({\n  type: \"complete\",\n});\n\nconst EmptyPartsImpl: FC<MessagePartComponentProps> = ({ components }) => {\n  const status = useAuiState(\n    (s) => (s.message.status ?? COMPLETE_STATUS) as MessagePartStatus,\n  );\n\n  if (components?.Empty) return <components.Empty status={status} />;\n\n  return (\n    <EmptyPartFallback\n      status={status}\n      component={components?.Text ?? defaultComponents.Text}\n    />\n  );\n};\n\nconst EmptyParts = memo(\n  EmptyPartsImpl,\n  (prev, next) =>\n    prev.components?.Empty === next.components?.Empty &&\n    prev.components?.Text === next.components?.Text,\n);\n\n/**\n * Renders the parts of a message grouped by a custom grouping function.\n *\n * This component allows you to group message parts based on any criteria you define.\n * The grouping function receives all message parts and returns an array of groups,\n * where each group has a key and an array of part indices.\n *\n * @example\n * ```tsx\n * // Group by parent ID (default behavior)\n * <MessagePrimitive.Unstable_PartsGrouped\n *   components={{\n *     Text: ({ text }) => <p className=\"message-text\">{text}</p>,\n *     Image: ({ image }) => <img src={image} alt=\"Message image\" />,\n *     Group: ({ groupKey, indices, children }) => {\n *       if (!groupKey) return <>{children}</>;\n *       return (\n *         <div className=\"parent-group border rounded p-4\">\n *           <h4>Parent ID: {groupKey}</h4>\n *           {children}\n *         </div>\n *       );\n *     }\n *   }}\n * />\n * ```\n *\n * @example\n * ```tsx\n * // Group by tool name\n * import { groupMessagePartsByToolName } from \"@creatorem/ai-react\";\n *\n * <MessagePrimitive.Unstable_PartsGrouped\n *   groupingFunction={groupMessagePartsByToolName}\n *   components={{\n *     Group: ({ groupKey, indices, children }) => {\n *       if (!groupKey) return <>{children}</>;\n *       return (\n *         <div className=\"tool-group\">\n *           <h4>Tool: {groupKey}</h4>\n *           {children}\n *         </div>\n *       );\n *     }\n *   }}\n * />\n * ```\n */\nexport const MessagePrimitiveUnstable_PartsGrouped: FC<\n  MessagePrimitiveUnstable_PartsGrouped.Props\n> = ({ groupingFunction, components }) => {\n  const contentLength = useAuiState(({ message }) => message.parts.length);\n  const messageGroups = useMessagePartsGrouped(groupingFunction);\n\n  const partsElements = useMemo(() => {\n    if (contentLength === 0) {\n      return <EmptyParts components={components} />;\n    }\n\n    return messageGroups.map((group, groupIndex) => {\n      const GroupComponent = components?.Group ?? defaultComponents.Group;\n\n      return (\n        <GroupComponent\n          key={`group-${groupIndex}-${group.groupKey ?? \"ungrouped\"}`}\n          groupKey={group.groupKey}\n          indices={group.indices}\n        >\n          {group.indices.map((partIndex) => (\n            <MessagePart\n              key={partIndex}\n              partIndex={partIndex}\n              components={components}\n            />\n          ))}\n        </GroupComponent>\n      );\n    });\n  }, [messageGroups, components, contentLength]);\n\n  return <>{partsElements}</>;\n};\n\nMessagePrimitiveUnstable_PartsGrouped.displayName =\n  \"MessagePrimitive.Unstable_PartsGrouped\";\n\n/**\n * Renders the parts of a message grouped by their parent ID.\n * This is a convenience wrapper around Unstable_PartsGrouped with parent ID grouping.\n *\n * @deprecated Use MessagePrimitive.Unstable_PartsGrouped instead for more flexibility\n */\nexport const MessagePrimitiveUnstable_PartsGroupedByParentId: FC<\n  Omit<MessagePrimitiveUnstable_PartsGrouped.Props, \"groupingFunction\">\n> = ({ components, ...props }) => {\n  return (\n    <MessagePrimitiveUnstable_PartsGrouped\n      {...props}\n      components={components}\n      groupingFunction={groupMessagePartsByParentId}\n    />\n  );\n};\n\nMessagePrimitiveUnstable_PartsGroupedByParentId.displayName =\n  \"MessagePrimitive.Unstable_PartsGroupedByParentId\";\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5661, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,oOAAO,EAAC,IAAA,8LAAI,EAAC;AACtB"}},
    {"offset": {"line": 5676, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction TooltipProvider({\n  delayDuration = 0,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\n  return (\n    <TooltipPrimitive.Provider\n      data-slot=\"tooltip-provider\"\n      delayDuration={delayDuration}\n      {...props}\n    />\n  );\n}\n\nfunction Tooltip({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Root>) {\n  return (\n    <TooltipProvider>\n      <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />\n    </TooltipProvider>\n  );\n}\n\nfunction TooltipTrigger({\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />;\n}\n\nfunction TooltipContent({\n  className,\n  sideOffset = 0,\n  children,\n  ...props\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\n  return (\n    <TooltipPrimitive.Portal>\n      <TooltipPrimitive.Content\n        data-slot=\"tooltip-content\"\n        sideOffset={sideOffset}\n        className={cn(\n          \"fade-in-0 zoom-in-95 data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) animate-in text-balance rounded-md bg-foreground px-3 py-1.5 text-background text-xs data-[state=closed]:animate-out\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <TooltipPrimitive.Arrow className=\"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-foreground fill-foreground\" />\n      </TooltipPrimitive.Content>\n    </TooltipPrimitive.Portal>\n  );\n}\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,ubAAC,gYAAyB;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,QAAQ,EACf,GAAG,OACgD;IACnD,qBACE,ubAAC;kBACC,cAAA,ubAAC,4XAAqB;YAAC,aAAU;YAAW,GAAG,KAAK;;;;;;;;;;;AAG1D;AAEA,SAAS,eAAe,EACtB,GAAG,OACmD;IACtD,qBAAO,ubAAC,+XAAwB;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,ubAAC,8XAAuB;kBACtB,cAAA,ubAAC,+XAAwB;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,+IAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,ubAAC,6XAAsB;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C"}},
    {"offset": {"line": 5763, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\";\nimport { XIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=open]:animate-in\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean;\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg outline-none duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:max-w-lg\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"absolute top-4 right-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  );\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"font-semibold text-lg leading-none\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,ubAAC,2XAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;AAEA,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,ubAAC,8XAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,ubAAC,6XAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,ubAAC,4XAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,ubAAC,8XAAuB;QACtB,aAAU;QACV,WAAW,IAAA,+IAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,ubAAC;QAAa,aAAU;;0BACtB,ubAAC;;;;;0BACD,ubAAC,8XAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,+IAAE,EACX,4XACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,ubAAC,4XAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,ubAAC,6RAAK;;;;;0CACN,ubAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,ubAAC;QACC,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,ubAAC;QACC,aAAU;QACV,WAAW,IAAA,+IAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,ubAAC,4XAAqB;QACpB,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,ubAAC,kYAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 5945, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/avatar.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Avatar({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Root>) {\n  return (\n    <AvatarPrimitive.Root\n      data-slot=\"avatar\"\n      className={cn(\n        \"relative flex size-8 shrink-0 overflow-hidden rounded-full\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction AvatarImage({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Image>) {\n  return (\n    <AvatarPrimitive.Image\n      data-slot=\"avatar-image\"\n      className={cn(\"aspect-square size-full\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction AvatarFallback({\n  className,\n  ...props\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\n  return (\n    <AvatarPrimitive.Fallback\n      data-slot=\"avatar-fallback\"\n      className={cn(\n        \"flex size-full items-center justify-center rounded-full bg-muted\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Avatar, AvatarImage, AvatarFallback };\n"],"names":[],"mappings":";;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,ubAAC,2XAAoB;QACnB,aAAU;QACV,WAAW,IAAA,+IAAE,EACX,8DACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,ubAAC,4XAAqB;QACpB,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,ubAAC,+XAAwB;QACvB,aAAU;QACV,WAAW,IAAA,+IAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 5998, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-all focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:bg-input/30 dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean;\n  }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  );\n}\n\nexport { Button, buttonVariants };\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,kPAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,6SAAI,GAAG;IAE9B,qBACE,ubAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,+IAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 6059, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/assistant-ui/tooltip-icon-button.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithRef, forwardRef } from \"react\";\nimport { Slottable } from \"@radix-ui/react-slot\";\n\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\n\nexport type TooltipIconButtonProps = ComponentPropsWithRef<typeof Button> & {\n  tooltip: string;\n  side?: \"top\" | \"bottom\" | \"left\" | \"right\";\n};\n\nexport const TooltipIconButton = forwardRef<\n  HTMLButtonElement,\n  TooltipIconButtonProps\n>(({ children, tooltip, side = \"bottom\", className, ...rest }, ref) => {\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          {...rest}\n          className={cn(\"aui-button-icon size-6 p-1\", className)}\n          ref={ref}\n        >\n          <Slottable>{children}</Slottable>\n          <span className=\"aui-sr-only sr-only\">{tooltip}</span>\n        </Button>\n      </TooltipTrigger>\n      <TooltipContent side={side}>{tooltip}</TooltipContent>\n    </Tooltip>\n  );\n});\n\nTooltipIconButton.displayName = \"TooltipIconButton\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AAKA;AACA;AAXA;;;;;;;AAkBO,MAAM,kCAAoB,IAAA,4ZAAU,EAGzC,CAAC,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,QAAQ,EAAE,SAAS,EAAE,GAAG,MAAM,EAAE;IAC7D,qBACE,ubAAC,oKAAO;;0BACN,ubAAC,2KAAc;gBAAC,OAAO;0BACrB,cAAA,ubAAC,kKAAM;oBACL,SAAQ;oBACR,MAAK;oBACJ,GAAG,IAAI;oBACR,WAAW,IAAA,+IAAE,EAAC,8BAA8B;oBAC5C,KAAK;;sCAEL,ubAAC,kTAAS;sCAAE;;;;;;sCACZ,ubAAC;4BAAK,WAAU;sCAAuB;;;;;;;;;;;;;;;;;0BAG3C,ubAAC,2KAAc;gBAAC,MAAM;0BAAO;;;;;;;;;;;;AAGnC;AAEA,kBAAkB,WAAW,GAAG"}},
    {"offset": {"line": 6134, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/assistant-ui/attachment.tsx"],"sourcesContent":["\"use client\";\n\nimport { PropsWithChildren, useEffect, useState, type FC } from \"react\";\nimport { XIcon, PlusIcon, FileText } from \"lucide-react\";\nimport {\n  AttachmentPrimitive,\n  ComposerPrimitive,\n  MessagePrimitive,\n  useAssistantState,\n  useAssistantApi,\n} from \"@creatorem/ai-react\";\nimport { useShallow } from \"zustand/shallow\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { Avatar, AvatarImage, AvatarFallback } from \"@/components/ui/avatar\";\nimport { TooltipIconButton } from \"@/components/assistant-ui/tooltip-icon-button\";\nimport { cn } from \"@/lib/utils\";\n\nconst useFileSrc = (file: File | undefined) => {\n  const [src, setSrc] = useState<string | undefined>(undefined);\n\n  useEffect(() => {\n    if (!file) {\n      setSrc(undefined);\n      return;\n    }\n\n    const objectUrl = URL.createObjectURL(file);\n    setSrc(objectUrl);\n\n    return () => {\n      URL.revokeObjectURL(objectUrl);\n    };\n  }, [file]);\n\n  return src;\n};\n\nconst useAttachmentSrc = () => {\n  const { file, src } = useAssistantState(\n    useShallow(({ attachment }): { file?: File; src?: string } => {\n      if (attachment.type !== \"image\") return {};\n      if (attachment.file) return { file: attachment.file };\n      const src = attachment.content?.filter((c) => c.type === \"image\")[0]\n        ?.image;\n      if (!src) return {};\n      return { src };\n    }),\n  );\n\n  return useFileSrc(file) ?? src;\n};\n\ntype AttachmentPreviewProps = {\n  src: string;\n};\n\nconst AttachmentPreview: FC<AttachmentPreviewProps> = ({ src }) => {\n  const [isLoaded, setIsLoaded] = useState(false);\n  return (\n    <img\n      src={src}\n      alt=\"Image Preview\"\n      className={cn(\n        \"block h-auto max-h-[80vh] w-auto max-w-full object-contain\",\n        isLoaded\n          ? \"aui-attachment-preview-image-loaded\"\n          : \"aui-attachment-preview-image-loading invisible\",\n      )}\n      onLoad={() => setIsLoaded(true)}\n    />\n  );\n};\n\nconst AttachmentPreviewDialog: FC<PropsWithChildren> = ({ children }) => {\n  const src = useAttachmentSrc();\n\n  if (!src) return children;\n\n  return (\n    <Dialog>\n      <DialogTrigger\n        className=\"aui-attachment-preview-trigger cursor-pointer transition-colors hover:bg-accent/50\"\n        asChild\n      >\n        {children}\n      </DialogTrigger>\n      <DialogContent className=\"aui-attachment-preview-dialog-content p-2 sm:max-w-3xl [&>button]:rounded-full [&>button]:bg-foreground/60 [&>button]:p-1 [&>button]:opacity-100 [&>button]:ring-0! [&_svg]:text-background [&>button]:hover:[&_svg]:text-destructive\">\n        <DialogTitle className=\"aui-sr-only sr-only\">\n          Image Attachment Preview\n        </DialogTitle>\n        <div className=\"aui-attachment-preview relative mx-auto flex max-h-[80dvh] w-full items-center justify-center overflow-hidden bg-background\">\n          <AttachmentPreview src={src} />\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst AttachmentThumb: FC = () => {\n  const isImage = useAssistantState(\n    ({ attachment }) => attachment.type === \"image\",\n  );\n  const src = useAttachmentSrc();\n\n  return (\n    <Avatar className=\"aui-attachment-tile-avatar h-full w-full rounded-none\">\n      <AvatarImage\n        src={src}\n        alt=\"Attachment preview\"\n        className=\"aui-attachment-tile-image object-cover\"\n      />\n      <AvatarFallback delayMs={isImage ? 200 : 0}>\n        <FileText className=\"aui-attachment-tile-fallback-icon size-8 text-muted-foreground\" />\n      </AvatarFallback>\n    </Avatar>\n  );\n};\n\nconst AttachmentUI: FC = () => {\n  const api = useAssistantApi();\n  const isComposer = api.attachment.source === \"composer\";\n\n  const isImage = useAssistantState(\n    ({ attachment }) => attachment.type === \"image\",\n  );\n  const typeLabel = useAssistantState(({ attachment }) => {\n    const type = attachment.type;\n    switch (type) {\n      case \"image\":\n        return \"Image\";\n      case \"document\":\n        return \"Document\";\n      case \"file\":\n        return \"File\";\n      default:\n        const _exhaustiveCheck: never = type;\n        throw new Error(`Unknown attachment type: ${_exhaustiveCheck}`);\n    }\n  });\n\n  return (\n    <Tooltip>\n      <AttachmentPrimitive.Root\n        className={cn(\n          \"aui-attachment-root relative\",\n          isImage &&\n            \"aui-attachment-root-composer only:[&>#attachment-tile]:size-24\",\n        )}\n      >\n        <AttachmentPreviewDialog>\n          <TooltipTrigger asChild>\n            <div\n              className={cn(\n                \"aui-attachment-tile size-14 cursor-pointer overflow-hidden rounded-[14px] border bg-muted transition-opacity hover:opacity-75\",\n                isComposer &&\n                  \"aui-attachment-tile-composer border-foreground/20\",\n              )}\n              role=\"button\"\n              id=\"attachment-tile\"\n              aria-label={`${typeLabel} attachment`}\n            >\n              <AttachmentThumb />\n            </div>\n          </TooltipTrigger>\n        </AttachmentPreviewDialog>\n        {isComposer && <AttachmentRemove />}\n      </AttachmentPrimitive.Root>\n      <TooltipContent side=\"top\">\n        <AttachmentPrimitive.Name />\n      </TooltipContent>\n    </Tooltip>\n  );\n};\n\nconst AttachmentRemove: FC = () => {\n  return (\n    <AttachmentPrimitive.Remove asChild>\n      <TooltipIconButton\n        tooltip=\"Remove file\"\n        className=\"aui-attachment-tile-remove absolute top-1.5 right-1.5 size-3.5 rounded-full bg-white text-muted-foreground opacity-100 shadow-sm hover:bg-white! [&_svg]:text-black hover:[&_svg]:text-destructive\"\n        side=\"top\"\n      >\n        <XIcon className=\"aui-attachment-remove-icon size-3 dark:stroke-[2.5px]\" />\n      </TooltipIconButton>\n    </AttachmentPrimitive.Remove>\n  );\n};\n\nexport const UserMessageAttachments: FC = () => {\n  return (\n    <div className=\"aui-user-message-attachments-end col-span-full col-start-1 row-start-1 flex w-full flex-row justify-end gap-2\">\n      <MessagePrimitive.Attachments components={{ Attachment: AttachmentUI }} />\n    </div>\n  );\n};\n\nexport const ComposerAttachments: FC = () => {\n  return (\n    <div className=\"aui-composer-attachments mb-2 flex w-full flex-row items-center gap-2 overflow-x-auto px-1.5 pt-0.5 pb-1 empty:hidden\">\n      <ComposerPrimitive.Attachments\n        components={{ Attachment: AttachmentUI }}\n      />\n    </div>\n  );\n};\n\nexport const ComposerAddAttachment: FC = () => {\n  return (\n    <ComposerPrimitive.AddAttachment asChild>\n      <TooltipIconButton\n        tooltip=\"Add Attachment\"\n        side=\"bottom\"\n        variant=\"ghost\"\n        size=\"icon\"\n        className=\"aui-composer-add-attachment size-8.5 rounded-full p-1 font-semibold text-xs hover:bg-muted-foreground/15 dark:border-muted-foreground/15 dark:hover:bg-muted-foreground/30\"\n        aria-label=\"Add Attachment\"\n      >\n        <PlusIcon className=\"aui-attachment-add-icon size-5 stroke-[1.5px]\" />\n      </TooltipIconButton>\n    </ComposerPrimitive.AddAttachment>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 6475, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/assistant-ui/markdown-text.tsx"],"sourcesContent":["\"use client\";\n\nimport \"@assistant-ui/react-markdown/styles/dot.css\";\n\nimport {\n  type CodeHeaderProps,\n  MarkdownTextPrimitive,\n  unstable_memoizeMarkdownComponents as memoizeMarkdownComponents,\n  useIsMarkdownCodeBlock,\n} from \"@assistant-ui/react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport { type FC, memo, useState } from \"react\";\nimport { CheckIcon, CopyIcon } from \"lucide-react\";\n\nimport { TooltipIconButton } from \"@/components/assistant-ui/tooltip-icon-button\";\nimport { cn } from \"@/lib/utils\";\n\nconst MarkdownTextImpl = () => {\n  return (\n    <MarkdownTextPrimitive\n      remarkPlugins={[remarkGfm]}\n      className=\"aui-md\"\n      components={defaultComponents}\n    />\n  );\n};\n\nexport const MarkdownText = memo(MarkdownTextImpl);\n\nconst CodeHeader: FC<CodeHeaderProps> = ({ language, code }) => {\n  const { isCopied, copyToClipboard } = useCopyToClipboard();\n  const onCopy = () => {\n    if (!code || isCopied) return;\n    copyToClipboard(code);\n  };\n\n  return (\n    <div className=\"aui-code-header-root mt-4 flex items-center justify-between gap-4 rounded-t-lg bg-muted-foreground/15 px-4 py-2 font-semibold text-foreground text-sm dark:bg-muted-foreground/20\">\n      <span className=\"aui-code-header-language lowercase [&>span]:text-xs\">\n        {language}\n      </span>\n      <TooltipIconButton tooltip=\"Copy\" onClick={onCopy}>\n        {!isCopied && <CopyIcon />}\n        {isCopied && <CheckIcon />}\n      </TooltipIconButton>\n    </div>\n  );\n};\n\nconst useCopyToClipboard = ({\n  copiedDuration = 3000,\n}: {\n  copiedDuration?: number;\n} = {}) => {\n  const [isCopied, setIsCopied] = useState<boolean>(false);\n\n  const copyToClipboard = (value: string) => {\n    if (!value) return;\n\n    navigator.clipboard.writeText(value).then(() => {\n      setIsCopied(true);\n      setTimeout(() => setIsCopied(false), copiedDuration);\n    });\n  };\n\n  return { isCopied, copyToClipboard };\n};\n\nconst defaultComponents = memoizeMarkdownComponents({\n  h1: ({ className, ...props }) => (\n    <h1\n      className={cn(\n        \"aui-md-h1 mb-8 scroll-m-20 font-extrabold text-4xl tracking-tight last:mb-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  h2: ({ className, ...props }) => (\n    <h2\n      className={cn(\n        \"aui-md-h2 mt-8 mb-4 scroll-m-20 font-semibold text-3xl tracking-tight first:mt-0 last:mb-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  h3: ({ className, ...props }) => (\n    <h3\n      className={cn(\n        \"aui-md-h3 mt-6 mb-4 scroll-m-20 font-semibold text-2xl tracking-tight first:mt-0 last:mb-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  h4: ({ className, ...props }) => (\n    <h4\n      className={cn(\n        \"aui-md-h4 mt-6 mb-4 scroll-m-20 font-semibold text-xl tracking-tight first:mt-0 last:mb-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  h5: ({ className, ...props }) => (\n    <h5\n      className={cn(\n        \"aui-md-h5 my-4 font-semibold text-lg first:mt-0 last:mb-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  h6: ({ className, ...props }) => (\n    <h6\n      className={cn(\n        \"aui-md-h6 my-4 font-semibold first:mt-0 last:mb-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  p: ({ className, ...props }) => (\n    <p\n      className={cn(\n        \"aui-md-p mt-5 mb-5 leading-7 first:mt-0 last:mb-0\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  a: ({ className, ...props }) => (\n    <a\n      className={cn(\n        \"aui-md-a font-medium text-primary underline underline-offset-4\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  blockquote: ({ className, ...props }) => (\n    <blockquote\n      className={cn(\"aui-md-blockquote border-l-2 pl-6 italic\", className)}\n      {...props}\n    />\n  ),\n  ul: ({ className, ...props }) => (\n    <ul\n      className={cn(\"aui-md-ul my-5 ml-6 list-disc [&>li]:mt-2\", className)}\n      {...props}\n    />\n  ),\n  ol: ({ className, ...props }) => (\n    <ol\n      className={cn(\"aui-md-ol my-5 ml-6 list-decimal [&>li]:mt-2\", className)}\n      {...props}\n    />\n  ),\n  hr: ({ className, ...props }) => (\n    <hr className={cn(\"aui-md-hr my-5 border-b\", className)} {...props} />\n  ),\n  table: ({ className, ...props }) => (\n    <table\n      className={cn(\n        \"aui-md-table my-5 w-full border-separate border-spacing-0 overflow-y-auto\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  th: ({ className, ...props }) => (\n    <th\n      className={cn(\n        \"aui-md-th bg-muted px-4 py-2 text-left font-bold first:rounded-tl-lg last:rounded-tr-lg [[align=center]]:text-center [[align=right]]:text-right\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  td: ({ className, ...props }) => (\n    <td\n      className={cn(\n        \"aui-md-td border-b border-l px-4 py-2 text-left last:border-r [[align=center]]:text-center [[align=right]]:text-right\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  tr: ({ className, ...props }) => (\n    <tr\n      className={cn(\n        \"aui-md-tr m-0 border-b p-0 first:border-t [&:last-child>td:first-child]:rounded-bl-lg [&:last-child>td:last-child]:rounded-br-lg\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  sup: ({ className, ...props }) => (\n    <sup\n      className={cn(\"aui-md-sup [&>a]:text-xs [&>a]:no-underline\", className)}\n      {...props}\n    />\n  ),\n  pre: ({ className, ...props }) => (\n    <pre\n      className={cn(\n        \"aui-md-pre overflow-x-auto rounded-t-none! rounded-b-lg bg-black p-4 text-white\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n  code: function Code({ className, ...props }) {\n    const isCodeBlock = useIsMarkdownCodeBlock();\n    return (\n      <code\n        className={cn(\n          !isCodeBlock &&\n            \"aui-md-inline-code rounded border bg-muted font-semibold\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n  CodeHeader,\n});\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAUA;AACA;AACA;AAAA;AAEA;AACA;AAfA;;;;;;;;;AAiBA,MAAM,mBAAmB;IACvB,qBACE,ubAAC;QACC,eAAe;YAAC,kNAAS;SAAC;QAC1B,WAAU;QACV,YAAY;;;;;;AAGlB;AAEO,MAAM,6BAAe,IAAA,sZAAI,EAAC;AAEjC,MAAM,aAAkC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE;IACzD,MAAM,EAAE,QAAQ,EAAE,eAAe,EAAE,GAAG;IACtC,MAAM,SAAS;QACb,IAAI,CAAC,QAAQ,UAAU;QACvB,gBAAgB;IAClB;IAEA,qBACE,ubAAC;QAAI,WAAU;;0BACb,ubAAC;gBAAK,WAAU;0BACb;;;;;;0BAEH,ubAAC,6MAAiB;gBAAC,SAAQ;gBAAO,SAAS;;oBACxC,CAAC,0BAAY,ubAAC,sSAAQ;;;;;oBACtB,0BAAY,ubAAC,ySAAS;;;;;;;;;;;;;;;;;AAI/B;AAEA,MAAM,qBAAqB,CAAC,EAC1B,iBAAiB,IAAI,EAGtB,GAAG,CAAC,CAAC;IACJ,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,0ZAAQ,EAAU;IAElD,MAAM,kBAAkB,CAAC;QACvB,IAAI,CAAC,OAAO;QAEZ,UAAU,SAAS,CAAC,SAAS,CAAC,OAAO,IAAI,CAAC;YACxC,YAAY;YACZ,WAAW,IAAM,YAAY,QAAQ;QACvC;IACF;IAEA,OAAO;QAAE;QAAU;IAAgB;AACrC;AAEA,MAAM,oBAAoB,0BAA0B;IAClD,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,+EACA;YAED,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,8FACA;YAED,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,8FACA;YAED,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,6FACA;YAED,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,6DACA;YAED,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,qDACA;YAED,GAAG,KAAK;;;;;;IAGb,GAAG,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACzB,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,qDACA;YAED,GAAG,KAAK;;;;;;IAGb,GAAG,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACzB,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,kEACA;YAED,GAAG,KAAK;;;;;;IAGb,YAAY,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAClC,ubAAC;YACC,WAAW,IAAA,+IAAE,EAAC,4CAA4C;YACzD,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EAAC,6CAA6C;YAC1D,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EAAC,gDAAgD;YAC7D,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YAAG,WAAW,IAAA,+IAAE,EAAC,2BAA2B;YAAa,GAAG,KAAK;;;;;;IAEpE,OAAO,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC7B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,6EACA;YAED,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,mJACA;YAED,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,yHACA;YAED,GAAG,KAAK;;;;;;IAGb,IAAI,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC1B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,oIACA;YAED,GAAG,KAAK;;;;;;IAGb,KAAK,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC3B,ubAAC;YACC,WAAW,IAAA,+IAAE,EAAC,+CAA+C;YAC5D,GAAG,KAAK;;;;;;IAGb,KAAK,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAC3B,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,mFACA;YAED,GAAG,KAAK;;;;;;IAGb,MAAM,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAO;QACzC,MAAM,cAAc;QACpB,qBACE,ubAAC;YACC,WAAW,IAAA,+IAAE,EACX,CAAC,eACC,4DACF;YAED,GAAG,KAAK;;;;;;IAGf;IACA;AACF"}},
    {"offset": {"line": 6739, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/reasoning/use-scroll-lock.tsx"],"sourcesContent":["\"use client\";\n\nimport { type RefObject, useCallback, useEffect, useRef } from \"react\";\n\n/**\n * Locks scroll position during collapsible/height animations and hides scrollbar.\n *\n * This utility prevents page jumps when content height changes during animations,\n * providing a smooth user experience. It finds the nearest scrollable ancestor and\n * temporarily locks its scroll position while the animation completes.\n *\n * - Prevents forced reflows: no layout reads, mutations scoped to scrollable parent only\n * - Reactive: only intercepts scroll events when browser actually adjusts\n * - Cleans up automatically after animation duration\n *\n * @param animatedElementRef - Ref to the animated element\n * @param animationDuration - Lock duration in milliseconds\n * @returns Function to activate the scroll lock\n *\n * @example\n * ```tsx\n * const collapsibleRef = useRef<HTMLDivElement>(null);\n * const lockScroll = useScrollLock(collapsibleRef, 200);\n *\n * const handleCollapse = () => {\n *   lockScroll(); // Lock scroll before collapsing\n *   setIsOpen(false);\n * };\n * ```\n */\nexport const useScrollLock = <T extends HTMLElement = HTMLElement>(\n  animatedElementRef: RefObject<T | null>,\n  animationDuration: number,\n) => {\n  const scrollContainerRef = useRef<HTMLElement | null>(null);\n  const cleanupRef = useRef<(() => void) | null>(null);\n\n  useEffect(() => {\n    return () => {\n      cleanupRef.current?.();\n    };\n  }, []);\n\n  const lockScroll = useCallback(() => {\n    cleanupRef.current?.();\n\n    (function findScrollableAncestor() {\n      if (scrollContainerRef.current || !animatedElementRef.current) return;\n\n      let el: HTMLElement | null = animatedElementRef.current;\n      while (el) {\n        const { overflowY } = getComputedStyle(el);\n        if (overflowY === \"scroll\" || overflowY === \"auto\") {\n          scrollContainerRef.current = el;\n          break;\n        }\n        el = el.parentElement;\n      }\n    })();\n\n    const scrollContainer = scrollContainerRef.current;\n    if (!scrollContainer) return;\n\n    const scrollPosition = scrollContainer.scrollTop;\n    const scrollbarWidth = scrollContainer.style.scrollbarWidth;\n\n    scrollContainer.style.scrollbarWidth = \"none\";\n\n    const resetPosition = () => (scrollContainer.scrollTop = scrollPosition);\n    scrollContainer.addEventListener(\"scroll\", resetPosition);\n\n    const timeoutId = setTimeout(() => {\n      scrollContainer.removeEventListener(\"scroll\", resetPosition);\n      scrollContainer.style.scrollbarWidth = scrollbarWidth;\n      cleanupRef.current = null;\n    }, animationDuration);\n\n    cleanupRef.current = () => {\n      clearTimeout(timeoutId);\n      scrollContainer.removeEventListener(\"scroll\", resetPosition);\n      scrollContainer.style.scrollbarWidth = scrollbarWidth;\n    };\n  }, [animationDuration, animatedElementRef]);\n\n  return lockScroll;\n};\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AA8BO,MAAM,gBAAgB,CAC3B,oBACA;IAEA,MAAM,qBAAqB,IAAA,wZAAM,EAAqB;IACtD,MAAM,aAAa,IAAA,wZAAM,EAAsB;IAE/C,IAAA,2ZAAS,EAAC;QACR,OAAO;YACL,WAAW,OAAO;QACpB;IACF,GAAG,EAAE;IAEL,MAAM,aAAa,IAAA,6ZAAW,EAAC;QAC7B,WAAW,OAAO;QAElB,CAAC,SAAS;YACR,IAAI,mBAAmB,OAAO,IAAI,CAAC,mBAAmB,OAAO,EAAE;YAE/D,IAAI,KAAyB,mBAAmB,OAAO;YACvD,MAAO,GAAI;gBACT,MAAM,EAAE,SAAS,EAAE,GAAG,iBAAiB;gBACvC,IAAI,cAAc,YAAY,cAAc,QAAQ;oBAClD,mBAAmB,OAAO,GAAG;oBAC7B;gBACF;gBACA,KAAK,GAAG,aAAa;YACvB;QACF,CAAC;QAED,MAAM,kBAAkB,mBAAmB,OAAO;QAClD,IAAI,CAAC,iBAAiB;QAEtB,MAAM,iBAAiB,gBAAgB,SAAS;QAChD,MAAM,iBAAiB,gBAAgB,KAAK,CAAC,cAAc;QAE3D,gBAAgB,KAAK,CAAC,cAAc,GAAG;QAEvC,MAAM,gBAAgB,IAAO,gBAAgB,SAAS,GAAG;QACzD,gBAAgB,gBAAgB,CAAC,UAAU;QAE3C,MAAM,YAAY,WAAW;YAC3B,gBAAgB,mBAAmB,CAAC,UAAU;YAC9C,gBAAgB,KAAK,CAAC,cAAc,GAAG;YACvC,WAAW,OAAO,GAAG;QACvB,GAAG;QAEH,WAAW,OAAO,GAAG;YACnB,aAAa;YACb,gBAAgB,mBAAmB,CAAC,UAAU;YAC9C,gBAAgB,KAAK,CAAC,cAAc,GAAG;QACzC;IACF,GAAG;QAAC;QAAmB;KAAmB;IAE1C,OAAO;AACT"}},
    {"offset": {"line": 6795, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/collapsible.tsx"],"sourcesContent":["\"use client\";\n\nimport * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\";\n\nfunction Collapsible({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.Root>) {\n  return <CollapsiblePrimitive.Root data-slot=\"collapsible\" {...props} />;\n}\n\nfunction CollapsibleTrigger({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleTrigger>) {\n  return (\n    <CollapsiblePrimitive.CollapsibleTrigger\n      data-slot=\"collapsible-trigger\"\n      {...props}\n    />\n  );\n}\n\nfunction CollapsibleContent({\n  ...props\n}: React.ComponentProps<typeof CollapsiblePrimitive.CollapsibleContent>) {\n  return (\n    <CollapsiblePrimitive.CollapsibleContent\n      data-slot=\"collapsible-content\"\n      {...props}\n    />\n  );\n}\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent };\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAFA;;;AAIA,SAAS,YAAY,EACnB,GAAG,OACoD;IACvD,qBAAO,ubAAC,6XAAyB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AACrE;AAEA,SAAS,mBAAmB,EAC1B,GAAG,OACkE;IACrE,qBACE,ubAAC,2YAAuC;QACtC,aAAU;QACT,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,mBAAmB,EAC1B,GAAG,OACkE;IACrE,qBACE,ubAAC,2YAAuC;QACtC,aAAU;QACT,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 6843, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/assistant-ui/reasoning.tsx"],"sourcesContent":["\"use client\";\n\nimport { memo, useCallback, useRef, useState } from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { BrainIcon, ChevronDownIcon } from \"lucide-react\";\nimport {\n  useScrollLock,\n  useAssistantState,\n  type ReasoningMessagePartComponent,\n  type ReasoningGroupComponent,\n} from \"@creatorem/ai-react\";\nimport { MarkdownText } from \"@/components/assistant-ui/markdown-text\";\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@/components/ui/collapsible\";\nimport { cn } from \"@/lib/utils\";\n\nconst ANIMATION_DURATION = 200;\n\nconst reasoningVariants = cva(\"aui-reasoning-root mb-4 w-full\", {\n  variants: {\n    variant: {\n      default: \"\",\n      outline: \"rounded-lg border px-3 py-2\",\n      muted: \"rounded-lg bg-muted/50 px-3 py-2\",\n    },\n  },\n  defaultVariants: {\n    variant: \"default\",\n  },\n});\n\nexport type ReasoningRootProps = Omit<\n  React.ComponentProps<typeof Collapsible>,\n  \"open\" | \"onOpenChange\"\n> &\n  VariantProps<typeof reasoningVariants> & {\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n    defaultOpen?: boolean;\n  };\n\nfunction ReasoningRoot({\n  className,\n  variant,\n  open: controlledOpen,\n  onOpenChange: controlledOnOpenChange,\n  defaultOpen = false,\n  children,\n  ...props\n}: ReasoningRootProps) {\n  const collapsibleRef = useRef<HTMLDivElement>(null);\n  const [uncontrolledOpen, setUncontrolledOpen] = useState(defaultOpen);\n  const lockScroll = useScrollLock(collapsibleRef, ANIMATION_DURATION);\n\n  const isControlled = controlledOpen !== undefined;\n  const isOpen = isControlled ? controlledOpen : uncontrolledOpen;\n\n  const handleOpenChange = useCallback(\n    (open: boolean) => {\n      if (!open) {\n        lockScroll();\n      }\n      if (!isControlled) {\n        setUncontrolledOpen(open);\n      }\n      controlledOnOpenChange?.(open);\n    },\n    [lockScroll, isControlled, controlledOnOpenChange],\n  );\n\n  return (\n    <Collapsible\n      ref={collapsibleRef}\n      data-slot=\"reasoning-root\"\n      data-variant={variant}\n      open={isOpen}\n      onOpenChange={handleOpenChange}\n      className={cn(reasoningVariants({ variant, className }))}\n      style={\n        {\n          \"--animation-duration\": `${ANIMATION_DURATION}ms`,\n        } as React.CSSProperties\n      }\n      {...props}\n    >\n      {children}\n    </Collapsible>\n  );\n}\n\nfunction ReasoningFade({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"reasoning-fade\"\n      className={cn(\n        \"aui-reasoning-fade pointer-events-none absolute inset-x-0 bottom-0 z-10 h-8\",\n        \"bg-[linear-gradient(to_top,var(--color-background),transparent)]\",\n        \"fade-in-0 animate-in\",\n        \"group-data-[state=open]/collapsible-content:animate-out\",\n        \"group-data-[state=open]/collapsible-content:fade-out-0\",\n        \"group-data-[state=open]/collapsible-content:delay-[calc(var(--animation-duration)*0.75)]\",\n        \"group-data-[state=open]/collapsible-content:fill-mode-forwards\",\n        \"duration-(--animation-duration)\",\n        \"group-data-[state=open]/collapsible-content:duration-(--animation-duration)\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction ReasoningTrigger({\n  active,\n  duration,\n  className,\n  ...props\n}: React.ComponentProps<typeof CollapsibleTrigger> & {\n  active?: boolean;\n  duration?: number;\n}) {\n  const durationText = duration ? ` (${duration}s)` : \"\";\n\n  return (\n    <CollapsibleTrigger\n      data-slot=\"reasoning-trigger\"\n      className={cn(\n        \"aui-reasoning-trigger group/trigger flex max-w-[75%] items-center gap-2 py-1 text-muted-foreground text-sm transition-colors hover:text-foreground\",\n        className,\n      )}\n      {...props}\n    >\n      <BrainIcon\n        data-slot=\"reasoning-trigger-icon\"\n        className=\"aui-reasoning-trigger-icon size-4 shrink-0\"\n      />\n      <span\n        data-slot=\"reasoning-trigger-label\"\n        className=\"aui-reasoning-trigger-label-wrapper relative inline-block leading-none\"\n      >\n        <span>Reasoning{durationText}</span>\n        {active ? (\n          <span\n            aria-hidden\n            data-slot=\"reasoning-trigger-shimmer\"\n            className=\"aui-reasoning-trigger-shimmer shimmer pointer-events-none absolute inset-0 motion-reduce:animate-none\"\n          >\n            Reasoning{durationText}\n          </span>\n        ) : null}\n      </span>\n      <ChevronDownIcon\n        data-slot=\"reasoning-trigger-chevron\"\n        className={cn(\n          \"aui-reasoning-trigger-chevron mt-0.5 size-4 shrink-0\",\n          \"transition-transform duration-(--animation-duration) ease-out\",\n          \"group-data-[state=closed]/trigger:-rotate-90\",\n          \"group-data-[state=open]/trigger:rotate-0\",\n        )}\n      />\n    </CollapsibleTrigger>\n  );\n}\n\nfunction ReasoningContent({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof CollapsibleContent>) {\n  return (\n    <CollapsibleContent\n      data-slot=\"reasoning-content\"\n      className={cn(\n        \"aui-reasoning-content relative overflow-hidden text-muted-foreground text-sm outline-none\",\n        \"group/collapsible-content ease-out\",\n        \"data-[state=closed]:animate-collapsible-up\",\n        \"data-[state=open]:animate-collapsible-down\",\n        \"data-[state=closed]:fill-mode-forwards\",\n        \"data-[state=closed]:pointer-events-none\",\n        \"data-[state=open]:duration-(--animation-duration)\",\n        \"data-[state=closed]:duration-(--animation-duration)\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <ReasoningFade />\n    </CollapsibleContent>\n  );\n}\n\nfunction ReasoningText({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"reasoning-text\"\n      className={cn(\n        \"aui-reasoning-text relative z-0 max-h-64 space-y-4 overflow-y-auto pt-2 pb-4 pl-6 leading-relaxed\",\n        \"transform-gpu transition-[transform,opacity]\",\n        \"group-data-[state=open]/collapsible-content:animate-in\",\n        \"group-data-[state=closed]/collapsible-content:animate-out\",\n        \"group-data-[state=open]/collapsible-content:fade-in-0\",\n        \"group-data-[state=closed]/collapsible-content:fade-out-0\",\n        \"group-data-[state=open]/collapsible-content:slide-in-from-top-4\",\n        \"group-data-[state=closed]/collapsible-content:slide-out-to-top-4\",\n        \"group-data-[state=open]/collapsible-content:duration-(--animation-duration)\",\n        \"group-data-[state=closed]/collapsible-content:duration-(--animation-duration)\",\n        \"[&_p]:-mb-2\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nconst ReasoningImpl: ReasoningMessagePartComponent = () => <MarkdownText />;\n\nconst ReasoningGroupImpl: ReasoningGroupComponent = ({\n  children,\n  startIndex,\n  endIndex,\n}) => {\n  const isReasoningStreaming = useAssistantState(({ message }) => {\n    if (message.status?.type !== \"running\") return false;\n    const lastIndex = message.parts.length - 1;\n    if (lastIndex < 0) return false;\n    const lastType = message.parts[lastIndex]?.type;\n    if (lastType !== \"reasoning\") return false;\n    return lastIndex >= startIndex && lastIndex <= endIndex;\n  });\n\n  return (\n    <ReasoningRoot defaultOpen={isReasoningStreaming}>\n      <ReasoningTrigger active={isReasoningStreaming} />\n      <ReasoningContent aria-busy={isReasoningStreaming}>\n        <ReasoningText>{children}</ReasoningText>\n      </ReasoningContent>\n    </ReasoningRoot>\n  );\n};\n\nconst Reasoning = memo(\n  ReasoningImpl,\n) as unknown as ReasoningMessagePartComponent & {\n  Root: typeof ReasoningRoot;\n  Trigger: typeof ReasoningTrigger;\n  Content: typeof ReasoningContent;\n  Text: typeof ReasoningText;\n  Fade: typeof ReasoningFade;\n};\n\nReasoning.displayName = \"Reasoning\";\nReasoning.Root = ReasoningRoot;\nReasoning.Trigger = ReasoningTrigger;\nReasoning.Content = ReasoningContent;\nReasoning.Text = ReasoningText;\nReasoning.Fade = ReasoningFade;\n\nconst ReasoningGroup = memo(ReasoningGroupImpl);\nReasoningGroup.displayName = \"ReasoningGroup\";\n\nexport {\n  Reasoning,\n  ReasoningGroup,\n  ReasoningRoot,\n  ReasoningTrigger,\n  ReasoningContent,\n  ReasoningText,\n  ReasoningFade,\n  reasoningVariants,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 7096, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/assistant-ui/tool-fallback.tsx"],"sourcesContent":["import type { ToolCallMessagePartComponent } from \"@creatorem/ai-react\";\nimport {\n  CheckIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n  XCircleIcon,\n} from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\n\nexport const ToolFallback: ToolCallMessagePartComponent = ({\n  toolName,\n  argsText,\n  result,\n  status,\n}) => {\n  const [isCollapsed, setIsCollapsed] = useState(true);\n\n  const isCancelled =\n    status?.type === \"incomplete\" && status.reason === \"cancelled\";\n  const cancelledReason =\n    isCancelled && status.error\n      ? typeof status.error === \"string\"\n        ? status.error\n        : JSON.stringify(status.error)\n      : null;\n\n  return (\n    <div\n      className={cn(\n        \"aui-tool-fallback-root mb-4 flex w-full flex-col gap-3 rounded-lg border py-3\",\n        isCancelled && \"border-muted-foreground/30 bg-muted/30\",\n      )}\n    >\n      <div className=\"aui-tool-fallback-header flex items-center gap-2 px-4\">\n        {isCancelled ? (\n          <XCircleIcon className=\"aui-tool-fallback-icon size-4 text-muted-foreground\" />\n        ) : (\n          <CheckIcon className=\"aui-tool-fallback-icon size-4\" />\n        )}\n        <p\n          className={cn(\n            \"aui-tool-fallback-title grow\",\n            isCancelled && \"text-muted-foreground line-through\",\n          )}\n        >\n          {isCancelled ? \"Cancelled tool: \" : \"Used tool: \"}\n          <b>{toolName}</b>\n        </p>\n        <Button onClick={() => setIsCollapsed(!isCollapsed)}>\n          {isCollapsed ? <ChevronUpIcon /> : <ChevronDownIcon />}\n        </Button>\n      </div>\n      {!isCollapsed && (\n        <div className=\"aui-tool-fallback-content flex flex-col gap-2 border-t pt-2\">\n          {cancelledReason && (\n            <div className=\"aui-tool-fallback-cancelled-root px-4\">\n              <p className=\"aui-tool-fallback-cancelled-header font-semibold text-muted-foreground\">\n                Cancelled reason:\n              </p>\n              <p className=\"aui-tool-fallback-cancelled-reason text-muted-foreground\">\n                {cancelledReason}\n              </p>\n            </div>\n          )}\n          <div\n            className={cn(\n              \"aui-tool-fallback-args-root px-4\",\n              isCancelled && \"opacity-60\",\n            )}\n          >\n            <pre className=\"aui-tool-fallback-args-value whitespace-pre-wrap\">\n              {argsText}\n            </pre>\n          </div>\n          {!isCancelled && result !== undefined && (\n            <div className=\"aui-tool-fallback-result-root border-t border-dashed px-4 pt-2\">\n              <p className=\"aui-tool-fallback-result-header font-semibold\">\n                Result:\n              </p>\n              <pre className=\"aui-tool-fallback-result-content whitespace-pre-wrap\">\n                {typeof result === \"string\"\n                  ? result\n                  : JSON.stringify(result, null, 2)}\n              </pre>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;;;;;;AAEO,MAAM,eAA6C,CAAC,EACzD,QAAQ,EACR,QAAQ,EACR,MAAM,EACN,MAAM,EACP;IACC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,0ZAAQ,EAAC;IAE/C,MAAM,cACJ,QAAQ,SAAS,gBAAgB,OAAO,MAAM,KAAK;IACrD,MAAM,kBACJ,eAAe,OAAO,KAAK,GACvB,OAAO,OAAO,KAAK,KAAK,WACtB,OAAO,KAAK,GACZ,KAAK,SAAS,CAAC,OAAO,KAAK,IAC7B;IAEN,qBACE,ubAAC;QACC,WAAW,IAAA,+IAAE,EACX,iFACA,eAAe;;0BAGjB,ubAAC;gBAAI,WAAU;;oBACZ,4BACC,ubAAC,mTAAW;wBAAC,WAAU;;;;;iFAEvB,ubAAC,ySAAS;wBAAC,WAAU;;;;;;kCAEvB,ubAAC;wBACC,WAAW,IAAA,+IAAE,EACX,gCACA,eAAe;;4BAGhB,cAAc,qBAAqB;0CACpC,ubAAC;0CAAG;;;;;;;;;;;;kCAEN,ubAAC,kKAAM;wBAAC,SAAS,IAAM,eAAe,CAAC;kCACpC,4BAAc,ubAAC,yTAAa;;;;qFAAM,ubAAC,+TAAe;;;;;;;;;;;;;;;;YAGtD,CAAC,6BACA,ubAAC;gBAAI,WAAU;;oBACZ,iCACC,ubAAC;wBAAI,WAAU;;0CACb,ubAAC;gCAAE,WAAU;0CAAyE;;;;;;0CAGtF,ubAAC;gCAAE,WAAU;0CACV;;;;;;;;;;;;kCAIP,ubAAC;wBACC,WAAW,IAAA,+IAAE,EACX,oCACA,eAAe;kCAGjB,cAAA,ubAAC;4BAAI,WAAU;sCACZ;;;;;;;;;;;oBAGJ,CAAC,eAAe,WAAW,2BAC1B,ubAAC;wBAAI,WAAU;;0CACb,ubAAC;gCAAE,WAAU;0CAAgD;;;;;;0CAG7D,ubAAC;gCAAI,WAAU;0CACZ,OAAO,WAAW,WACf,SACA,KAAK,SAAS,CAAC,QAAQ,MAAM;;;;;;;;;;;;;;;;;;;;;;;;AAQjD"}},
    {"offset": {"line": 7260, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 7270, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar-more/scope.tsx"],"sourcesContent":["import * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport type { Scope } from \"@radix-ui/react-context\";\n\nexport const useDropdownMenuScope: ReturnType<\n  typeof DropdownMenuPrimitive.createDropdownMenuScope\n> = DropdownMenuPrimitive.createDropdownMenuScope();\n\nexport type ScopedProps<P> = P & { __scopeActionBarMore?: Scope };\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,uBAET,wZAA6C"}},
    {"offset": {"line": 7281, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar-more/action-bar-more-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { FC } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ActionBarMorePrimitiveRoot {\n  export type Props = DropdownMenuPrimitive.DropdownMenuProps;\n}\n\nexport const ActionBarMorePrimitiveRoot: FC<\n  ActionBarMorePrimitiveRoot.Props\n> = ({\n  __scopeActionBarMore,\n  ...rest\n}: ScopedProps<ActionBarMorePrimitiveRoot.Props>) => {\n  const scope = useDropdownMenuScope(__scopeActionBarMore);\n\n  return <DropdownMenuPrimitive.Root {...scope} {...rest} />;\n};\n\nActionBarMorePrimitiveRoot.displayName = \"ActionBarMorePrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAUO,MAAM,6BAET,CAAC,EACH,oBAAoB,EACpB,GAAG,MAC2C;IAC9C,MAAM,QAAQ,IAAA,iMAAoB,EAAC;IAEnC,qBAAO,ubAAC,qYAA0B;QAAE,GAAG,KAAK;QAAG,GAAG,IAAI;;;;;;AACxD;AAEA,2BAA2B,WAAW,GAAG"}},
    {"offset": {"line": 7308, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar-more/action-bar-more-trigger.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ActionBarMorePrimitiveTrigger {\n  export type Element = ComponentRef<typeof DropdownMenuPrimitive.Trigger>;\n  export type Props = ComponentPropsWithoutRef<\n    typeof DropdownMenuPrimitive.Trigger\n  >;\n}\n\nexport const ActionBarMorePrimitiveTrigger = forwardRef<\n  ActionBarMorePrimitiveTrigger.Element,\n  ActionBarMorePrimitiveTrigger.Props\n>(\n  (\n    {\n      __scopeActionBarMore,\n      ...rest\n    }: ScopedProps<ActionBarMorePrimitiveTrigger.Props>,\n    ref,\n  ) => {\n    const scope = useDropdownMenuScope(__scopeActionBarMore);\n\n    return <DropdownMenuPrimitive.Trigger {...scope} {...rest} ref={ref} />;\n  },\n);\n\nActionBarMorePrimitiveTrigger.displayName = \"ActionBarMorePrimitive.Trigger\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,MAAM,8CAAgC,IAAA,4ZAAU,EAIrD,CACE,EACE,oBAAoB,EACpB,GAAG,MAC8C,EACnD;IAEA,MAAM,QAAQ,IAAA,iMAAoB,EAAC;IAEnC,qBAAO,ubAAC,wYAA6B;QAAE,GAAG,KAAK;QAAG,GAAG,IAAI;QAAE,KAAK;;;;;;AAClE;AAGF,8BAA8B,WAAW,GAAG"}},
    {"offset": {"line": 7338, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar-more/action-bar-more-content.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ActionBarMorePrimitiveContent {\n  export type Element = ComponentRef<typeof DropdownMenuPrimitive.Content>;\n  export type Props = ComponentPropsWithoutRef<\n    typeof DropdownMenuPrimitive.Content\n  > & {\n    portalProps?:\n      | ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Portal>\n      | undefined;\n  };\n}\n\nexport const ActionBarMorePrimitiveContent = forwardRef<\n  ActionBarMorePrimitiveContent.Element,\n  ActionBarMorePrimitiveContent.Props\n>(\n  (\n    {\n      __scopeActionBarMore,\n      portalProps,\n      sideOffset = 4,\n      ...props\n    }: ScopedProps<ActionBarMorePrimitiveContent.Props>,\n    forwardedRef,\n  ) => {\n    const scope = useDropdownMenuScope(__scopeActionBarMore);\n\n    return (\n      <DropdownMenuPrimitive.Portal {...scope} {...portalProps}>\n        <DropdownMenuPrimitive.Content\n          {...scope}\n          {...props}\n          ref={forwardedRef}\n          sideOffset={sideOffset}\n        />\n      </DropdownMenuPrimitive.Portal>\n    );\n  },\n);\n\nActionBarMorePrimitiveContent.displayName = \"ActionBarMorePrimitive.Content\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAiBO,MAAM,8CAAgC,IAAA,4ZAAU,EAIrD,CACE,EACE,oBAAoB,EACpB,WAAW,EACX,aAAa,CAAC,EACd,GAAG,OAC8C,EACnD;IAEA,MAAM,QAAQ,IAAA,iMAAoB,EAAC;IAEnC,qBACE,ubAAC,uYAA4B;QAAE,GAAG,KAAK;QAAG,GAAG,WAAW;kBACtD,cAAA,ubAAC,wYAA6B;YAC3B,GAAG,KAAK;YACR,GAAG,KAAK;YACT,KAAK;YACL,YAAY;;;;;;;;;;;AAIpB;AAGF,8BAA8B,WAAW,GAAG"}},
    {"offset": {"line": 7377, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar-more/action-bar-more-item.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ActionBarMorePrimitiveItem {\n  export type Element = ComponentRef<typeof DropdownMenuPrimitive.Item>;\n  export type Props = ComponentPropsWithoutRef<\n    typeof DropdownMenuPrimitive.Item\n  >;\n}\n\nexport const ActionBarMorePrimitiveItem = forwardRef<\n  ActionBarMorePrimitiveItem.Element,\n  ActionBarMorePrimitiveItem.Props\n>(\n  (\n    {\n      __scopeActionBarMore,\n      ...rest\n    }: ScopedProps<ActionBarMorePrimitiveItem.Props>,\n    ref,\n  ) => {\n    const scope = useDropdownMenuScope(__scopeActionBarMore);\n\n    return <DropdownMenuPrimitive.Item {...scope} {...rest} ref={ref} />;\n  },\n);\n\nActionBarMorePrimitiveItem.displayName = \"ActionBarMorePrimitive.Item\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,MAAM,2CAA6B,IAAA,4ZAAU,EAIlD,CACE,EACE,oBAAoB,EACpB,GAAG,MAC2C,EAChD;IAEA,MAAM,QAAQ,IAAA,iMAAoB,EAAC;IAEnC,qBAAO,ubAAC,qYAA0B;QAAE,GAAG,KAAK;QAAG,GAAG,IAAI;QAAE,KAAK;;;;;;AAC/D;AAGF,2BAA2B,WAAW,GAAG"}},
    {"offset": {"line": 7407, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar-more/action-bar-more-separator.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ActionBarMorePrimitiveSeparator {\n  export type Element = ComponentRef<typeof DropdownMenuPrimitive.Separator>;\n  export type Props = ComponentPropsWithoutRef<\n    typeof DropdownMenuPrimitive.Separator\n  >;\n}\n\nexport const ActionBarMorePrimitiveSeparator = forwardRef<\n  ActionBarMorePrimitiveSeparator.Element,\n  ActionBarMorePrimitiveSeparator.Props\n>(\n  (\n    {\n      __scopeActionBarMore,\n      ...rest\n    }: ScopedProps<ActionBarMorePrimitiveSeparator.Props>,\n    ref,\n  ) => {\n    const scope = useDropdownMenuScope(__scopeActionBarMore);\n\n    return <DropdownMenuPrimitive.Separator {...scope} {...rest} ref={ref} />;\n  },\n);\n\nActionBarMorePrimitiveSeparator.displayName =\n  \"ActionBarMorePrimitive.Separator\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,MAAM,gDAAkC,IAAA,4ZAAU,EAIvD,CACE,EACE,oBAAoB,EACpB,GAAG,MACgD,EACrD;IAEA,MAAM,QAAQ,IAAA,iMAAoB,EAAC;IAEnC,qBAAO,ubAAC,0YAA+B;QAAE,GAAG,KAAK;QAAG,GAAG,IAAI;QAAE,KAAK;;;;;;AACpE;AAGF,gCAAgC,WAAW,GACzC"}},
    {"offset": {"line": 7468, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 7482, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/use-action-bar-float-status.tsx"],"sourcesContent":["\"use client\";\n\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nexport enum HideAndFloatStatus {\n  Hidden = \"hidden\",\n  Floating = \"floating\",\n  Normal = \"normal\",\n}\n\nexport type UseActionBarFloatStatusProps = {\n  hideWhenRunning?: boolean | undefined;\n  autohide?: \"always\" | \"not-last\" | \"never\" | undefined;\n  autohideFloat?: \"always\" | \"single-branch\" | \"never\" | undefined;\n};\n\nexport const useActionBarFloatStatus = ({\n  hideWhenRunning,\n  autohide,\n  autohideFloat,\n}: UseActionBarFloatStatusProps) => {\n  return useAuiState(({ thread, message }) => {\n    if (hideWhenRunning && thread.isRunning) return HideAndFloatStatus.Hidden;\n\n    const autohideEnabled =\n      autohide === \"always\" || (autohide === \"not-last\" && !message.isLast);\n\n    // normal status\n    if (!autohideEnabled) return HideAndFloatStatus.Normal;\n\n    // hidden status\n    if (!message.isHovering) return HideAndFloatStatus.Hidden;\n\n    // floating status\n    if (\n      autohideFloat === \"always\" ||\n      (autohideFloat === \"single-branch\" && message.branchCount <= 1)\n    )\n      return HideAndFloatStatus.Floating;\n\n    return HideAndFloatStatus.Normal;\n  });\n};\n"],"names":[],"mappings":";;;;;;AAEA;AAFA;;AAIO,IAAA,AAAK,4CAAA;;;;WAAA;;AAYL,MAAM,0BAA0B,CAAC,EACtC,eAAe,EACf,QAAQ,EACR,aAAa,EACgB;IAC7B,OAAO,IAAA,+JAAW,EAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE;QACrC,IAAI,mBAAmB,OAAO,SAAS,EAAE;QAEzC,MAAM,kBACJ,aAAa,YAAa,aAAa,cAAc,CAAC,QAAQ,MAAM;QAEtE,gBAAgB;QAChB,IAAI,CAAC,iBAAiB;QAEtB,gBAAgB;QAChB,IAAI,CAAC,QAAQ,UAAU,EAAE;QAEzB,kBAAkB;QAClB,IACE,kBAAkB,YACjB,kBAAkB,mBAAmB,QAAQ,WAAW,IAAI,GAE7D;QAEF;IACF;AACF"}},
    {"offset": {"line": 7514, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport {\n  useActionBarFloatStatus,\n  HideAndFloatStatus,\n} from \"./use-action-bar-float-status\";\n\ntype PrimitiveDivProps = ComponentPropsWithoutRef<typeof Primitive.div>;\n\nexport namespace ActionBarPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = PrimitiveDivProps & {\n    /**\n     * Whether to hide the action bar when the thread is running.\n     * @default false\n     */\n    hideWhenRunning?: boolean | undefined;\n    /**\n     * Controls when the action bar should automatically hide.\n     * - \"always\": Always hide unless hovered\n     * - \"not-last\": Hide unless this is the last message\n     * - \"never\": Never auto-hide\n     * @default \"never\"\n     */\n    autohide?: \"always\" | \"not-last\" | \"never\" | undefined;\n    /**\n     * Controls floating behavior when auto-hidden.\n     * - \"always\": Always float when hidden\n     * - \"single-branch\": Float only for single-branch messages\n     * - \"never\": Never float\n     * @default \"never\"\n     */\n    autohideFloat?: \"always\" | \"single-branch\" | \"never\" | undefined;\n  };\n}\n\n/**\n * The root container for action bar components.\n *\n * This component provides intelligent visibility and floating behavior for action bars,\n * automatically hiding and showing based on message state, hover status, and configuration.\n * It supports floating mode for better UX when space is limited.\n *\n * @example\n * ```tsx\n * <ActionBarPrimitive.Root\n *   hideWhenRunning={true}\n *   autohide=\"not-last\"\n *   autohideFloat=\"single-branch\"\n * >\n *   <ActionBarPrimitive.Copy />\n *   <ActionBarPrimitive.Edit />\n *   <ActionBarPrimitive.Reload />\n * </ActionBarPrimitive.Root>\n * ```\n */\nexport const ActionBarPrimitiveRoot = forwardRef<\n  ActionBarPrimitiveRoot.Element,\n  ActionBarPrimitiveRoot.Props\n>(({ hideWhenRunning, autohide, autohideFloat, ...rest }, ref) => {\n  const hideAndfloatStatus = useActionBarFloatStatus({\n    hideWhenRunning,\n    autohide,\n    autohideFloat,\n  });\n\n  if (hideAndfloatStatus === HideAndFloatStatus.Hidden) return null;\n\n  return (\n    <Primitive.div\n      {...(hideAndfloatStatus === HideAndFloatStatus.Floating\n        ? { \"data-floating\": \"true\" }\n        : null)}\n      {...rest}\n      ref={ref}\n    />\n  );\n});\n\nActionBarPrimitiveRoot.displayName = \"ActionBarPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AA0DO,MAAM,uCAAyB,IAAA,4ZAAU,EAG9C,CAAC,EAAE,eAAe,EAAE,QAAQ,EAAE,aAAa,EAAE,GAAG,MAAM,EAAE;IACxD,MAAM,qBAAqB,IAAA,8NAAuB,EAAC;QACjD;QACA;QACA;IACF;IAEA,IAAI,uBAAuB,yNAAkB,CAAC,MAAM,EAAE,OAAO;IAE7D,qBACE,ubAAC,mYAAS,CAAC,GAAG;QACX,GAAI,uBAAuB,yNAAkB,CAAC,QAAQ,GACnD;YAAE,iBAAiB;QAAO,IAC1B,IAAI;QACP,GAAG,IAAI;QACR,KAAK;;;;;;AAGX;AAEA,uBAAuB,WAAW,GAAG"}},
    {"offset": {"line": 7551, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-copy.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef } from \"react\";\nimport { ActionButtonProps } from \"../../utils/create-action-button\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\n/**\n * Hook that provides copy functionality for action bar buttons.\n *\n * This hook returns a callback function that copies message content to the clipboard,\n * or null if copying is not available. It handles both regular message content and\n * composer text when in editing mode.\n *\n * @param options Configuration options\n * @param options.copiedDuration Duration in milliseconds to show the copied state\n * @returns A copy callback function, or null if copying is disabled\n *\n * @example\n * ```tsx\n * function CustomCopyButton() {\n *   const copy = useActionBarPrimitiveCopy({ copiedDuration: 2000 });\n *\n *   return (\n *     <button onClick={copy} disabled={!copy}>\n *       {copy ? \"Copy\" : \"Cannot Copy\"}\n *     </button>\n *   );\n * }\n * ```\n */\nconst useActionBarPrimitiveCopy = ({\n  copiedDuration = 3000,\n}: {\n  copiedDuration?: number | undefined;\n} = {}) => {\n  const aui = useAui();\n  const hasCopyableContent = useAuiState(({ message }) => {\n    return (\n      (message.role !== \"assistant\" || message.status?.type !== \"running\") &&\n      message.parts.some((c) => c.type === \"text\" && c.text.length > 0)\n    );\n  });\n\n  const isEditing = useAuiState(({ composer }) => composer.isEditing);\n  const composerValue = useAuiState(({ composer }) => composer.text);\n\n  const callback = useCallback(() => {\n    const valueToCopy = isEditing ? composerValue : aui.message().getCopyText();\n\n    if (!valueToCopy) return;\n\n    navigator.clipboard.writeText(valueToCopy).then(() => {\n      aui.message().setIsCopied(true);\n      setTimeout(() => aui.message().setIsCopied(false), copiedDuration);\n    });\n  }, [aui, isEditing, composerValue, copiedDuration]);\n\n  if (!hasCopyableContent) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveCopy {\n  export type Element = HTMLButtonElement;\n  /**\n   * Props for the ActionBarPrimitive.Copy component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useActionBarPrimitiveCopy>;\n}\n\n/**\n * A button component that copies message content to the clipboard.\n *\n * This component automatically handles copying message text to the clipboard\n * and provides visual feedback through the data-copied attribute. It's disabled\n * when there's no copyable content available.\n *\n * @example\n * ```tsx\n * <ActionBarPrimitive.Copy copiedDuration={2000}>\n *   Copy Message\n * </ActionBarPrimitive.Copy>\n * ```\n */\nexport const ActionBarPrimitiveCopy = forwardRef<\n  ActionBarPrimitiveCopy.Element,\n  ActionBarPrimitiveCopy.Props\n>(({ copiedDuration, onClick, disabled, ...props }, forwardedRef) => {\n  const isCopied = useAuiState(({ message }) => message.isCopied);\n  const callback = useActionBarPrimitiveCopy({ copiedDuration });\n  return (\n    <Primitive.button\n      type=\"button\"\n      {...(isCopied ? { \"data-copied\": \"true\" } : {})}\n      {...props}\n      ref={forwardedRef}\n      disabled={disabled || !callback}\n      onClick={composeEventHandlers(onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveCopy.displayName = \"ActionBarPrimitive.Copy\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAEA;AAAA;AAPA;;;;;;;AASA;;;;;;;;;;;;;;;;;;;;;;;CAuBC,GACD,MAAM,4BAA4B,CAAC,EACjC,iBAAiB,IAAI,EAGtB,GAAG,CAAC,CAAC;IACJ,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,qBAAqB,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE;QACjD,OACE,CAAC,QAAQ,IAAI,KAAK,eAAe,QAAQ,MAAM,EAAE,SAAS,SAAS,KACnE,QAAQ,KAAK,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,UAAU,EAAE,IAAI,CAAC,MAAM,GAAG;IAEnE;IAEA,MAAM,YAAY,IAAA,+JAAW,EAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,SAAS,SAAS;IAClE,MAAM,gBAAgB,IAAA,+JAAW,EAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,SAAS,IAAI;IAEjE,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,MAAM,cAAc,YAAY,gBAAgB,IAAI,OAAO,GAAG,WAAW;QAEzE,IAAI,CAAC,aAAa;QAElB,UAAU,SAAS,CAAC,SAAS,CAAC,aAAa,IAAI,CAAC;YAC9C,IAAI,OAAO,GAAG,WAAW,CAAC;YAC1B,WAAW,IAAM,IAAI,OAAO,GAAG,WAAW,CAAC,QAAQ;QACrD;IACF,GAAG;QAAC;QAAK;QAAW;QAAe;KAAe;IAElD,IAAI,CAAC,oBAAoB,OAAO;IAChC,OAAO;AACT;AAyBO,MAAM,uCAAyB,IAAA,4ZAAU,EAG9C,CAAC,EAAE,cAAc,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAClD,MAAM,WAAW,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE,GAAK,QAAQ,QAAQ;IAC9D,MAAM,WAAW,0BAA0B;QAAE;IAAe;IAC5D,qBACE,ubAAC,mYAAS,CAAC,MAAM;QACf,MAAK;QACJ,GAAI,WAAW;YAAE,eAAe;QAAO,IAAI,CAAC,CAAC;QAC7C,GAAG,KAAK;QACT,KAAK;QACL,UAAU,YAAY,CAAC;QACvB,SAAS,IAAA,2PAAoB,EAAC,SAAS;YACrC;QACF;;;;;;AAGN;AAEA,uBAAuB,WAAW,GAAG"}},
    {"offset": {"line": 7641, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-reload.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\n/**\n * Hook that provides reload functionality for action bar buttons.\n *\n * This hook returns a callback function that reloads/regenerates the current assistant message,\n * or null if reloading is not available (e.g., thread is running, disabled, or message is not from assistant).\n *\n * @returns A reload callback function, or null if reloading is disabled\n *\n * @example\n * ```tsx\n * function CustomReloadButton() {\n *   const reload = useActionBarReload();\n *\n *   return (\n *     <button onClick={reload} disabled={!reload}>\n *       {reload ? \"Reload Message\" : \"Cannot Reload\"}\n *     </button>\n *   );\n * }\n * ```\n */\nconst useActionBarReload = () => {\n  const aui = useAui();\n\n  const disabled = useAuiState(\n    (s) =>\n      s.thread.isRunning ||\n      s.thread.isDisabled ||\n      s.message.role !== \"assistant\",\n  );\n\n  const callback = useCallback(() => {\n    aui.message().reload();\n  }, [aui]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveReload {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the ActionBarPrimitive.Reload component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useActionBarReload>;\n}\n\n/**\n * A button component that reloads/regenerates the current assistant message.\n *\n * This component automatically handles reloading the current assistant message\n * and is disabled when reloading is not available (e.g., thread is running,\n * disabled, or message is not from assistant).\n *\n * @example\n * ```tsx\n * <ActionBarPrimitive.Reload>\n *   Reload Message\n * </ActionBarPrimitive.Reload>\n * ```\n */\nexport const ActionBarPrimitiveReload = createActionButton(\n  \"ActionBarPrimitive.Reload\",\n  useActionBarReload,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AAAA;AARA;;;;AAUA;;;;;;;;;;;;;;;;;;;;CAoBC,GACD,MAAM,qBAAqB;IACzB,MAAM,MAAM,IAAA,iJAAM;IAElB,MAAM,WAAW,IAAA,+JAAW,EAC1B,CAAC,IACC,EAAE,MAAM,CAAC,SAAS,IAClB,EAAE,MAAM,CAAC,UAAU,IACnB,EAAE,OAAO,CAAC,IAAI,KAAK;IAGvB,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,OAAO,GAAG,MAAM;IACtB,GAAG;QAAC;KAAI;IAER,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAyBO,MAAM,2BAA2B,IAAA,sLAAkB,EACxD,6BACA"}},
    {"offset": {"line": 7689, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-edit.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\n/**\n * Hook that provides edit functionality for action bar buttons.\n *\n * This hook returns a callback function that starts editing the current message,\n * or null if editing is not available (e.g., already in editing mode).\n *\n * @returns An edit callback function, or null if editing is disabled\n *\n * @example\n * ```tsx\n * function CustomEditButton() {\n *   const edit = useActionBarEdit();\n *\n *   return (\n *     <button onClick={edit} disabled={!edit}>\n *       {edit ? \"Edit Message\" : \"Cannot Edit\"}\n *     </button>\n *   );\n * }\n * ```\n */\nconst useActionBarEdit = () => {\n  const aui = useAui();\n  const disabled = useAuiState(({ composer }) => composer.isEditing);\n\n  const callback = useCallback(() => {\n    aui.composer().beginEdit();\n  }, [aui]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveEdit {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the ActionBarPrimitive.Edit component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useActionBarEdit>;\n}\n\n/**\n * A button component that starts editing the current message.\n *\n * This component automatically handles starting the edit mode for the current message\n * and is disabled when editing is not available (e.g., already in editing mode).\n *\n * @example\n * ```tsx\n * <ActionBarPrimitive.Edit>\n *   Edit Message\n * </ActionBarPrimitive.Edit>\n * ```\n */\nexport const ActionBarPrimitiveEdit = createActionButton(\n  \"ActionBarPrimitive.Edit\",\n  useActionBarEdit,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AAAA;AARA;;;;AAUA;;;;;;;;;;;;;;;;;;;;CAoBC,GACD,MAAM,mBAAmB;IACvB,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,WAAW,IAAA,+JAAW,EAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,SAAS,SAAS;IAEjE,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,QAAQ,GAAG,SAAS;IAC1B,GAAG;QAAC;KAAI;IAER,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAwBO,MAAM,yBAAyB,IAAA,sLAAkB,EACtD,2BACA"}},
    {"offset": {"line": 7737, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-speak.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\n\nconst useActionBarSpeak = () => {\n  const aui = useAui();\n  const callback = useCallback(async () => {\n    aui.message().speak();\n  }, [aui]);\n\n  const hasSpeakableContent = useAuiState(({ message }) => {\n    return (\n      (message.role !== \"assistant\" || message.status?.type !== \"running\") &&\n      message.parts.some((c) => c.type === \"text\" && c.text.length > 0)\n    );\n  });\n\n  if (!hasSpeakableContent) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveSpeak {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarSpeak>;\n}\n\nexport const ActionBarPrimitiveSpeak = createActionButton(\n  \"ActionBarPrimitive.Speak\",\n  useActionBarSpeak,\n);\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AACA;AAJA;;;;AAUA,MAAM,oBAAoB;IACxB,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,OAAO,GAAG,KAAK;IACrB,GAAG;QAAC;KAAI;IAER,MAAM,sBAAsB,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE;QAClD,OACE,CAAC,QAAQ,IAAI,KAAK,eAAe,QAAQ,MAAM,EAAE,SAAS,SAAS,KACnE,QAAQ,KAAK,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,UAAU,EAAE,IAAI,CAAC,MAAM,GAAG;IAEnE;IAEA,IAAI,CAAC,qBAAqB,OAAO;IACjC,OAAO;AACT;AAOO,MAAM,0BAA0B,IAAA,sLAAkB,EACvD,4BACA"}},
    {"offset": {"line": 7767, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-stop-speaking.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef } from \"react\";\nimport { ActionButtonProps } from \"../../utils/create-action-button\";\nimport { useEscapeKeydown } from \"@radix-ui/react-use-escape-keydown\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nconst useActionBarStopSpeaking = () => {\n  const aui = useAui();\n  const isSpeaking = useAuiState(({ message }) => message.speech != null);\n\n  const callback = useCallback(() => {\n    aui.message().stopSpeaking();\n  }, [aui]);\n\n  if (!isSpeaking) return null;\n\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveStopSpeaking {\n  export type Element = HTMLButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarStopSpeaking>;\n}\n\nexport const ActionBarPrimitiveStopSpeaking = forwardRef<\n  ActionBarPrimitiveStopSpeaking.Element,\n  ActionBarPrimitiveStopSpeaking.Props\n>((props, ref) => {\n  const callback = useActionBarStopSpeaking();\n\n  // TODO this stops working if the user is not hovering over an older message\n  useEscapeKeydown((e) => {\n    if (callback) {\n      e.preventDefault();\n      callback();\n    }\n  });\n\n  return (\n    <Primitive.button\n      type=\"button\"\n      disabled={!callback}\n      {...props}\n      ref={ref}\n      onClick={composeEventHandlers(props.onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveStopSpeaking.displayName = \"ActionBarPrimitive.StopSpeaking\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AAEA;AAAA;AARA;;;;;;;;AAUA,MAAM,2BAA2B;IAC/B,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,aAAa,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE,GAAK,QAAQ,MAAM,IAAI;IAElE,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,OAAO,GAAG,YAAY;IAC5B,GAAG;QAAC;KAAI;IAER,IAAI,CAAC,YAAY,OAAO;IAExB,OAAO;AACT;AAOO,MAAM,+CAAiC,IAAA,4ZAAU,EAGtD,CAAC,OAAO;IACR,MAAM,WAAW;IAEjB,4EAA4E;IAC5E,IAAA,iWAAgB,EAAC,CAAC;QAChB,IAAI,UAAU;YACZ,EAAE,cAAc;YAChB;QACF;IACF;IAEA,qBACE,ubAAC,mYAAS,CAAC,MAAM;QACf,MAAK;QACL,UAAU,CAAC;QACV,GAAG,KAAK;QACT,KAAK;QACL,SAAS,IAAA,2PAAoB,EAAC,MAAM,OAAO,EAAE;YAC3C;QACF;;;;;;AAGN;AAEA,+BAA+B,WAAW,GAAG"}},
    {"offset": {"line": 7825, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-feedback-positive.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef, useCallback } from \"react\";\nimport { ActionButtonProps } from \"../../utils/create-action-button\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\n\nconst useActionBarFeedbackPositive = () => {\n  const aui = useAui();\n\n  const callback = useCallback(() => {\n    aui.message().submitFeedback({ type: \"positive\" });\n  }, [aui]);\n\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveFeedbackPositive {\n  export type Element = HTMLButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarFeedbackPositive>;\n}\n\nexport const ActionBarPrimitiveFeedbackPositive = forwardRef<\n  ActionBarPrimitiveFeedbackPositive.Element,\n  ActionBarPrimitiveFeedbackPositive.Props\n>(({ onClick, disabled, ...props }, forwardedRef) => {\n  const isSubmitted = useAuiState(\n    (s) => s.message.metadata.submittedFeedback?.type === \"positive\",\n  );\n  const callback = useActionBarFeedbackPositive();\n  return (\n    <Primitive.button\n      type=\"button\"\n      {...(isSubmitted ? { \"data-submitted\": \"true\" } : {})}\n      {...props}\n      ref={forwardedRef}\n      disabled={disabled || !callback}\n      onClick={composeEventHandlers(onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveFeedbackPositive.displayName =\n  \"ActionBarPrimitive.FeedbackPositive\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAAA;AACA;AANA;;;;;;AAQA,MAAM,+BAA+B;IACnC,MAAM,MAAM,IAAA,iJAAM;IAElB,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,OAAO,GAAG,cAAc,CAAC;YAAE,MAAM;QAAW;IAClD,GAAG;QAAC;KAAI;IAER,OAAO;AACT;AAOO,MAAM,mDAAqC,IAAA,4ZAAU,EAG1D,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAClC,MAAM,cAAc,IAAA,+JAAW,EAC7B,CAAC,IAAM,EAAE,OAAO,CAAC,QAAQ,CAAC,iBAAiB,EAAE,SAAS;IAExD,MAAM,WAAW;IACjB,qBACE,ubAAC,mYAAS,CAAC,MAAM;QACf,MAAK;QACJ,GAAI,cAAc;YAAE,kBAAkB;QAAO,IAAI,CAAC,CAAC;QACnD,GAAG,KAAK;QACT,KAAK;QACL,UAAU,YAAY,CAAC;QACvB,SAAS,IAAA,2PAAoB,EAAC,SAAS;YACrC;QACF;;;;;;AAGN;AAEA,mCAAmC,WAAW,GAC5C"}},
    {"offset": {"line": 7877, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-feedback-negative.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef } from \"react\";\nimport { ActionButtonProps } from \"../../utils/create-action-button\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nconst useActionBarFeedbackNegative = () => {\n  const aui = useAui();\n\n  const callback = useCallback(() => {\n    aui.message().submitFeedback({ type: \"negative\" });\n  }, [aui]);\n\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveFeedbackNegative {\n  export type Element = HTMLButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarFeedbackNegative>;\n}\n\nexport const ActionBarPrimitiveFeedbackNegative = forwardRef<\n  ActionBarPrimitiveFeedbackNegative.Element,\n  ActionBarPrimitiveFeedbackNegative.Props\n>(({ onClick, disabled, ...props }, forwardedRef) => {\n  const isSubmitted = useAuiState(\n    (s) => s.message.metadata.submittedFeedback?.type === \"negative\",\n  );\n  const callback = useActionBarFeedbackNegative();\n  return (\n    <Primitive.button\n      type=\"button\"\n      {...(isSubmitted ? { \"data-submitted\": \"true\" } : {})}\n      {...props}\n      ref={forwardedRef}\n      disabled={disabled || !callback}\n      onClick={composeEventHandlers(onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveFeedbackNegative.displayName =\n  \"ActionBarPrimitive.FeedbackNegative\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AAEA;AAAA;AAPA;;;;;;;AASA,MAAM,+BAA+B;IACnC,MAAM,MAAM,IAAA,iJAAM;IAElB,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,OAAO,GAAG,cAAc,CAAC;YAAE,MAAM;QAAW;IAClD,GAAG;QAAC;KAAI;IAER,OAAO;AACT;AAOO,MAAM,mDAAqC,IAAA,4ZAAU,EAG1D,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAClC,MAAM,cAAc,IAAA,+JAAW,EAC7B,CAAC,IAAM,EAAE,OAAO,CAAC,QAAQ,CAAC,iBAAiB,EAAE,SAAS;IAExD,MAAM,WAAW;IACjB,qBACE,ubAAC,mYAAS,CAAC,MAAM;QACf,MAAK;QACJ,GAAI,cAAc;YAAE,kBAAkB;QAAO,IAAI,CAAC,CAAC;QACnD,GAAG,KAAK;QACT,KAAK;QACL,UAAU,YAAY,CAAC;QACvB,SAAS,IAAA,2PAAoB,EAAC,SAAS;YACrC;QACF;;;;;;AAGN;AAEA,mCAAmC,WAAW,GAC5C"}},
    {"offset": {"line": 7930, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/action-bar/action-bar-export-markdown.tsx"],"sourcesContent":["\"use client\";\n\nimport { forwardRef, useCallback } from \"react\";\nimport { ActionButtonProps } from \"../../utils/create-action-button\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nconst useActionBarExportMarkdown = ({\n  filename,\n  onExport,\n}: {\n  filename?: string | undefined;\n  onExport?: ((content: string) => void | Promise<void>) | undefined;\n} = {}) => {\n  const aui = useAui();\n  const hasExportableContent = useAuiState(({ message }) => {\n    return (\n      (message.role !== \"assistant\" || message.status?.type !== \"running\") &&\n      message.parts.some((c) => c.type === \"text\" && c.text.length > 0)\n    );\n  });\n\n  const callback = useCallback(async () => {\n    const content = aui.message().getCopyText();\n    if (!content) return;\n\n    if (onExport) {\n      await onExport(content);\n      return;\n    }\n\n    const blob = new Blob([content], { type: \"text/markdown\" });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = filename ?? `message-${Date.now()}.md`;\n    a.click();\n    URL.revokeObjectURL(url);\n  }, [aui, filename, onExport]);\n\n  if (!hasExportableContent) return null;\n  return callback;\n};\n\nexport namespace ActionBarPrimitiveExportMarkdown {\n  export type Element = HTMLButtonElement;\n  export type Props = ActionButtonProps<typeof useActionBarExportMarkdown>;\n}\n\nexport const ActionBarPrimitiveExportMarkdown = forwardRef<\n  ActionBarPrimitiveExportMarkdown.Element,\n  ActionBarPrimitiveExportMarkdown.Props\n>(({ filename, onExport, onClick, disabled, ...props }, forwardedRef) => {\n  const callback = useActionBarExportMarkdown({ filename, onExport });\n  return (\n    <Primitive.button\n      type=\"button\"\n      {...props}\n      ref={forwardedRef}\n      disabled={disabled || !callback}\n      onClick={composeEventHandlers(onClick, () => {\n        callback?.();\n      })}\n    />\n  );\n});\n\nActionBarPrimitiveExportMarkdown.displayName =\n  \"ActionBarPrimitive.ExportMarkdown\";\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AAAA;AANA;;;;;;AAQA,MAAM,6BAA6B,CAAC,EAClC,QAAQ,EACR,QAAQ,EAIT,GAAG,CAAC,CAAC;IACJ,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,uBAAuB,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE;QACnD,OACE,CAAC,QAAQ,IAAI,KAAK,eAAe,QAAQ,MAAM,EAAE,SAAS,SAAS,KACnE,QAAQ,KAAK,CAAC,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,UAAU,EAAE,IAAI,CAAC,MAAM,GAAG;IAEnE;IAEA,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,MAAM,UAAU,IAAI,OAAO,GAAG,WAAW;QACzC,IAAI,CAAC,SAAS;QAEd,IAAI,UAAU;YACZ,MAAM,SAAS;YACf;QACF;QAEA,MAAM,OAAO,IAAI,KAAK;YAAC;SAAQ,EAAE;YAAE,MAAM;QAAgB;QACzD,MAAM,MAAM,IAAI,eAAe,CAAC;QAChC,MAAM,IAAI,SAAS,aAAa,CAAC;QACjC,EAAE,IAAI,GAAG;QACT,EAAE,QAAQ,GAAG,YAAY,CAAC,QAAQ,EAAE,KAAK,GAAG,GAAG,GAAG,CAAC;QACnD,EAAE,KAAK;QACP,IAAI,eAAe,CAAC;IACtB,GAAG;QAAC;QAAK;QAAU;KAAS;IAE5B,IAAI,CAAC,sBAAsB,OAAO;IAClC,OAAO;AACT;AAOO,MAAM,iDAAmC,IAAA,4ZAAU,EAGxD,CAAC,EAAE,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACtD,MAAM,WAAW,2BAA2B;QAAE;QAAU;IAAS;IACjE,qBACE,ubAAC,mYAAS,CAAC,MAAM;QACf,MAAK;QACJ,GAAG,KAAK;QACT,KAAK;QACL,UAAU,YAAY,CAAC;QACvB,SAAS,IAAA,2PAAoB,EAAC,SAAS;YACrC;QACF;;;;;;AAGN;AAEA,iCAAiC,WAAW,GAC1C"}},
    {"offset": {"line": 8044, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/aui-if.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAuiState } from \"./use-aui-state\";\nimport type { AssistantState } from \"./types/client\";\n\nexport namespace AuiIf {\n  export type Props = PropsWithChildren<{ condition: AuiIf.Condition }>;\n  export type Condition = (state: AssistantState) => boolean;\n}\n\nexport const AuiIf: FC<AuiIf.Props> = ({ children, condition }) => {\n  const result = useAuiState(condition);\n  return result ? children : null;\n};\n\nAuiIf.displayName = \"AuiIf\";\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AAWO,MAAM,QAAyB,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE;IAC5D,MAAM,SAAS,IAAA,+JAAW,EAAC;IAC3B,OAAO,SAAS,WAAW;AAC7B;AAEA,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 8069, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 8079, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/branch-picker/branch-picker-next.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nconst useBranchPickerNext = () => {\n  const aui = useAui();\n  const disabled = useAuiState(({ thread, message }) => {\n    // Disabled if no next branch\n    if (message.branchNumber >= message.branchCount) return true;\n\n    // Disabled if running and capability not supported\n    if (thread.isRunning && !thread.capabilities.switchBranchDuringRun) {\n      return true;\n    }\n\n    return false;\n  });\n\n  const callback = useCallback(() => {\n    aui.message().switchToBranch({ position: \"next\" });\n  }, [aui]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace BranchPickerPrimitiveNext {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the BranchPickerPrimitive.Next component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useBranchPickerNext>;\n}\n\n/**\n * A button component that navigates to the next branch in the message tree.\n *\n * This component automatically handles switching to the next available branch\n * and is disabled when there are no more branches to navigate to.\n *\n * @example\n * ```tsx\n * <BranchPickerPrimitive.Next>\n *   Next \n * </BranchPickerPrimitive.Next>\n * ```\n */\nexport const BranchPickerPrimitiveNext = createActionButton(\n  \"BranchPickerPrimitive.Next\",\n  useBranchPickerNext,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AAAA;AARA;;;;AAUA,MAAM,sBAAsB;IAC1B,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,WAAW,IAAA,+JAAW,EAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE;QAC/C,6BAA6B;QAC7B,IAAI,QAAQ,YAAY,IAAI,QAAQ,WAAW,EAAE,OAAO;QAExD,mDAAmD;QACnD,IAAI,OAAO,SAAS,IAAI,CAAC,OAAO,YAAY,CAAC,qBAAqB,EAAE;YAClE,OAAO;QACT;QAEA,OAAO;IACT;IAEA,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,OAAO,GAAG,cAAc,CAAC;YAAE,UAAU;QAAO;IAClD,GAAG;QAAC;KAAI;IAER,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAwBO,MAAM,4BAA4B,IAAA,sLAAkB,EACzD,8BACA"}},
    {"offset": {"line": 8117, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/branch-picker/branch-picker-previous.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\n/**\n * Hook that provides navigation to the previous branch functionality.\n *\n * This hook returns a callback function that switches to the previous branch\n * in the message branch tree, or null if there is no previous branch available.\n *\n * @returns A previous branch callback function, or null if navigation is disabled\n *\n * @example\n * ```tsx\n * function CustomPreviousButton() {\n *   const previous = useBranchPickerPrevious();\n *\n *   return (\n *     <button onClick={previous} disabled={!previous}>\n *       {previous ? \"Previous Branch\" : \"No Previous Branch\"}\n *     </button>\n *   );\n * }\n * ```\n */\nconst useBranchPickerPrevious = () => {\n  const aui = useAui();\n  const disabled = useAuiState(({ thread, message }) => {\n    // Disabled if no previous branch\n    if (message.branchNumber <= 1) return true;\n\n    // Disabled if running and capability not supported\n    if (thread.isRunning && !thread.capabilities.switchBranchDuringRun) {\n      return true;\n    }\n\n    return false;\n  });\n\n  const callback = useCallback(() => {\n    aui.message().switchToBranch({ position: \"previous\" });\n  }, [aui]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace BranchPickerPrimitivePrevious {\n  export type Element = ActionButtonElement;\n  /**\n   * Props for the BranchPickerPrimitive.Previous component.\n   * Inherits all button element props and action button functionality.\n   */\n  export type Props = ActionButtonProps<typeof useBranchPickerPrevious>;\n}\n\n/**\n * A button component that navigates to the previous branch in the message tree.\n *\n * This component automatically handles switching to the previous available branch\n * and is disabled when there are no previous branches to navigate to.\n *\n * @example\n * ```tsx\n * <BranchPickerPrimitive.Previous>\n *    Previous\n * </BranchPickerPrimitive.Previous>\n * ```\n */\nexport const BranchPickerPrimitivePrevious = createActionButton(\n  \"BranchPickerPrimitive.Previous\",\n  useBranchPickerPrevious,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AAAA;AARA;;;;AAUA;;;;;;;;;;;;;;;;;;;;CAoBC,GACD,MAAM,0BAA0B;IAC9B,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,WAAW,IAAA,+JAAW,EAAC,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE;QAC/C,iCAAiC;QACjC,IAAI,QAAQ,YAAY,IAAI,GAAG,OAAO;QAEtC,mDAAmD;QACnD,IAAI,OAAO,SAAS,IAAI,CAAC,OAAO,YAAY,CAAC,qBAAqB,EAAE;YAClE,OAAO;QACT;QAEA,OAAO;IACT;IAEA,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,IAAI,OAAO,GAAG,cAAc,CAAC;YAAE,UAAU;QAAW;IACtD,GAAG;QAAC;KAAI;IAER,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAwBO,MAAM,gCAAgC,IAAA,sLAAkB,EAC7D,kCACA"}},
    {"offset": {"line": 8175, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/branch-picker/branch-picker-count.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nconst useBranchPickerCount = () => {\n  const branchCount = useAuiState(({ message }) => message.branchCount);\n  return branchCount;\n};\n\nexport namespace BranchPickerPrimitiveCount {\n  /**\n   * Props for the BranchPickerPrimitive.Count component.\n   * This component takes no props.\n   */\n  export type Props = Record<string, never>;\n}\n\n/**\n * A component that displays the total number of branches for the current message.\n *\n * This component renders the branch count as plain text, useful for showing\n * users how many alternative responses are available.\n *\n * @example\n * ```tsx\n * <div>\n *   Branch <BranchPickerPrimitive.Count /> of {totalBranches}\n * </div>\n * ```\n */\nexport const BranchPickerPrimitiveCount: FC<\n  BranchPickerPrimitiveCount.Props\n> = () => {\n  const branchCount = useBranchPickerCount();\n  return <>{branchCount}</>;\n};\n\nBranchPickerPrimitiveCount.displayName = \"BranchPickerPrimitive.Count\";\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKA,MAAM,uBAAuB;IAC3B,MAAM,cAAc,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE,GAAK,QAAQ,WAAW;IACpE,OAAO;AACT;AAuBO,MAAM,6BAET;IACF,MAAM,cAAc;IACpB,qBAAO;kBAAG;;AACZ;AAEA,2BAA2B,WAAW,GAAG"}},
    {"offset": {"line": 8199, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/branch-picker/branch-picker-number.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nconst useBranchPickerNumber = () => {\n  const branchNumber = useAuiState(({ message }) => message.branchNumber);\n  return branchNumber;\n};\n\nexport namespace BranchPickerPrimitiveNumber {\n  export type Props = Record<string, never>;\n}\n\nexport const BranchPickerPrimitiveNumber: FC<\n  BranchPickerPrimitiveNumber.Props\n> = () => {\n  const branchNumber = useBranchPickerNumber();\n  return <>{branchNumber}</>;\n};\n\nBranchPickerPrimitiveNumber.displayName = \"BranchPickerPrimitive.Number\";\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKA,MAAM,wBAAwB;IAC5B,MAAM,eAAe,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE,GAAK,QAAQ,YAAY;IACtE,OAAO;AACT;AAMO,MAAM,8BAET;IACF,MAAM,eAAe;IACrB,qBAAO;kBAAG;;AACZ;AAEA,4BAA4B,WAAW,GAAG"}},
    {"offset": {"line": 8232, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/branch-picker/branch-picker-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport { If } from \"../message\";\n\nexport namespace BranchPickerPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div> & {\n    /**\n     * Whether to hide the branch picker when there's only one branch available.\n     * When true, the component will only render when multiple branches exist.\n     * @default false\n     */\n    hideWhenSingleBranch?: boolean | undefined;\n  };\n}\n\n/**\n * The root container for branch picker components.\n *\n * This component provides a container for branch navigation controls,\n * with optional conditional rendering based on the number of available branches.\n * It integrates with the message branching system to allow users to navigate\n * between different response variations.\n *\n * @example\n * ```tsx\n * <BranchPickerPrimitive.Root hideWhenSingleBranch={true}>\n *   <BranchPickerPrimitive.Previous />\n *   <BranchPickerPrimitive.Count />\n *   <BranchPickerPrimitive.Next />\n * </BranchPickerPrimitive.Root>\n * ```\n */\nexport const BranchPickerPrimitiveRoot = forwardRef<\n  BranchPickerPrimitiveRoot.Element,\n  BranchPickerPrimitiveRoot.Props\n>(({ hideWhenSingleBranch, ...rest }, ref) => {\n  return (\n    <If hasBranches={hideWhenSingleBranch ? true : undefined}>\n      <Primitive.div {...rest} ref={ref} />\n    </If>\n  );\n});\n\nBranchPickerPrimitiveRoot.displayName = \"BranchPickerPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAmCO,MAAM,0CAA4B,IAAA,4ZAAU,EAGjD,CAAC,EAAE,oBAAoB,EAAE,GAAG,MAAM,EAAE;IACpC,qBACE,ubAAC,qNAAE;QAAC,aAAa,uBAAuB,OAAO;kBAC7C,cAAA,ubAAC,mYAAS,CAAC,GAAG;YAAE,GAAG,IAAI;YAAE,KAAK;;;;;;;;;;;AAGpC;AAEA,0BAA0B,WAAW,GAAG"}},
    {"offset": {"line": 8298, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 8305, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/error/error-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\n\nexport namespace ErrorPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div>;\n}\n\nexport const ErrorPrimitiveRoot = forwardRef<\n  ErrorPrimitiveRoot.Element,\n  ErrorPrimitiveRoot.Props\n>((props, forwardRef) => {\n  return <Primitive.div role=\"alert\" {...props} ref={forwardRef} />;\n});\n\nErrorPrimitiveRoot.displayName = \"ErrorPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUO,MAAM,mCAAqB,IAAA,4ZAAU,EAG1C,CAAC,OAAO;IACR,qBAAO,ubAAC,mYAAS,CAAC,GAAG;QAAC,MAAK;QAAS,GAAG,KAAK;QAAE,KAAK;;;;;;AACrD;AAEA,mBAAmB,WAAW,GAAG"}},
    {"offset": {"line": 8332, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/error/error-message.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nexport namespace ErrorPrimitiveMessage {\n  export type Element = ComponentRef<typeof Primitive.span>;\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.span>;\n}\n\nexport const ErrorPrimitiveMessage = forwardRef<\n  ErrorPrimitiveMessage.Element,\n  ErrorPrimitiveMessage.Props\n>(({ children, ...props }, forwardRef) => {\n  const error = useAuiState(({ message }) => {\n    return message.status?.type === \"incomplete\" &&\n      message.status.reason === \"error\"\n      ? message.status.error\n      : undefined;\n  });\n\n  if (error === undefined) return null;\n\n  return (\n    <Primitive.span {...props} ref={forwardRef}>\n      {children ?? String(error)}\n    </Primitive.span>\n  );\n});\n\nErrorPrimitiveMessage.displayName = \"ErrorPrimitive.Message\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAWO,MAAM,sCAAwB,IAAA,4ZAAU,EAG7C,CAAC,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IACzB,MAAM,QAAQ,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE;QACpC,OAAO,QAAQ,MAAM,EAAE,SAAS,gBAC9B,QAAQ,MAAM,CAAC,MAAM,KAAK,UACxB,QAAQ,MAAM,CAAC,KAAK,GACpB;IACN;IAEA,IAAI,UAAU,WAAW,OAAO;IAEhC,qBACE,ubAAC,mYAAS,CAAC,IAAI;QAAE,GAAG,KAAK;QAAE,KAAK;kBAC7B,YAAY,OAAO;;;;;;AAG1B;AAEA,sBAAsB,WAAW,GAAG"}},
    {"offset": {"line": 8387, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 8404, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\n\nexport namespace ThreadPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  /**\n   * Props for the ThreadPrimitive.Root component.\n   * Accepts all standard div element props.\n   */\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div>;\n}\n\n/**\n * The root container component for a thread.\n *\n * This component serves as the foundational wrapper for all thread-related components.\n * It provides the basic structure and context needed for thread functionality.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.Root>\n *   <ThreadPrimitive.Viewport>\n *     <ThreadPrimitive.Messages components={{ Message: MyMessage }} />\n *   </ThreadPrimitive.Viewport>\n * </ThreadPrimitive.Root>\n * ```\n */\nexport const ThreadPrimitiveRoot = forwardRef<\n  ThreadPrimitiveRoot.Element,\n  ThreadPrimitiveRoot.Props\n>((props, ref) => {\n  return <Primitive.div {...props} ref={ref} />;\n});\n\nThreadPrimitiveRoot.displayName = \"ThreadPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AA6BO,MAAM,oCAAsB,IAAA,4ZAAU,EAG3C,CAAC,OAAO;IACR,qBAAO,ubAAC,mYAAS,CAAC,GAAG;QAAE,GAAG,KAAK;QAAE,KAAK;;;;;;AACxC;AAEA,oBAAoB,WAAW,GAAG"}},
    {"offset": {"line": 8430, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-empty.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nexport namespace ThreadPrimitiveEmpty {\n  export type Props = PropsWithChildren;\n}\n\nexport const ThreadPrimitiveEmpty: FC<ThreadPrimitiveEmpty.Props> = ({\n  children,\n}) => {\n  const empty = useAuiState(\n    ({ thread }) => thread.messages.length === 0 && !thread.isLoading,\n  );\n  return empty ? children : null;\n};\n\nThreadPrimitiveEmpty.displayName = \"ThreadPrimitive.Empty\";\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AASO,MAAM,uBAAuD,CAAC,EACnE,QAAQ,EACT;IACC,MAAM,QAAQ,IAAA,+JAAW,EACvB,CAAC,EAAE,MAAM,EAAE,GAAK,OAAO,QAAQ,CAAC,MAAM,KAAK,KAAK,CAAC,OAAO,SAAS;IAEnE,OAAO,QAAQ,WAAW;AAC5B;AAEA,qBAAqB,WAAW,GAAG"}},
    {"offset": {"line": 8446, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-if.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, PropsWithChildren } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport type { RequireAtLeastOne } from \"../../utils/require-at-least-one\";\n\ntype ThreadIfFilters = {\n  empty: boolean | undefined;\n  running: boolean | undefined;\n  disabled: boolean | undefined;\n};\n\ntype UseThreadIfProps = RequireAtLeastOne<ThreadIfFilters>;\n\nconst useThreadIf = (props: UseThreadIfProps) => {\n  return useAuiState(({ thread }) => {\n    if (props.empty === true && !thread.isEmpty) return false;\n    if (props.empty === false && thread.isEmpty) return false;\n\n    if (props.running === true && !thread.isRunning) return false;\n    if (props.running === false && thread.isRunning) return false;\n    if (props.disabled === true && !thread.isDisabled) return false;\n    if (props.disabled === false && thread.isDisabled) return false;\n\n    return true;\n  });\n};\n\nexport namespace ThreadPrimitiveIf {\n  export type Props = PropsWithChildren<UseThreadIfProps>;\n}\n\n/**\n * @deprecated Use `<AuiIf condition={({ thread }) => ...} />` instead.\n */\nexport const ThreadPrimitiveIf: FC<ThreadPrimitiveIf.Props> = ({\n  children,\n  ...query\n}) => {\n  const result = useThreadIf(query);\n  return result ? children : null;\n};\n\nThreadPrimitiveIf.displayName = \"ThreadPrimitive.If\";\n"],"names":[],"mappings":";;;;AAGA;AAHA;;AAcA,MAAM,cAAc,CAAC;IACnB,OAAO,IAAA,+JAAW,EAAC,CAAC,EAAE,MAAM,EAAE;QAC5B,IAAI,MAAM,KAAK,KAAK,QAAQ,CAAC,OAAO,OAAO,EAAE,OAAO;QACpD,IAAI,MAAM,KAAK,KAAK,SAAS,OAAO,OAAO,EAAE,OAAO;QAEpD,IAAI,MAAM,OAAO,KAAK,QAAQ,CAAC,OAAO,SAAS,EAAE,OAAO;QACxD,IAAI,MAAM,OAAO,KAAK,SAAS,OAAO,SAAS,EAAE,OAAO;QACxD,IAAI,MAAM,QAAQ,KAAK,QAAQ,CAAC,OAAO,UAAU,EAAE,OAAO;QAC1D,IAAI,MAAM,QAAQ,KAAK,SAAS,OAAO,UAAU,EAAE,OAAO;QAE1D,OAAO;IACT;AACF;AASO,MAAM,oBAAiD,CAAC,EAC7D,QAAQ,EACR,GAAG,OACJ;IACC,MAAM,SAAS,YAAY;IAC3B,OAAO,SAAS,WAAW;AAC7B;AAEA,kBAAkB,WAAW,GAAG"}},
    {"offset": {"line": 8473, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/store/src/use-aui-event.ts"],"sourcesContent":["import { useEffect } from \"react\";\nimport { useEffectEvent } from \"use-effect-event\";\nimport { useAui } from \"./use-aui\";\nimport type {\n  AssistantEventName,\n  AssistantEventCallback,\n  AssistantEventSelector,\n} from \"./types/events\";\nimport { normalizeEventSelector } from \"./types/events\";\n\nexport const useAuiEvent = <TEvent extends AssistantEventName>(\n  selector: AssistantEventSelector<TEvent>,\n  callback: AssistantEventCallback<TEvent>,\n) => {\n  const aui = useAui();\n  const callbackRef = useEffectEvent(callback);\n\n  const { scope, event } = normalizeEventSelector(selector);\n  useEffect(\n    () => aui.on({ scope, event }, callbackRef),\n    [aui, scope, event, callbackRef],\n  );\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAMA;;;;;AAEO,MAAM,cAAc,CACzB,UACA;IAEA,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,cAAc,IAAA,kQAAc,EAAC;IAEnC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,IAAA,qKAAsB,EAAC;IAChD,IAAA,2ZAAS,EACP,IAAM,IAAI,EAAE,CAAC;YAAE;YAAO;QAAM,GAAG,cAC/B;QAAC;QAAK;QAAO;QAAO;KAAY;AAEpC"}},
    {"offset": {"line": 8503, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/utils/hooks/use-on-resize-content.tsx"],"sourcesContent":["import { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useCallback } from \"react\";\nimport { useManagedRef } from \"./use-managed-ref\";\n\nexport const useOnResizeContent = (callback: () => void) => {\n  const callbackRef = useCallbackRef(callback);\n\n  const refCallback = useCallback(\n    (el: HTMLElement) => {\n      const resizeObserver = new ResizeObserver(() => {\n        callbackRef();\n      });\n\n      const mutationObserver = new MutationObserver((mutations) => {\n        // Filter out style-only attribute mutations to prevent feedback loops\n        // with components like ThreadViewportSlack that write styles in response\n        // to viewport changes\n        const hasRelevantMutation = mutations.some(\n          (m) => m.type !== \"attributes\" || m.attributeName !== \"style\",\n        );\n        if (hasRelevantMutation) {\n          callbackRef();\n        }\n      });\n\n      resizeObserver.observe(el);\n      mutationObserver.observe(el, {\n        childList: true,\n        subtree: true,\n        attributes: true,\n        characterData: true,\n      });\n\n      return () => {\n        resizeObserver.disconnect();\n        mutationObserver.disconnect();\n      };\n    },\n    [callbackRef],\n  );\n\n  return useManagedRef(refCallback);\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,qBAAqB,CAAC;IACjC,MAAM,cAAc,IAAA,2VAAc,EAAC;IAEnC,MAAM,cAAc,IAAA,6ZAAW,EAC7B,CAAC;QACC,MAAM,iBAAiB,IAAI,eAAe;YACxC;QACF;QAEA,MAAM,mBAAmB,IAAI,iBAAiB,CAAC;YAC7C,sEAAsE;YACtE,yEAAyE;YACzE,sBAAsB;YACtB,MAAM,sBAAsB,UAAU,IAAI,CACxC,CAAC,IAAM,EAAE,IAAI,KAAK,gBAAgB,EAAE,aAAa,KAAK;YAExD,IAAI,qBAAqB;gBACvB;YACF;QACF;QAEA,eAAe,OAAO,CAAC;QACvB,iBAAiB,OAAO,CAAC,IAAI;YAC3B,WAAW;YACX,SAAS;YACT,YAAY;YACZ,eAAe;QACjB;QAEA,OAAO;YACL,eAAe,UAAU;YACzB,iBAAiB,UAAU;QAC7B;IACF,GACA;QAAC;KAAY;IAGf,OAAO,IAAA,oLAAa,EAAC;AACvB"}},
    {"offset": {"line": 8548, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/use-thread-viewport-auto-scroll.tsx"],"sourcesContent":["\"use client\";\n\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { useCallback, useRef, type RefCallback } from \"react\";\nimport { useAuiEvent } from \"@creatorem/ai-store\";\nimport { useOnResizeContent } from \"../../utils/hooks/use-on-resize-content\";\nimport { useOnScrollToBottom } from \"../../utils/hooks/use-on-scroll-to-bottom\";\nimport { useManagedRef } from \"../../utils/hooks/use-managed-ref\";\nimport { writableStore } from \"../../context/readonly-store\";\nimport { useThreadViewportStore } from \"../../context/react/thread-viewport-context\";\n\nexport namespace useThreadViewportAutoScroll {\n  export type Options = {\n    /**\n     * Whether to automatically scroll to the bottom when new messages are added.\n     * When enabled, the viewport will automatically scroll to show the latest content.\n     *\n     * Default false if `turnAnchor` is \"top\", otherwise defaults to true.\n     */\n    autoScroll?: boolean | undefined;\n\n    /**\n     * Whether to scroll to bottom when a new run starts.\n     *\n     * Defaults to true.\n     */\n    scrollToBottomOnRunStart?: boolean | undefined;\n\n    /**\n     * Whether to scroll to bottom when thread history is first loaded.\n     *\n     * Defaults to true.\n     */\n    scrollToBottomOnInitialize?: boolean | undefined;\n\n    /**\n     * Whether to scroll to bottom when switching to a different thread.\n     *\n     * Defaults to true.\n     */\n    scrollToBottomOnThreadSwitch?: boolean | undefined;\n  };\n}\n\nexport const useThreadViewportAutoScroll = <TElement extends HTMLElement>({\n  autoScroll,\n  scrollToBottomOnRunStart = true,\n  scrollToBottomOnInitialize = true,\n  scrollToBottomOnThreadSwitch = true,\n}: useThreadViewportAutoScroll.Options): RefCallback<TElement> => {\n  const divRef = useRef<TElement>(null);\n\n  const threadViewportStore = useThreadViewportStore();\n  if (autoScroll === undefined) {\n    autoScroll = threadViewportStore.getState().turnAnchor !== \"top\";\n  }\n\n  const lastScrollTop = useRef<number>(0);\n\n  // bug: when ScrollToBottom's button changes its disabled state, the scroll stops\n  // fix: delay the state change until the scroll is done\n  // stores the scroll behavior to reuse during content resize, or null if not scrolling\n  const scrollingToBottomBehaviorRef = useRef<ScrollBehavior | null>(null);\n\n  const scrollToBottom = useCallback((behavior: ScrollBehavior) => {\n    const div = divRef.current;\n    if (!div) return;\n\n    scrollingToBottomBehaviorRef.current = behavior;\n    div.scrollTo({ top: div.scrollHeight, behavior });\n  }, []);\n\n  const handleScroll = () => {\n    const div = divRef.current;\n    if (!div) return;\n\n    const isAtBottom = threadViewportStore.getState().isAtBottom;\n    const newIsAtBottom =\n      Math.abs(div.scrollHeight - div.scrollTop - div.clientHeight) < 1 ||\n      div.scrollHeight <= div.clientHeight;\n\n    if (!newIsAtBottom && lastScrollTop.current < div.scrollTop) {\n      // ignore scroll down\n    } else {\n      if (newIsAtBottom) {\n        scrollingToBottomBehaviorRef.current = null;\n      }\n\n      const shouldUpdate =\n        newIsAtBottom || scrollingToBottomBehaviorRef.current === null;\n\n      if (shouldUpdate && newIsAtBottom !== isAtBottom) {\n        writableStore(threadViewportStore).setState({\n          isAtBottom: newIsAtBottom,\n        });\n      }\n    }\n\n    lastScrollTop.current = div.scrollTop;\n  };\n\n  const resizeRef = useOnResizeContent(() => {\n    const scrollBehavior = scrollingToBottomBehaviorRef.current;\n    if (scrollBehavior) {\n      scrollToBottom(scrollBehavior);\n    } else if (autoScroll && threadViewportStore.getState().isAtBottom) {\n      scrollToBottom(\"instant\");\n    }\n\n    handleScroll();\n  });\n\n  const scrollRef = useManagedRef<HTMLElement>((el) => {\n    el.addEventListener(\"scroll\", handleScroll);\n    return () => {\n      el.removeEventListener(\"scroll\", handleScroll);\n    };\n  });\n\n  useOnScrollToBottom(({ behavior }) => {\n    scrollToBottom(behavior);\n  });\n\n  // autoscroll on run start\n  useAuiEvent(\"thread.runStart\", () => {\n    if (!scrollToBottomOnRunStart) return;\n    scrollingToBottomBehaviorRef.current = \"auto\";\n    requestAnimationFrame(() => {\n      scrollToBottom(\"auto\");\n    });\n  });\n\n  // scroll to bottom instantly when thread history is first loaded\n  useAuiEvent(\"thread.initialize\", () => {\n    if (!scrollToBottomOnInitialize) return;\n    scrollingToBottomBehaviorRef.current = \"instant\";\n    requestAnimationFrame(() => {\n      scrollToBottom(\"instant\");\n    });\n  });\n\n  // scroll to bottom instantly when switching threads\n  useAuiEvent(\"threadListItem.switchedTo\", () => {\n    if (!scrollToBottomOnThreadSwitch) return;\n    scrollingToBottomBehaviorRef.current = \"instant\";\n    requestAnimationFrame(() => {\n      scrollToBottom(\"instant\");\n    });\n  });\n\n  const autoScrollRef = useComposedRefs<TElement>(resizeRef, scrollRef, divRef);\n  return autoScrollRef as RefCallback<TElement>;\n};\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;AA4CO,MAAM,8BAA8B,CAA+B,EACxE,UAAU,EACV,2BAA2B,IAAI,EAC/B,6BAA6B,IAAI,EACjC,+BAA+B,IAAI,EACC;IACpC,MAAM,SAAS,IAAA,wZAAM,EAAW;IAEhC,MAAM,sBAAsB,IAAA,uMAAsB;IAClD,IAAI,eAAe,WAAW;QAC5B,aAAa,oBAAoB,QAAQ,GAAG,UAAU,KAAK;IAC7D;IAEA,MAAM,gBAAgB,IAAA,wZAAM,EAAS;IAErC,iFAAiF;IACjF,uDAAuD;IACvD,sFAAsF;IACtF,MAAM,+BAA+B,IAAA,wZAAM,EAAwB;IAEnE,MAAM,iBAAiB,IAAA,6ZAAW,EAAC,CAAC;QAClC,MAAM,MAAM,OAAO,OAAO;QAC1B,IAAI,CAAC,KAAK;QAEV,6BAA6B,OAAO,GAAG;QACvC,IAAI,QAAQ,CAAC;YAAE,KAAK,IAAI,YAAY;YAAE;QAAS;IACjD,GAAG,EAAE;IAEL,MAAM,eAAe;QACnB,MAAM,MAAM,OAAO,OAAO;QAC1B,IAAI,CAAC,KAAK;QAEV,MAAM,aAAa,oBAAoB,QAAQ,GAAG,UAAU;QAC5D,MAAM,gBACJ,KAAK,GAAG,CAAC,IAAI,YAAY,GAAG,IAAI,SAAS,GAAG,IAAI,YAAY,IAAI,KAChE,IAAI,YAAY,IAAI,IAAI,YAAY;QAEtC,IAAI,CAAC,iBAAiB,cAAc,OAAO,GAAG,IAAI,SAAS,EAAE;QAC3D,qBAAqB;QACvB,OAAO;YACL,IAAI,eAAe;gBACjB,6BAA6B,OAAO,GAAG;YACzC;YAEA,MAAM,eACJ,iBAAiB,6BAA6B,OAAO,KAAK;YAE5D,IAAI,gBAAgB,kBAAkB,YAAY;gBAChD,IAAA,yKAAa,EAAC,qBAAqB,QAAQ,CAAC;oBAC1C,YAAY;gBACd;YACF;QACF;QAEA,cAAc,OAAO,GAAG,IAAI,SAAS;IACvC;IAEA,MAAM,YAAY,IAAA,mMAAkB,EAAC;QACnC,MAAM,iBAAiB,6BAA6B,OAAO;QAC3D,IAAI,gBAAgB;YAClB,eAAe;QACjB,OAAO,IAAI,cAAc,oBAAoB,QAAQ,GAAG,UAAU,EAAE;YAClE,eAAe;QACjB;QAEA;IACF;IAEA,MAAM,YAAY,IAAA,oLAAa,EAAc,CAAC;QAC5C,GAAG,gBAAgB,CAAC,UAAU;QAC9B,OAAO;YACL,GAAG,mBAAmB,CAAC,UAAU;QACnC;IACF;IAEA,IAAA,yMAAmB,EAAC,CAAC,EAAE,QAAQ,EAAE;QAC/B,eAAe;IACjB;IAEA,0BAA0B;IAC1B,IAAA,8JAAW,EAAC,mBAAmB;QAC7B,IAAI,CAAC,0BAA0B;QAC/B,6BAA6B,OAAO,GAAG;QACvC,sBAAsB;YACpB,eAAe;QACjB;IACF;IAEA,iEAAiE;IACjE,IAAA,8JAAW,EAAC,qBAAqB;QAC/B,IAAI,CAAC,4BAA4B;QACjC,6BAA6B,OAAO,GAAG;QACvC,sBAAsB;YACpB,eAAe;QACjB;IACF;IAEA,oDAAoD;IACpD,IAAA,8JAAW,EAAC,6BAA6B;QACvC,IAAI,CAAC,8BAA8B;QACnC,6BAA6B,OAAO,GAAG;QACvC,sBAAsB;YACpB,eAAe;QACjB;IACF;IAEA,MAAM,gBAAgB,IAAA,8UAAe,EAAW,WAAW,WAAW;IACtE,OAAO;AACT"}},
    {"offset": {"line": 8658, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-viewport.tsx"],"sourcesContent":["\"use client\";\n\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport {\n  type ComponentRef,\n  forwardRef,\n  ComponentPropsWithoutRef,\n  useCallback,\n} from \"react\";\nimport { useThreadViewportAutoScroll } from \"./use-thread-viewport-auto-scroll\";\nimport { ThreadPrimitiveViewportProvider } from \"../../context/providers/thread-viewport-provider\";\nimport { useSizeHandle } from \"../../utils/hooks/use-size-handle\";\nimport { useThreadViewport } from \"../../context/react/thread-viewport-context\";\n\nexport namespace ThreadPrimitiveViewport {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div> & {\n    /**\n     * Whether to automatically scroll to the bottom when new messages are added.\n     * When enabled, the viewport will automatically scroll to show the latest content.\n     *\n     * Default false if `turnAnchor` is \"top\", otherwise defaults to true.\n     */\n    autoScroll?: boolean | undefined;\n\n    /**\n     * Controls scroll anchoring behavior for new messages.\n     * - \"bottom\" (default): Messages anchor at the bottom, classic chat behavior.\n     * - \"top\": New user messages anchor at the top of the viewport for a focused reading experience.\n     */\n    turnAnchor?: \"top\" | \"bottom\" | undefined;\n\n    /**\n     * Whether to scroll to bottom when a new run starts.\n     *\n     * Defaults to true.\n     */\n    scrollToBottomOnRunStart?: boolean | undefined;\n\n    /**\n     * Whether to scroll to bottom when thread history is first loaded.\n     *\n     * Defaults to true.\n     */\n    scrollToBottomOnInitialize?: boolean | undefined;\n\n    /**\n     * Whether to scroll to bottom when switching to a different thread.\n     *\n     * Defaults to true.\n     */\n    scrollToBottomOnThreadSwitch?: boolean | undefined;\n  };\n}\n\nconst useViewportSizeRef = () => {\n  const register = useThreadViewport((s) => s.registerViewport);\n  const getHeight = useCallback((el: HTMLElement) => el.clientHeight, []);\n  return useSizeHandle(register, getHeight);\n};\n\nconst ThreadPrimitiveViewportScrollable = forwardRef<\n  ThreadPrimitiveViewport.Element,\n  ThreadPrimitiveViewport.Props\n>(\n  (\n    {\n      autoScroll,\n      scrollToBottomOnRunStart,\n      scrollToBottomOnInitialize,\n      scrollToBottomOnThreadSwitch,\n      children,\n      ...rest\n    },\n    forwardedRef,\n  ) => {\n    const autoScrollRef = useThreadViewportAutoScroll<HTMLDivElement>({\n      autoScroll,\n      scrollToBottomOnRunStart,\n      scrollToBottomOnInitialize,\n      scrollToBottomOnThreadSwitch,\n    });\n    const viewportSizeRef = useViewportSizeRef();\n    const ref = useComposedRefs(forwardedRef, autoScrollRef, viewportSizeRef);\n\n    return (\n      <Primitive.div {...rest} ref={ref}>\n        {children}\n      </Primitive.div>\n    );\n  },\n);\n\nThreadPrimitiveViewportScrollable.displayName =\n  \"ThreadPrimitive.ViewportScrollable\";\n\n/**\n * A scrollable viewport container for thread messages.\n *\n * This component provides a scrollable area for displaying thread messages with\n * automatic scrolling capabilities. It manages the viewport state and provides\n * context for child components to access viewport-related functionality.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.Viewport turnAnchor=\"top\">\n *   <ThreadPrimitive.Messages components={{ Message: MyMessage }} />\n * </ThreadPrimitive.Viewport>\n * ```\n */\nexport const ThreadPrimitiveViewport = forwardRef<\n  ThreadPrimitiveViewport.Element,\n  ThreadPrimitiveViewport.Props\n>(({ turnAnchor, ...props }, ref) => {\n  return (\n    <ThreadPrimitiveViewportProvider options={{ turnAnchor }}>\n      <ThreadPrimitiveViewportScrollable {...props} ref={ref} />\n    </ThreadPrimitiveViewportProvider>\n  );\n});\n\nThreadPrimitiveViewport.displayName = \"ThreadPrimitive.Viewport\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAMA;AACA;AACA;AACA;AAbA;;;;;;;;;AAwDA,MAAM,qBAAqB;IACzB,MAAM,WAAW,IAAA,kMAAiB,EAAC,CAAC,IAAM,EAAE,gBAAgB;IAC5D,MAAM,YAAY,IAAA,6ZAAW,EAAC,CAAC,KAAoB,GAAG,YAAY,EAAE,EAAE;IACtE,OAAO,IAAA,oLAAa,EAAC,UAAU;AACjC;AAEA,MAAM,kDAAoC,IAAA,4ZAAU,EAIlD,CACE,EACE,UAAU,EACV,wBAAwB,EACxB,0BAA0B,EAC1B,4BAA4B,EAC5B,QAAQ,EACR,GAAG,MACJ,EACD;IAEA,MAAM,gBAAgB,IAAA,+NAA2B,EAAiB;QAChE;QACA;QACA;QACA;IACF;IACA,MAAM,kBAAkB;IACxB,MAAM,MAAM,IAAA,8UAAe,EAAC,cAAc,eAAe;IAEzD,qBACE,ubAAC,mYAAS,CAAC,GAAG;QAAE,GAAG,IAAI;QAAE,KAAK;kBAC3B;;;;;;AAGP;AAGF,kCAAkC,WAAW,GAC3C;AAgBK,MAAM,wCAA0B,IAAA,4ZAAU,EAG/C,CAAC,EAAE,UAAU,EAAE,GAAG,OAAO,EAAE;IAC3B,qBACE,ubAAC,sNAA+B;QAAC,SAAS;YAAE;QAAW;kBACrD,cAAA,ubAAC;YAAmC,GAAG,KAAK;YAAE,KAAK;;;;;;;;;;;AAGzD;AAEA,wBAAwB,WAAW,GAAG"}},
    {"offset": {"line": 8728, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-viewport-footer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport {\n  type ComponentRef,\n  forwardRef,\n  ComponentPropsWithoutRef,\n  useCallback,\n} from \"react\";\nimport { useSizeHandle } from \"../../utils/hooks/use-size-handle\";\nimport { useThreadViewport } from \"../../context/react/thread-viewport-context\";\n\nexport namespace ThreadPrimitiveViewportFooter {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = ComponentPropsWithoutRef<typeof Primitive.div>;\n}\n\n/**\n * A footer container that measures its height for scroll calculations.\n *\n * This component measures its height and provides it to the viewport context\n * for use in scroll calculations (e.g., ViewportSlack min-height).\n *\n * Multiple ViewportFooter components can be used - their heights are summed.\n *\n * Typically used with `className=\"sticky bottom-0\"` to keep the footer\n * visible at the bottom of the viewport while scrolling.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.Viewport>\n *   <ThreadPrimitive.Messages components={{ ... }} />\n *   <ThreadPrimitive.ViewportFooter className=\"sticky bottom-0\">\n *     <Composer />\n *   </ThreadPrimitive.ViewportFooter>\n * </ThreadPrimitive.Viewport>\n * ```\n */\nexport const ThreadPrimitiveViewportFooter = forwardRef<\n  ThreadPrimitiveViewportFooter.Element,\n  ThreadPrimitiveViewportFooter.Props\n>((props, forwardedRef) => {\n  const register = useThreadViewport((s) => s.registerContentInset);\n  const getHeight = useCallback((el: HTMLElement) => {\n    const marginTop = parseFloat(getComputedStyle(el).marginTop) || 0;\n    return el.offsetHeight + marginTop;\n  }, []);\n\n  const resizeRef = useSizeHandle(register, getHeight);\n\n  const ref = useComposedRefs(forwardedRef, resizeRef);\n\n  return <Primitive.div {...props} ref={ref} />;\n});\n\nThreadPrimitiveViewportFooter.displayName = \"ThreadPrimitive.ViewportFooter\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAMA;AACA;AAXA;;;;;;;AAuCO,MAAM,8CAAgC,IAAA,4ZAAU,EAGrD,CAAC,OAAO;IACR,MAAM,WAAW,IAAA,kMAAiB,EAAC,CAAC,IAAM,EAAE,oBAAoB;IAChE,MAAM,YAAY,IAAA,6ZAAW,EAAC,CAAC;QAC7B,MAAM,YAAY,WAAW,iBAAiB,IAAI,SAAS,KAAK;QAChE,OAAO,GAAG,YAAY,GAAG;IAC3B,GAAG,EAAE;IAEL,MAAM,YAAY,IAAA,oLAAa,EAAC,UAAU;IAE1C,MAAM,MAAM,IAAA,8UAAe,EAAC,cAAc;IAE1C,qBAAO,ubAAC,mYAAS,CAAC,GAAG;QAAE,GAAG,KAAK;QAAE,KAAK;;;;;;AACxC;AAEA,8BAA8B,WAAW,GAAG"}},
    {"offset": {"line": 8767, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/providers/message-by-index-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport { useAui, AuiProvider, Derived } from \"@creatorem/ai-store\";\n\nexport const MessageByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n  }>\n> = ({ index, children }) => {\n  const aui = useAui({\n    message: Derived({\n      source: \"thread\",\n      query: { type: \"index\", index },\n      get: (aui) => aui.thread().message({ index }),\n    }),\n    composer: Derived({\n      source: \"message\",\n      query: {},\n      get: (aui) => aui.thread().message({ index }).composer,\n    }),\n  });\n\n  return <AuiProvider value={aui}>{children}</AuiProvider>;\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAHA;;;AAKO,MAAM,yBAIT,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE;IACtB,MAAM,MAAM,IAAA,iJAAM,EAAC;QACjB,SAAS,IAAA,8IAAO,EAAC;YACf,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;YAAM;YAC9B,KAAK,CAAC,MAAQ,IAAI,MAAM,GAAG,OAAO,CAAC;oBAAE;gBAAM;QAC7C;QACA,UAAU,IAAA,8IAAO,EAAC;YAChB,QAAQ;YACR,OAAO,CAAC;YACR,KAAK,CAAC,MAAQ,IAAI,MAAM,GAAG,OAAO,CAAC;oBAAE;gBAAM,GAAG,QAAQ;QACxD;IACF;IAEA,qBAAO,ubAAC,kLAAW;QAAC,OAAO;kBAAM;;;;;;AACnC"}},
    {"offset": {"line": 8811, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-messages.tsx"],"sourcesContent":["\"use client\";\n\nimport { type ComponentType, type FC, memo, useMemo } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { MessageByIndexProvider } from \"../../context/providers\";\nimport { ThreadMessage as ThreadMessageType } from \"../../types\";\n\nexport namespace ThreadPrimitiveMessages {\n  export type Props = {\n    /**\n     * Component configuration for rendering different types of messages and composers.\n     *\n     * You can provide either:\n     * 1. A single `Message` component that handles all message types\n     * 2. Specific components for `UserMessage` and `AssistantMessage` (with optional `SystemMessage`)\n     *\n     * Optional edit composer components can be provided to customize the editing experience\n     * for different message types when users edit their messages.\n     */\n    components:\n      | {\n          /** Component used to render all message types */\n          Message: ComponentType;\n          /** Component used when editing any message type */\n          EditComposer?: ComponentType | undefined;\n          /** Component used when editing user messages specifically */\n          UserEditComposer?: ComponentType | undefined;\n          /** Component used when editing assistant messages specifically */\n          AssistantEditComposer?: ComponentType | undefined;\n          /** Component used when editing system messages specifically */\n          SystemEditComposer?: ComponentType | undefined;\n          /** Component used to render user messages specifically */\n          UserMessage?: ComponentType | undefined;\n          /** Component used to render assistant messages specifically */\n          AssistantMessage?: ComponentType | undefined;\n          /** Component used to render system messages specifically */\n          SystemMessage?: ComponentType | undefined;\n        }\n      | {\n          /** Component used to render all message types (fallback) */\n          Message?: ComponentType | undefined;\n          /** Component used when editing any message type */\n          EditComposer?: ComponentType | undefined;\n          /** Component used when editing user messages specifically */\n          UserEditComposer?: ComponentType | undefined;\n          /** Component used when editing assistant messages specifically */\n          AssistantEditComposer?: ComponentType | undefined;\n          /** Component used when editing system messages specifically */\n          SystemEditComposer?: ComponentType | undefined;\n          /** Component used to render user messages */\n          UserMessage: ComponentType;\n          /** Component used to render assistant messages */\n          AssistantMessage: ComponentType;\n          /** Component used to render system messages */\n          SystemMessage?: ComponentType | undefined;\n        };\n  };\n}\n\nconst isComponentsSame = (\n  prev: ThreadPrimitiveMessages.Props[\"components\"],\n  next: ThreadPrimitiveMessages.Props[\"components\"],\n) => {\n  return (\n    prev.Message === next.Message &&\n    prev.EditComposer === next.EditComposer &&\n    prev.UserEditComposer === next.UserEditComposer &&\n    prev.AssistantEditComposer === next.AssistantEditComposer &&\n    prev.SystemEditComposer === next.SystemEditComposer &&\n    prev.UserMessage === next.UserMessage &&\n    prev.AssistantMessage === next.AssistantMessage &&\n    prev.SystemMessage === next.SystemMessage\n  );\n};\n\nconst DEFAULT_SYSTEM_MESSAGE = () => null;\n\nconst getComponent = (\n  components: ThreadPrimitiveMessages.Props[\"components\"],\n  role: ThreadMessageType[\"role\"],\n  isEditing: boolean,\n) => {\n  switch (role) {\n    case \"user\":\n      if (isEditing) {\n        return (\n          components.UserEditComposer ??\n          components.EditComposer ??\n          components.UserMessage ??\n          (components.Message as ComponentType)\n        );\n      } else {\n        return components.UserMessage ?? (components.Message as ComponentType);\n      }\n    case \"assistant\":\n      if (isEditing) {\n        return (\n          components.AssistantEditComposer ??\n          components.EditComposer ??\n          components.AssistantMessage ??\n          (components.Message as ComponentType)\n        );\n      } else {\n        return (\n          components.AssistantMessage ?? (components.Message as ComponentType)\n        );\n      }\n    case \"system\":\n      if (isEditing) {\n        return (\n          components.SystemEditComposer ??\n          components.EditComposer ??\n          components.SystemMessage ??\n          (components.Message as ComponentType)\n        );\n      } else {\n        return components.SystemMessage ?? DEFAULT_SYSTEM_MESSAGE;\n      }\n    default:\n      const _exhaustiveCheck: never = role;\n      throw new Error(`Unknown message role: ${_exhaustiveCheck}`);\n  }\n};\n\ntype ThreadMessageComponentProps = {\n  components: ThreadPrimitiveMessages.Props[\"components\"];\n};\n\nconst ThreadMessageComponent: FC<ThreadMessageComponentProps> = ({\n  components,\n}) => {\n  const role = useAuiState(({ message }) => message.role);\n  const isEditing = useAuiState(({ message }) => message.composer.isEditing);\n  const Component = getComponent(components, role, isEditing);\n\n  return <Component />;\n};\nexport namespace ThreadPrimitiveMessageByIndex {\n  export type Props = {\n    index: number;\n    components: ThreadPrimitiveMessages.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single message at the specified index in the current thread.\n *\n * This component provides message context for a specific message in the thread\n * and renders it using the provided component configuration.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.MessageByIndex\n *   index={0}\n *   components={{\n *     UserMessage: MyUserMessage,\n *     AssistantMessage: MyAssistantMessage\n *   }}\n * />\n * ```\n */\nexport const ThreadPrimitiveMessageByIndex: FC<ThreadPrimitiveMessageByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <MessageByIndexProvider index={index}>\n          <ThreadMessageComponent components={components} />\n        </MessageByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      isComponentsSame(prev.components, next.components),\n  );\n\nThreadPrimitiveMessageByIndex.displayName = \"ThreadPrimitive.MessageByIndex\";\n\n/**\n * Renders all messages in the current thread using the provided component configuration.\n *\n * This component automatically renders all messages in the thread, providing the appropriate\n * message context for each message. It handles different message types (user, assistant, system)\n * and supports editing mode through the provided edit composer components.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.Messages\n *   components={{\n *     UserMessage: MyUserMessage,\n *     AssistantMessage: MyAssistantMessage,\n *     EditComposer: MyEditComposer\n *   }}\n * />\n * ```\n */\nexport const ThreadPrimitiveMessagesImpl: FC<ThreadPrimitiveMessages.Props> = ({\n  components,\n}) => {\n  const messagesLength = useAuiState(({ thread }) => thread.messages.length);\n\n  const messageElements = useMemo(() => {\n    if (messagesLength === 0) return null;\n    return Array.from({ length: messagesLength }, (_, index) => (\n      <ThreadPrimitiveMessageByIndex\n        key={index}\n        index={index}\n        components={components}\n      />\n    ));\n  }, [messagesLength, components]);\n\n  return messageElements;\n};\n\nThreadPrimitiveMessagesImpl.displayName = \"ThreadPrimitive.Messages\";\n\nexport const ThreadPrimitiveMessages = memo(\n  ThreadPrimitiveMessagesImpl,\n  (prev, next) => isComponentsSame(prev.components, next.components),\n);\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AA2DA,MAAM,mBAAmB,CACvB,MACA;IAEA,OACE,KAAK,OAAO,KAAK,KAAK,OAAO,IAC7B,KAAK,YAAY,KAAK,KAAK,YAAY,IACvC,KAAK,gBAAgB,KAAK,KAAK,gBAAgB,IAC/C,KAAK,qBAAqB,KAAK,KAAK,qBAAqB,IACzD,KAAK,kBAAkB,KAAK,KAAK,kBAAkB,IACnD,KAAK,WAAW,KAAK,KAAK,WAAW,IACrC,KAAK,gBAAgB,KAAK,KAAK,gBAAgB,IAC/C,KAAK,aAAa,KAAK,KAAK,aAAa;AAE7C;AAEA,MAAM,yBAAyB,IAAM;AAErC,MAAM,eAAe,CACnB,YACA,MACA;IAEA,OAAQ;QACN,KAAK;YACH,IAAI,WAAW;gBACb,OACE,WAAW,gBAAgB,IAC3B,WAAW,YAAY,IACvB,WAAW,WAAW,IACrB,WAAW,OAAO;YAEvB,OAAO;gBACL,OAAO,WAAW,WAAW,IAAK,WAAW,OAAO;YACtD;QACF,KAAK;YACH,IAAI,WAAW;gBACb,OACE,WAAW,qBAAqB,IAChC,WAAW,YAAY,IACvB,WAAW,gBAAgB,IAC1B,WAAW,OAAO;YAEvB,OAAO;gBACL,OACE,WAAW,gBAAgB,IAAK,WAAW,OAAO;YAEtD;QACF,KAAK;YACH,IAAI,WAAW;gBACb,OACE,WAAW,kBAAkB,IAC7B,WAAW,YAAY,IACvB,WAAW,aAAa,IACvB,WAAW,OAAO;YAEvB,OAAO;gBACL,OAAO,WAAW,aAAa,IAAI;YACrC;QACF;YACE,MAAM,mBAA0B;YAChC,MAAM,IAAI,MAAM,CAAC,sBAAsB,EAAE,kBAAkB;IAC/D;AACF;AAMA,MAAM,yBAA0D,CAAC,EAC/D,UAAU,EACX;IACC,MAAM,OAAO,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE,GAAK,QAAQ,IAAI;IACtD,MAAM,YAAY,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE,GAAK,QAAQ,QAAQ,CAAC,SAAS;IACzE,MAAM,YAAY,aAAa,YAAY,MAAM;IAEjD,qBAAO,ubAAC;;;;;AACV;AAyBO,MAAM,8CACX,IAAA,sZAAI,EACF,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;IACpB,qBACE,ubAAC,iNAAsB;QAAC,OAAO;kBAC7B,cAAA,ubAAC;YAAuB,YAAY;;;;;;;;;;;AAG1C,GACA,CAAC,MAAM,OACL,KAAK,KAAK,KAAK,KAAK,KAAK,IACzB,iBAAiB,KAAK,UAAU,EAAE,KAAK,UAAU;AAGvD,8BAA8B,WAAW,GAAG;AAoBrC,MAAM,8BAAiE,CAAC,EAC7E,UAAU,EACX;IACC,MAAM,iBAAiB,IAAA,+JAAW,EAAC,CAAC,EAAE,MAAM,EAAE,GAAK,OAAO,QAAQ,CAAC,MAAM;IAEzE,MAAM,kBAAkB,IAAA,yZAAO,EAAC;QAC9B,IAAI,mBAAmB,GAAG,OAAO;QACjC,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAe,GAAG,CAAC,GAAG,sBAChD,ubAAC;gBAEC,OAAO;gBACP,YAAY;eAFP;;;;;IAKX,GAAG;QAAC;QAAgB;KAAW;IAE/B,OAAO;AACT;AAEA,4BAA4B,WAAW,GAAG;AAEnC,MAAM,wCAA0B,IAAA,sZAAI,EACzC,6BACA,CAAC,MAAM,OAAS,iBAAiB,KAAK,UAAU,EAAE,KAAK,UAAU"}},
    {"offset": {"line": 8910, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-scroll-to-bottom.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport {\n  useThreadViewport,\n  useThreadViewportStore,\n} from \"../../context/react/thread-viewport-context\";\n\nexport namespace useThreadScrollToBottom {\n  export type Options = {\n    behavior?: ScrollBehavior | undefined;\n  };\n}\n\nconst useThreadScrollToBottom = ({\n  behavior,\n}: useThreadScrollToBottom.Options = {}) => {\n  const isAtBottom = useThreadViewport((s) => s.isAtBottom);\n\n  const threadViewportStore = useThreadViewportStore();\n\n  const handleScrollToBottom = useCallback(() => {\n    threadViewportStore.getState().scrollToBottom({ behavior });\n  }, [threadViewportStore, behavior]);\n\n  if (isAtBottom) return null;\n  return handleScrollToBottom;\n};\n\nexport namespace ThreadPrimitiveScrollToBottom {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useThreadScrollToBottom>;\n}\n\nexport const ThreadPrimitiveScrollToBottom = createActionButton(\n  \"ThreadPrimitive.ScrollToBottom\",\n  useThreadScrollToBottom,\n  [\"behavior\"],\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AARA;;;;AAmBA,MAAM,0BAA0B,CAAC,EAC/B,QAAQ,EACwB,GAAG,CAAC,CAAC;IACrC,MAAM,aAAa,IAAA,kMAAiB,EAAC,CAAC,IAAM,EAAE,UAAU;IAExD,MAAM,sBAAsB,IAAA,uMAAsB;IAElD,MAAM,uBAAuB,IAAA,6ZAAW,EAAC;QACvC,oBAAoB,QAAQ,GAAG,cAAc,CAAC;YAAE;QAAS;IAC3D,GAAG;QAAC;QAAqB;KAAS;IAElC,IAAI,YAAY,OAAO;IACvB,OAAO;AACT;AAOO,MAAM,gCAAgC,IAAA,sLAAkB,EAC7D,kCACA,yBACA;IAAC;CAAW"}},
    {"offset": {"line": 8942, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-suggestion.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useCallback } from \"react\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nconst useThreadSuggestion = ({\n  prompt,\n  send,\n  clearComposer = true,\n  autoSend,\n  method: _method,\n}: {\n  /** The suggestion prompt. */\n  prompt: string;\n\n  /**\n   * When true, automatically sends the message.\n   * When false, replaces or appends the composer text with the suggestion - depending on the value of `clearComposer`.\n   */\n  send?: boolean | undefined;\n\n  /**\n   * Whether to clear the composer after sending.\n   * When send is set to false, determines if composer text is replaced with suggestion (true, default),\n   * or if it's appended to the composer text (false).\n   *\n   * @default true\n   */\n  clearComposer?: boolean | undefined;\n\n  /** @deprecated Use `send` instead. */\n  autoSend?: boolean | undefined;\n\n  /** @deprecated Use `clearComposer` instead. */\n  method?: \"replace\";\n}) => {\n  const aui = useAui();\n  const disabled = useAuiState(({ thread }) => thread.isDisabled);\n\n  // ========== Deprecation Mapping ==========\n  const resolvedSend = send ?? autoSend ?? false;\n  // ==========================================\n\n  const callback = useCallback(() => {\n    const isRunning = aui.thread().getState().isRunning;\n\n    if (resolvedSend && !isRunning) {\n      aui.thread().append(prompt);\n      if (clearComposer) {\n        aui.composer().setText(\"\");\n      }\n    } else {\n      if (clearComposer) {\n        aui.composer().setText(prompt);\n      } else {\n        const currentText = aui.composer().getState().text;\n        aui\n          .composer()\n          .setText(currentText.trim() ? `${currentText} ${prompt}` : prompt);\n      }\n    }\n  }, [aui, resolvedSend, clearComposer, prompt]);\n\n  if (disabled) return null;\n  return callback;\n};\n\nexport namespace ThreadPrimitiveSuggestion {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useThreadSuggestion>;\n}\n\nexport const ThreadPrimitiveSuggestion = createActionButton(\n  \"ThreadPrimitive.Suggestion\",\n  useThreadSuggestion,\n  [\"prompt\", \"send\", \"clearComposer\", \"autoSend\", \"method\"],\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AAAA;AARA;;;;AAUA,MAAM,sBAAsB,CAAC,EAC3B,MAAM,EACN,IAAI,EACJ,gBAAgB,IAAI,EACpB,QAAQ,EACR,QAAQ,OAAO,EAyBhB;IACC,MAAM,MAAM,IAAA,iJAAM;IAClB,MAAM,WAAW,IAAA,+JAAW,EAAC,CAAC,EAAE,MAAM,EAAE,GAAK,OAAO,UAAU;IAE9D,4CAA4C;IAC5C,MAAM,eAAe,QAAQ,YAAY;IACzC,6CAA6C;IAE7C,MAAM,WAAW,IAAA,6ZAAW,EAAC;QAC3B,MAAM,YAAY,IAAI,MAAM,GAAG,QAAQ,GAAG,SAAS;QAEnD,IAAI,gBAAgB,CAAC,WAAW;YAC9B,IAAI,MAAM,GAAG,MAAM,CAAC;YACpB,IAAI,eAAe;gBACjB,IAAI,QAAQ,GAAG,OAAO,CAAC;YACzB;QACF,OAAO;YACL,IAAI,eAAe;gBACjB,IAAI,QAAQ,GAAG,OAAO,CAAC;YACzB,OAAO;gBACL,MAAM,cAAc,IAAI,QAAQ,GAAG,QAAQ,GAAG,IAAI;gBAClD,IACG,QAAQ,GACR,OAAO,CAAC,YAAY,IAAI,KAAK,GAAG,YAAY,CAAC,EAAE,QAAQ,GAAG;YAC/D;QACF;IACF,GAAG;QAAC;QAAK;QAAc;QAAe;KAAO;IAE7C,IAAI,UAAU,OAAO;IACrB,OAAO;AACT;AAOO,MAAM,4BAA4B,IAAA,sLAAkB,EACzD,8BACA,qBACA;IAAC;IAAU;IAAQ;IAAiB;IAAY;CAAS"}},
    {"offset": {"line": 8995, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/providers/suggestion-by-index-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport { AuiProvider, Derived, useAui } from \"@creatorem/ai-store\";\n\nexport type SuggestionByIndexProviderProps = PropsWithChildren<{\n  index: number;\n}>;\n\nexport const SuggestionByIndexProvider: FC<SuggestionByIndexProviderProps> = ({\n  index,\n  children,\n}) => {\n  const aui = useAui({\n    suggestion: Derived({\n      source: \"suggestions\",\n      query: { index },\n      get: (aui) => aui.suggestions().suggestion({ index }),\n    }),\n  });\n\n  return <AuiProvider value={aui}>{children}</AuiProvider>;\n};\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAHA;;;AASO,MAAM,4BAAgE,CAAC,EAC5E,KAAK,EACL,QAAQ,EACT;IACC,MAAM,MAAM,IAAA,iJAAM,EAAC;QACjB,YAAY,IAAA,8IAAO,EAAC;YAClB,QAAQ;YACR,OAAO;gBAAE;YAAM;YACf,KAAK,CAAC,MAAQ,IAAI,WAAW,GAAG,UAAU,CAAC;oBAAE;gBAAM;QACrD;IACF;IAEA,qBAAO,ubAAC,kLAAW;QAAC,OAAO;kBAAM;;;;;;AACnC"}},
    {"offset": {"line": 9031, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread/thread-suggestions.tsx"],"sourcesContent":["\"use client\";\n\nimport { type ComponentType, type FC, memo, useMemo } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { SuggestionByIndexProvider } from \"../../context/providers\";\n\nexport namespace ThreadPrimitiveSuggestions {\n  export type Props = {\n    /**\n     * Component to render for each suggestion.\n     */\n    components: {\n      /** Component used to render each suggestion */\n      Suggestion: ComponentType;\n    };\n  };\n}\n\ntype SuggestionComponentProps = {\n  components: ThreadPrimitiveSuggestions.Props[\"components\"];\n};\n\nconst SuggestionComponent: FC<SuggestionComponentProps> = ({ components }) => {\n  const Component = components.Suggestion;\n  return <Component />;\n};\n\nexport namespace ThreadPrimitiveSuggestionByIndex {\n  export type Props = {\n    index: number;\n    components: ThreadPrimitiveSuggestions.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single suggestion at the specified index.\n *\n * This component provides suggestion context for a specific suggestion\n * and renders it using the provided component configuration.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.SuggestionByIndex\n *   index={0}\n *   components={{\n *     Suggestion: MySuggestion\n *   }}\n * />\n * ```\n */\nexport const ThreadPrimitiveSuggestionByIndex: FC<ThreadPrimitiveSuggestionByIndex.Props> =\n  memo(\n    ({ index, components }) => {\n      return (\n        <SuggestionByIndexProvider index={index}>\n          <SuggestionComponent components={components} />\n        </SuggestionByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      prev.components.Suggestion === next.components.Suggestion,\n  );\n\nThreadPrimitiveSuggestionByIndex.displayName =\n  \"ThreadPrimitive.SuggestionByIndex\";\n\n/**\n * Renders all suggestions using the provided component configuration.\n *\n * This component automatically renders all suggestions from the suggestions scope,\n * providing the appropriate suggestion context for each one.\n *\n * @example\n * ```tsx\n * <ThreadPrimitive.Suggestions\n *   components={{\n *     Suggestion: MySuggestion\n *   }}\n * />\n * ```\n */\nexport const ThreadPrimitiveSuggestionsImpl: FC<\n  ThreadPrimitiveSuggestions.Props\n> = ({ components }) => {\n  const suggestionsLength = useAuiState(\n    ({ suggestions }) => suggestions.suggestions.length,\n  );\n\n  const suggestionElements = useMemo(() => {\n    if (suggestionsLength === 0) return null;\n    return Array.from({ length: suggestionsLength }, (_, index) => (\n      <ThreadPrimitiveSuggestionByIndex\n        key={index}\n        index={index}\n        components={components}\n      />\n    ));\n  }, [suggestionsLength, components]);\n\n  return suggestionElements;\n};\n\nThreadPrimitiveSuggestionsImpl.displayName = \"ThreadPrimitive.Suggestions\";\n\nexport const ThreadPrimitiveSuggestions = memo(\n  ThreadPrimitiveSuggestionsImpl,\n  (prev, next) => prev.components.Suggestion === next.components.Suggestion,\n);\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAsBA,MAAM,sBAAoD,CAAC,EAAE,UAAU,EAAE;IACvE,MAAM,YAAY,WAAW,UAAU;IACvC,qBAAO,ubAAC;;;;;AACV;AAyBO,MAAM,iDACX,IAAA,sZAAI,EACF,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE;IACpB,qBACE,ubAAC,uNAAyB;QAAC,OAAO;kBAChC,cAAA,ubAAC;YAAoB,YAAY;;;;;;;;;;;AAGvC,GACA,CAAC,MAAM,OACL,KAAK,KAAK,KAAK,KAAK,KAAK,IACzB,KAAK,UAAU,CAAC,UAAU,KAAK,KAAK,UAAU,CAAC,UAAU;AAG/D,iCAAiC,WAAW,GAC1C;AAiBK,MAAM,iCAET,CAAC,EAAE,UAAU,EAAE;IACjB,MAAM,oBAAoB,IAAA,+JAAW,EACnC,CAAC,EAAE,WAAW,EAAE,GAAK,YAAY,WAAW,CAAC,MAAM;IAGrD,MAAM,qBAAqB,IAAA,yZAAO,EAAC;QACjC,IAAI,sBAAsB,GAAG,OAAO;QACpC,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAkB,GAAG,CAAC,GAAG,sBACnD,ubAAC;gBAEC,OAAO;gBACP,YAAY;eAFP;;;;;IAKX,GAAG;QAAC;QAAmB;KAAW;IAElC,OAAO;AACT;AAEA,+BAA+B,WAAW,GAAG;AAEtC,MAAM,2CAA6B,IAAA,sZAAI,EAC5C,gCACA,CAAC,MAAM,OAAS,KAAK,UAAU,CAAC,UAAU,KAAK,KAAK,UAAU,CAAC,UAAU"}},
    {"offset": {"line": 9152, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/assistant-ui/thread.tsx"],"sourcesContent":["import {\n  ComposerAddAttachment,\n  ComposerAttachments,\n  UserMessageAttachments,\n} from \"@/components/assistant-ui/attachment\";\nimport { MarkdownText } from \"@/components/assistant-ui/markdown-text\";\nimport { Reasoning, ReasoningGroup } from \"@/components/assistant-ui/reasoning\";\nimport { ToolFallback } from \"@/components/assistant-ui/tool-fallback\";\nimport { TooltipIconButton } from \"@/components/assistant-ui/tooltip-icon-button\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  ActionBarMorePrimitive,\n  ActionBarPrimitive,\n  AssistantIf,\n  BranchPickerPrimitive,\n  ComposerPrimitive,\n  ErrorPrimitive,\n  MessagePrimitive,\n  ThreadPrimitive,\n} from \"@creatorem/ai-react\";\nimport {\n  ArrowDownIcon,\n  ArrowUpIcon,\n  CheckIcon,\n  ChevronLeftIcon,\n  ChevronRightIcon,\n  CopyIcon,\n  DownloadIcon,\n  MoreHorizontalIcon,\n  PencilIcon,\n  RefreshCwIcon,\n  SquareIcon,\n} from \"lucide-react\";\nimport type { FC } from \"react\";\n\nexport const Thread: FC = () => {\n  return (\n    <ThreadPrimitive.Root\n      className=\"aui-root aui-thread-root @container flex h-full flex-col bg-background\"\n      style={{\n        [\"--thread-max-width\" as string]: \"44rem\",\n      }}\n    >\n      <ThreadPrimitive.Viewport\n        turnAnchor=\"top\"\n        className=\"aui-thread-viewport relative flex flex-1 flex-col overflow-x-auto overflow-y-scroll scroll-smooth px-4 pt-4\"\n      >\n        <AssistantIf condition={({ thread }) => thread.isEmpty}>\n          <ThreadWelcome />\n        </AssistantIf>\n\n        <ThreadPrimitive.Messages\n          components={{\n            UserMessage,\n            EditComposer,\n            AssistantMessage,\n          }}\n        />\n\n        <ThreadPrimitive.ViewportFooter className=\"aui-thread-viewport-footer sticky bottom-0 mx-auto mt-auto flex w-full max-w-(--thread-max-width) flex-col gap-4 overflow-visible rounded-t-3xl bg-background pb-4 md:pb-6\">\n          <ThreadScrollToBottom />\n          <Composer />\n        </ThreadPrimitive.ViewportFooter>\n      </ThreadPrimitive.Viewport>\n    </ThreadPrimitive.Root>\n  );\n};\n\nconst ThreadScrollToBottom: FC = () => {\n  return (\n    <ThreadPrimitive.ScrollToBottom asChild>\n      <TooltipIconButton\n        tooltip=\"Scroll to bottom\"\n        variant=\"outline\"\n        className=\"aui-thread-scroll-to-bottom absolute -top-12 z-10 self-center rounded-full p-4 disabled:invisible dark:bg-background dark:hover:bg-accent\"\n      >\n        <ArrowDownIcon />\n      </TooltipIconButton>\n    </ThreadPrimitive.ScrollToBottom>\n  );\n};\n\nconst ThreadWelcome: FC = () => {\n  return (\n    <div className=\"aui-thread-welcome-root mx-auto my-auto flex w-full max-w-(--thread-max-width) grow flex-col\">\n      <div className=\"aui-thread-welcome-center flex w-full grow flex-col items-center justify-center\">\n        <div className=\"aui-thread-welcome-message flex size-full flex-col justify-center px-4\">\n          <h1 className=\"aui-thread-welcome-message-inner fade-in slide-in-from-bottom-1 animate-in font-semibold text-2xl duration-200\">\n            Hello there!\n          </h1>\n          <p className=\"aui-thread-welcome-message-inner fade-in slide-in-from-bottom-1 animate-in text-muted-foreground text-xl delay-75 duration-200\">\n            How can I help you today?\n          </p>\n        </div>\n      </div>\n      <ThreadSuggestions />\n    </div>\n  );\n};\n\nconst SUGGESTIONS = [\n  {\n    title: \"What's the weather\",\n    label: \"in San Francisco?\",\n    prompt: \"What's the weather in San Francisco?\",\n  },\n  {\n    title: \"Explain React hooks\",\n    label: \"like useState and useEffect\",\n    prompt: \"Explain React hooks like useState and useEffect\",\n  },\n] as const;\n\nconst ThreadSuggestions: FC = () => {\n  return (\n    <div className=\"aui-thread-welcome-suggestions grid w-full @md:grid-cols-2 gap-2 pb-4\">\n      {SUGGESTIONS.map((suggestion, index) => (\n        <div\n          key={suggestion.prompt}\n          className=\"aui-thread-welcome-suggestion-display fade-in slide-in-from-bottom-2 @md:nth-[n+3]:block nth-[n+3]:hidden animate-in fill-mode-both duration-200\"\n          style={{ animationDelay: `${100 + index * 50}ms` }}\n        >\n          <ThreadPrimitive.Suggestion prompt={suggestion.prompt} send asChild>\n            <Button\n              variant=\"ghost\"\n              className=\"aui-thread-welcome-suggestion h-auto w-full @md:flex-col flex-wrap items-start justify-start gap-1 rounded-2xl border px-4 py-3 text-left text-sm transition-colors hover:bg-muted\"\n              aria-label={suggestion.prompt}\n            >\n              <span className=\"aui-thread-welcome-suggestion-text-1 font-medium\">\n                {suggestion.title}\n              </span>\n              <span className=\"aui-thread-welcome-suggestion-text-2 text-muted-foreground\">\n                {suggestion.label}\n              </span>\n            </Button>\n          </ThreadPrimitive.Suggestion>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst Composer: FC = () => {\n  return (\n    <ComposerPrimitive.Root className=\"aui-composer-root relative flex w-full flex-col\">\n      <ComposerPrimitive.AttachmentDropzone className=\"aui-composer-attachment-dropzone flex w-full flex-col rounded-2xl border border-input bg-background px-1 pt-2 outline-none transition-shadow has-[textarea:focus-visible]:border-ring has-[textarea:focus-visible]:ring-2 has-[textarea:focus-visible]:ring-ring/20 data-[dragging=true]:border-ring data-[dragging=true]:border-dashed data-[dragging=true]:bg-accent/50\">\n        <ComposerAttachments />\n        <ComposerPrimitive.Input\n          placeholder=\"Send a message...\"\n          className=\"aui-composer-input mb-1 max-h-32 min-h-14 w-full resize-none bg-transparent px-4 pt-2 pb-3 text-sm outline-none placeholder:text-muted-foreground focus-visible:ring-0\"\n          rows={1}\n          autoFocus\n          aria-label=\"Message input\"\n        />\n        <ComposerAction />\n      </ComposerPrimitive.AttachmentDropzone>\n    </ComposerPrimitive.Root>\n  );\n};\n\nconst ComposerAction: FC = () => {\n  return (\n    <div className=\"aui-composer-action-wrapper relative mx-2 mb-2 flex items-center justify-between\">\n      <ComposerAddAttachment />\n\n      <AssistantIf condition={({ thread }) => !thread.isRunning}>\n        <ComposerPrimitive.Send asChild>\n          <TooltipIconButton\n            tooltip=\"Send message\"\n            side=\"bottom\"\n            type=\"submit\"\n            variant=\"default\"\n            size=\"icon\"\n            className=\"aui-composer-send size-8 rounded-full\"\n            aria-label=\"Send message\"\n          >\n            <ArrowUpIcon className=\"aui-composer-send-icon size-4\" />\n          </TooltipIconButton>\n        </ComposerPrimitive.Send>\n      </AssistantIf>\n\n      <AssistantIf condition={({ thread }) => thread.isRunning}>\n        <ComposerPrimitive.Cancel asChild>\n          <Button\n            type=\"button\"\n            variant=\"default\"\n            size=\"icon\"\n            className=\"aui-composer-cancel size-8 rounded-full\"\n            aria-label=\"Stop generating\"\n          >\n            <SquareIcon className=\"aui-composer-cancel-icon size-3 fill-current\" />\n          </Button>\n        </ComposerPrimitive.Cancel>\n      </AssistantIf>\n    </div>\n  );\n};\n\nconst MessageError: FC = () => {\n  return (\n    <MessagePrimitive.Error>\n      <ErrorPrimitive.Root className=\"aui-message-error-root mt-2 rounded-md border border-destructive bg-destructive/10 p-3 text-destructive text-sm dark:bg-destructive/5 dark:text-red-200\">\n        <ErrorPrimitive.Message className=\"aui-message-error-message line-clamp-2\" />\n      </ErrorPrimitive.Root>\n    </MessagePrimitive.Error>\n  );\n};\n\nconst AssistantMessage: FC = () => {\n  return (\n    <MessagePrimitive.Root\n      className=\"aui-assistant-message-root fade-in slide-in-from-bottom-1 relative mx-auto w-full max-w-(--thread-max-width) animate-in py-3 duration-150\"\n      data-role=\"assistant\"\n    >\n      <div className=\"aui-assistant-message-content wrap-break-word px-2 text-foreground leading-relaxed\">\n        <MessagePrimitive.Parts\n          components={{\n            Text: MarkdownText,\n            Reasoning,\n            ReasoningGroup,\n            tools: { Fallback: ToolFallback },\n          }}\n        />\n        <MessageError />\n      </div>\n\n      <div className=\"aui-assistant-message-footer mt-1 ml-2 flex\">\n        <BranchPicker />\n        <AssistantActionBar />\n      </div>\n    </MessagePrimitive.Root>\n  );\n};\n\nconst AssistantActionBar: FC = () => {\n  return (\n    <ActionBarPrimitive.Root\n      hideWhenRunning\n      autohide=\"not-last\"\n      autohideFloat=\"single-branch\"\n      className=\"aui-assistant-action-bar-root col-start-3 row-start-2 -ml-1 flex gap-1 text-muted-foreground data-floating:absolute data-floating:rounded-md data-floating:border data-floating:bg-background data-floating:p-1 data-floating:shadow-sm\"\n    >\n      <ActionBarPrimitive.Copy asChild>\n        <TooltipIconButton tooltip=\"Copy\">\n          <AssistantIf condition={({ message }) => message.isCopied}>\n            <CheckIcon />\n          </AssistantIf>\n          <AssistantIf condition={({ message }) => !message.isCopied}>\n            <CopyIcon />\n          </AssistantIf>\n        </TooltipIconButton>\n      </ActionBarPrimitive.Copy>\n      <ActionBarPrimitive.Reload asChild>\n        <TooltipIconButton tooltip=\"Refresh\">\n          <RefreshCwIcon />\n        </TooltipIconButton>\n      </ActionBarPrimitive.Reload>\n      <ActionBarMorePrimitive.Root>\n        <ActionBarMorePrimitive.Trigger asChild>\n          <TooltipIconButton\n            tooltip=\"More\"\n            className=\"data-[state=open]:bg-accent\"\n          >\n            <MoreHorizontalIcon />\n          </TooltipIconButton>\n        </ActionBarMorePrimitive.Trigger>\n        <ActionBarMorePrimitive.Content\n          side=\"bottom\"\n          align=\"start\"\n          className=\"aui-action-bar-more-content z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\"\n        >\n          <ActionBarPrimitive.ExportMarkdown asChild>\n            <ActionBarMorePrimitive.Item className=\"aui-action-bar-more-item flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground\">\n              <DownloadIcon className=\"size-4\" />\n              Export as Markdown\n            </ActionBarMorePrimitive.Item>\n          </ActionBarPrimitive.ExportMarkdown>\n        </ActionBarMorePrimitive.Content>\n      </ActionBarMorePrimitive.Root>\n    </ActionBarPrimitive.Root>\n  );\n};\n\nconst UserMessage: FC = () => {\n  return (\n    <MessagePrimitive.Root\n      className=\"aui-user-message-root fade-in slide-in-from-bottom-1 mx-auto grid w-full max-w-(--thread-max-width) animate-in auto-rows-auto grid-cols-[minmax(72px,1fr)_auto] content-start gap-y-2 px-2 py-3 duration-150 [&:where(>*)]:col-start-2\"\n      data-role=\"user\"\n    >\n      <UserMessageAttachments />\n\n      <div className=\"aui-user-message-content-wrapper relative col-start-2 min-w-0\">\n        <div className=\"aui-user-message-content wrap-break-word rounded-2xl bg-muted px-4 py-2.5 text-foreground\">\n          <MessagePrimitive.Parts />\n        </div>\n        <div className=\"aui-user-action-bar-wrapper absolute top-1/2 left-0 -translate-x-full -translate-y-1/2 pr-2\">\n          <UserActionBar />\n        </div>\n      </div>\n\n      <BranchPicker className=\"aui-user-branch-picker col-span-full col-start-1 row-start-3 -mr-1 justify-end\" />\n    </MessagePrimitive.Root>\n  );\n};\n\nconst UserActionBar: FC = () => {\n  return (\n    <ActionBarPrimitive.Root\n      hideWhenRunning\n      autohide=\"not-last\"\n      className=\"aui-user-action-bar-root flex flex-col items-end\"\n    >\n      <ActionBarPrimitive.Edit asChild>\n        <TooltipIconButton tooltip=\"Edit\" className=\"aui-user-action-edit p-4\">\n          <PencilIcon />\n        </TooltipIconButton>\n      </ActionBarPrimitive.Edit>\n    </ActionBarPrimitive.Root>\n  );\n};\n\nconst EditComposer: FC = () => {\n  return (\n    <MessagePrimitive.Root className=\"aui-edit-composer-wrapper mx-auto flex w-full max-w-(--thread-max-width) flex-col px-2 py-3\">\n      <ComposerPrimitive.Root className=\"aui-edit-composer-root ml-auto flex w-full max-w-[85%] flex-col rounded-2xl bg-muted\">\n        <ComposerPrimitive.Input\n          className=\"aui-edit-composer-input min-h-14 w-full resize-none bg-transparent p-4 text-foreground text-sm outline-none\"\n          autoFocus\n        />\n        <div className=\"aui-edit-composer-footer mx-3 mb-3 flex items-center gap-2 self-end\">\n          <ComposerPrimitive.Cancel asChild>\n            <Button variant=\"ghost\" size=\"sm\">\n              Cancel\n            </Button>\n          </ComposerPrimitive.Cancel>\n          <ComposerPrimitive.Send asChild>\n            <Button size=\"sm\">Update</Button>\n          </ComposerPrimitive.Send>\n        </div>\n      </ComposerPrimitive.Root>\n    </MessagePrimitive.Root>\n  );\n};\n\nconst BranchPicker: FC<BranchPickerPrimitive.Root.Props> = ({\n  className,\n  ...rest\n}) => {\n  return (\n    <BranchPickerPrimitive.Root\n      hideWhenSingleBranch\n      className={cn(\n        \"aui-branch-picker-root mr-2 -ml-2 inline-flex items-center text-muted-foreground text-xs\",\n        className,\n      )}\n      {...rest}\n    >\n      <BranchPickerPrimitive.Previous asChild>\n        <TooltipIconButton tooltip=\"Previous\">\n          <ChevronLeftIcon />\n        </TooltipIconButton>\n      </BranchPickerPrimitive.Previous>\n      <span className=\"aui-branch-picker-state font-medium\">\n        <BranchPickerPrimitive.Number /> / <BranchPickerPrimitive.Count />\n      </span>\n      <BranchPickerPrimitive.Next asChild>\n        <TooltipIconButton tooltip=\"Next\">\n          <ChevronRightIcon />\n        </TooltipIconButton>\n      </BranchPickerPrimitive.Next>\n    </BranchPickerPrimitive.Root>\n  );\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 9960, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/hooks/use-mobile.ts"],"sourcesContent":["import * as React from \"react\";\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(\n    undefined,\n  );\n\n  React.useEffect(() => {\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n    const onChange = () => {\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    };\n    mql.addEventListener(\"change\", onChange);\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n    return () => mql.removeEventListener(\"change\", onChange);\n  }, []);\n\n  return !!isMobile;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,oBAAoB;AAEnB,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,0ZAAc,CAC5C;IAGF,2ZAAe,CAAC;QACd,MAAM,MAAM,OAAO,UAAU,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,GAAG,CAAC;QACvE,MAAM,WAAW;YACf,YAAY,OAAO,UAAU,GAAG;QAClC;QACA,IAAI,gBAAgB,CAAC,UAAU;QAC/B,YAAY,OAAO,UAAU,GAAG;QAChC,OAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;IACjD,GAAG,EAAE;IAEL,OAAO,CAAC,CAAC;AACX"}},
    {"offset": {"line": 9984, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none transition-[color,box-shadow] selection:bg-primary selection:text-primary-foreground file:inline-flex file:h-7 file:border-0 file:bg-transparent file:font-medium file:text-foreground file:text-sm placeholder:text-muted-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:bg-input/30\",\n        \"focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50\",\n        \"aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Input };\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,ubAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,+IAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 10009, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/separator.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-border data-[orientation=horizontal]:h-px data-[orientation=vertical]:h-full data-[orientation=horizontal]:w-full data-[orientation=vertical]:w-px\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport { Separator };\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,ubAAC,8XAAuB;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,+IAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 10038, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/sheet.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport * as SheetPrimitive from \"@radix-ui/react-dialog\";\nimport { XIcon } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />;\n}\n\nfunction SheetTrigger({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />;\n}\n\nfunction SheetClose({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Close>) {\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />;\n}\n\nfunction SheetPortal({\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Portal>) {\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />;\n}\n\nfunction SheetOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\n  return (\n    <SheetPrimitive.Overlay\n      data-slot=\"sheet-overlay\"\n      className={cn(\n        \"data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=open]:animate-in\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SheetContent({\n  className,\n  children,\n  side = \"right\",\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\";\n}) {\n  return (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content\n        data-slot=\"sheet-content\"\n        className={cn(\n          \"fixed z-50 flex flex-col gap-4 bg-background shadow-lg transition ease-in-out data-[state=closed]:animate-out data-[state=open]:animate-in data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n          side === \"right\" &&\n            \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\n          side === \"left\" &&\n            \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\n          side === \"top\" &&\n            \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\n          side === \"bottom\" &&\n            \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        <SheetPrimitive.Close className=\"absolute top-4 right-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary\">\n          <XIcon className=\"size-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  );\n}\n\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-header\"\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sheet-footer\"\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SheetTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Title>) {\n  return (\n    <SheetPrimitive.Title\n      data-slot=\"sheet-title\"\n      className={cn(\"font-semibold text-foreground\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SheetDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\n  return (\n    <SheetPrimitive.Description\n      data-slot=\"sheet-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Sheet,\n  SheetTrigger,\n  SheetClose,\n  SheetContent,\n  SheetHeader,\n  SheetFooter,\n  SheetTitle,\n  SheetDescription,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,ubAAC,2XAAmB;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;AAEA,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,ubAAC,8XAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;AAEA,SAAS,WAAW,EAClB,GAAG,OAC+C;IAClD,qBAAO,ubAAC,4XAAoB;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;AAEA,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,ubAAC,6XAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,ubAAC,8XAAsB;QACrB,aAAU;QACV,WAAW,IAAA,+IAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,GAAG,OAGJ;IACC,qBACE,ubAAC;;0BACC,ubAAC;;;;;0BACD,ubAAC,8XAAsB;gBACrB,aAAU;gBACV,WAAW,IAAA,+IAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;kCACD,ubAAC,4XAAoB;wBAAC,WAAU;;0CAC9B,ubAAC,6RAAK;gCAAC,WAAU;;;;;;0CACjB,ubAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKpC;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,ubAAC;QACC,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,ubAAC;QACC,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OAC+C;IAClD,qBACE,ubAAC,4XAAoB;QACnB,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,ubAAC,kYAA0B;QACzB,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 10216, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"animate-pulse rounded-md bg-accent\", className)}\n      {...props}\n    />\n  );\n}\n\nexport { Skeleton };\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,ubAAC;QACC,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 10240, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { PanelLeftIcon } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetDescription,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContextProps = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nfunction SidebarProvider({\n  defaultOpen = true,\n  open: openProp,\n  onOpenChange: setOpenProp,\n  className,\n  style,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  defaultOpen?: boolean;\n  open?: boolean;\n  onOpenChange?: (open: boolean) => void;\n}) {\n  const isMobile = useIsMobile();\n  const [openMobile, setOpenMobile] = React.useState(false);\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen);\n  const open = openProp ?? _open;\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value;\n      if (setOpenProp) {\n        setOpenProp(openState);\n      } else {\n        _setOpen(openState);\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    },\n    [setOpenProp, open],\n  );\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile]);\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (\n        event.key === SIDEBAR_KEYBOARD_SHORTCUT &&\n        (event.metaKey || event.ctrlKey)\n      ) {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar]);\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\";\n\n  const contextValue = React.useMemo<SidebarContextProps>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n  );\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          data-slot=\"sidebar-wrapper\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\n            \"group/sidebar-wrapper flex min-h-svh w-full has-data-[variant=inset]:bg-sidebar\",\n            className,\n          )}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n}\n\nfunction Sidebar({\n  side = \"left\",\n  variant = \"sidebar\",\n  collapsible = \"offcanvas\",\n  className,\n  children,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  side?: \"left\" | \"right\";\n  variant?: \"sidebar\" | \"floating\" | \"inset\";\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n}) {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        data-slot=\"sidebar\"\n        className={cn(\n          \"flex h-full w-(--sidebar-width) flex-col bg-sidebar text-sidebar-foreground\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"w-(--sidebar-width) bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <SheetHeader className=\"sr-only\">\n            <SheetTitle>Sidebar</SheetTitle>\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\n          </SheetHeader>\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      className=\"group peer hidden text-sidebar-foreground md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n      data-slot=\"sidebar\"\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        data-slot=\"sidebar-gap\"\n        className={cn(\n          \"relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]\"\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon)\",\n        )}\n      />\n      <div\n        data-slot=\"sidebar-container\"\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]\"\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className,\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          data-slot=\"sidebar-inner\"\n          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow-sm\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SidebarTrigger({\n  className,\n  onClick,\n  ...props\n}: React.ComponentProps<typeof Button>) {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <Button\n      data-sidebar=\"trigger\"\n      data-slot=\"sidebar-trigger\"\n      variant=\"ghost\"\n      size=\"icon\"\n      className={cn(\"size-7\", className)}\n      onClick={(event) => {\n        onClick?.(event);\n        toggleSidebar();\n      }}\n      {...props}\n    >\n      <PanelLeftIcon />\n      <span className=\"sr-only\">Toggle Sidebar</span>\n    </Button>\n  );\n}\n\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\n  const { toggleSidebar } = useSidebar();\n\n  return (\n    <button\n      data-sidebar=\"rail\"\n      data-slot=\"sidebar-rail\"\n      aria-label=\"Toggle Sidebar\"\n      tabIndex={-1}\n      onClick={toggleSidebar}\n      title=\"Toggle Sidebar\"\n      className={cn(\n        \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex\",\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n        \"group-data-[collapsible=offcanvas]:translate-x-0 hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:after:left-full\",\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\n  return (\n    <main\n      data-slot=\"sidebar-inset\"\n      className={cn(\n        \"relative flex w-full flex-1 flex-col bg-background\",\n        \"md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2 md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarInput({\n  className,\n  ...props\n}: React.ComponentProps<typeof Input>) {\n  return (\n    <Input\n      data-slot=\"sidebar-input\"\n      data-sidebar=\"input\"\n      className={cn(\"h-8 w-full bg-background shadow-none\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-header\"\n      data-sidebar=\"header\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-footer\"\n      data-sidebar=\"footer\"\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof Separator>) {\n  return (\n    <Separator\n      data-slot=\"sidebar-separator\"\n      data-sidebar=\"separator\"\n      className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-content\"\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group\"\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarGroupLabel({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"div\";\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-label\"\n      data-sidebar=\"group-label\"\n      className={cn(\n        \"flex h-8 shrink-0 items-center rounded-md px-2 font-medium text-sidebar-foreground/70 text-xs outline-hidden ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarGroupAction({\n  className,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"sidebar-group-action\"\n      data-sidebar=\"group-action\"\n      className={cn(\n        \"absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-hidden ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarGroupContent({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-group-content\"\n      data-sidebar=\"group-content\"\n      className={cn(\"w-full text-sm\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu\"\n      data-sidebar=\"menu\"\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-item\"\n      data-sidebar=\"menu-item\"\n      className={cn(\"group/menu-item relative\", className)}\n      {...props}\n    />\n  );\n}\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nfunction SidebarMenuButton({\n  asChild = false,\n  isActive = false,\n  variant = \"default\",\n  size = \"default\",\n  tooltip,\n  className,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean;\n  isActive?: boolean;\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\n  const Comp = asChild ? Slot : \"button\";\n  const { isMobile, state } = useSidebar();\n\n  const button = (\n    <Comp\n      data-slot=\"sidebar-menu-button\"\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  );\n\n  if (!tooltip) {\n    return button;\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    };\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent\n        side=\"right\"\n        align=\"center\"\n        hidden={state !== \"collapsed\" || isMobile}\n        {...tooltip}\n      />\n    </Tooltip>\n  );\n}\n\nfunction SidebarMenuAction({\n  className,\n  asChild = false,\n  showOnHover = false,\n  ...props\n}: React.ComponentProps<\"button\"> & {\n  asChild?: boolean;\n  showOnHover?: boolean;\n}) {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-action\"\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-hidden ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 md:after:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuBadge({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"sidebar-menu-badge\"\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 font-medium text-sidebar-foreground text-xs tabular-nums\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuSkeleton({\n  className,\n  showIcon = false,\n  ...props\n}: React.ComponentProps<\"div\"> & {\n  showIcon?: boolean;\n}) {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      data-slot=\"sidebar-menu-skeleton\"\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && (\n        <Skeleton\n          className=\"size-4 rounded-md\"\n          data-sidebar=\"menu-skeleton-icon\"\n        />\n      )}\n      <Skeleton\n        className=\"h-4 max-w-(--skeleton-width) flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n}\n\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\n  return (\n    <ul\n      data-slot=\"sidebar-menu-sub\"\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-sidebar-border border-l px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuSubItem({\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"sidebar-menu-sub-item\"\n      data-sidebar=\"menu-sub-item\"\n      className={cn(\"group/menu-sub-item relative\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction SidebarMenuSubButton({\n  asChild = false,\n  size = \"md\",\n  isActive = false,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean;\n  size?: \"sm\" | \"md\";\n  isActive?: boolean;\n}) {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      data-slot=\"sidebar-menu-sub-button\"\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-hidden ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 10911, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 10921, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item-more/scope.tsx"],"sourcesContent":["import * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport type { Scope } from \"@radix-ui/react-context\";\n\nexport const useDropdownMenuScope: ReturnType<\n  typeof DropdownMenuPrimitive.createDropdownMenuScope\n> = DropdownMenuPrimitive.createDropdownMenuScope();\n\nexport type ScopedProps<P> = P & { __scopeThreadListItemMore?: Scope };\n"],"names":[],"mappings":";;;;AAAA;;AAGO,MAAM,uBAET,wZAA6C"}},
    {"offset": {"line": 10932, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item-more/thread-list-item-more-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { FC } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ThreadListItemMorePrimitiveRoot {\n  export type Props = DropdownMenuPrimitive.DropdownMenuProps;\n}\n\nexport const ThreadListItemMorePrimitiveRoot: FC<\n  ThreadListItemMorePrimitiveRoot.Props\n> = ({\n  __scopeThreadListItemMore,\n  ...rest\n}: ScopedProps<ThreadListItemMorePrimitiveRoot.Props>) => {\n  const scope = useDropdownMenuScope(__scopeThreadListItemMore);\n\n  return <DropdownMenuPrimitive.Root {...scope} {...rest} />;\n};\n\nThreadListItemMorePrimitiveRoot.displayName =\n  \"ThreadListItemMorePrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAJA;;;;AAUO,MAAM,kCAET,CAAC,EACH,yBAAyB,EACzB,GAAG,MACgD;IACnD,MAAM,QAAQ,IAAA,0MAAoB,EAAC;IAEnC,qBAAO,ubAAC,qYAA0B;QAAE,GAAG,KAAK;QAAG,GAAG,IAAI;;;;;;AACxD;AAEA,gCAAgC,WAAW,GACzC"}},
    {"offset": {"line": 10959, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item-more/thread-list-item-more-trigger.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ThreadListItemMorePrimitiveTrigger {\n  export type Element = ComponentRef<typeof DropdownMenuPrimitive.Trigger>;\n  export type Props = ComponentPropsWithoutRef<\n    typeof DropdownMenuPrimitive.Trigger\n  >;\n}\n\nexport const ThreadListItemMorePrimitiveTrigger = forwardRef<\n  ThreadListItemMorePrimitiveTrigger.Element,\n  ThreadListItemMorePrimitiveTrigger.Props\n>(\n  (\n    {\n      __scopeThreadListItemMore,\n      ...rest\n    }: ScopedProps<ThreadListItemMorePrimitiveTrigger.Props>,\n    ref,\n  ) => {\n    const scope = useDropdownMenuScope(__scopeThreadListItemMore);\n\n    return <DropdownMenuPrimitive.Trigger {...scope} {...rest} ref={ref} />;\n  },\n);\n\nThreadListItemMorePrimitiveTrigger.displayName =\n  \"ThreadListItemMorePrimitive.Trigger\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,MAAM,mDAAqC,IAAA,4ZAAU,EAI1D,CACE,EACE,yBAAyB,EACzB,GAAG,MACmD,EACxD;IAEA,MAAM,QAAQ,IAAA,0MAAoB,EAAC;IAEnC,qBAAO,ubAAC,wYAA6B;QAAE,GAAG,KAAK;QAAG,GAAG,IAAI;QAAE,KAAK;;;;;;AAClE;AAGF,mCAAmC,WAAW,GAC5C"}},
    {"offset": {"line": 10989, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item-more/thread-list-item-more-content.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ThreadListItemMorePrimitiveContent {\n  export type Element = ComponentRef<typeof DropdownMenuPrimitive.Content>;\n  export type Props = ComponentPropsWithoutRef<\n    typeof DropdownMenuPrimitive.Content\n  > & {\n    portalProps?:\n      | ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Portal>\n      | undefined;\n  };\n}\n\nexport const ThreadListItemMorePrimitiveContent = forwardRef<\n  ThreadListItemMorePrimitiveContent.Element,\n  ThreadListItemMorePrimitiveContent.Props\n>(\n  (\n    {\n      __scopeThreadListItemMore,\n      portalProps,\n      sideOffset = 4,\n      ...props\n    }: ScopedProps<ThreadListItemMorePrimitiveContent.Props>,\n    forwardedRef,\n  ) => {\n    const scope = useDropdownMenuScope(__scopeThreadListItemMore);\n\n    return (\n      <DropdownMenuPrimitive.Portal {...scope} {...portalProps}>\n        <DropdownMenuPrimitive.Content\n          {...scope}\n          {...props}\n          ref={forwardedRef}\n          sideOffset={sideOffset}\n        />\n      </DropdownMenuPrimitive.Portal>\n    );\n  },\n);\n\nThreadListItemMorePrimitiveContent.displayName =\n  \"ThreadListItemMorePrimitive.Content\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAiBO,MAAM,mDAAqC,IAAA,4ZAAU,EAI1D,CACE,EACE,yBAAyB,EACzB,WAAW,EACX,aAAa,CAAC,EACd,GAAG,OACmD,EACxD;IAEA,MAAM,QAAQ,IAAA,0MAAoB,EAAC;IAEnC,qBACE,ubAAC,uYAA4B;QAAE,GAAG,KAAK;QAAG,GAAG,WAAW;kBACtD,cAAA,ubAAC,wYAA6B;YAC3B,GAAG,KAAK;YACR,GAAG,KAAK;YACT,KAAK;YACL,YAAY;;;;;;;;;;;AAIpB;AAGF,mCAAmC,WAAW,GAC5C"}},
    {"offset": {"line": 11028, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item-more/thread-list-item-more-item.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ThreadListItemMorePrimitiveItem {\n  export type Element = ComponentRef<typeof DropdownMenuPrimitive.Item>;\n  export type Props = ComponentPropsWithoutRef<\n    typeof DropdownMenuPrimitive.Item\n  >;\n}\n\nexport const ThreadListItemMorePrimitiveItem = forwardRef<\n  ThreadListItemMorePrimitiveItem.Element,\n  ThreadListItemMorePrimitiveItem.Props\n>(\n  (\n    {\n      __scopeThreadListItemMore,\n      ...rest\n    }: ScopedProps<ThreadListItemMorePrimitiveItem.Props>,\n    ref,\n  ) => {\n    const scope = useDropdownMenuScope(__scopeThreadListItemMore);\n\n    return <DropdownMenuPrimitive.Item {...scope} {...rest} ref={ref} />;\n  },\n);\n\nThreadListItemMorePrimitiveItem.displayName =\n  \"ThreadListItemMorePrimitive.Item\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,MAAM,gDAAkC,IAAA,4ZAAU,EAIvD,CACE,EACE,yBAAyB,EACzB,GAAG,MACgD,EACrD;IAEA,MAAM,QAAQ,IAAA,0MAAoB,EAAC;IAEnC,qBAAO,ubAAC,qYAA0B;QAAE,GAAG,KAAK;QAAG,GAAG,IAAI;QAAE,KAAK;;;;;;AAC/D;AAGF,gCAAgC,WAAW,GACzC"}},
    {"offset": {"line": 11058, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item-more/thread-list-item-more-separator.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\";\nimport { ScopedProps, useDropdownMenuScope } from \"./scope\";\n\nexport namespace ThreadListItemMorePrimitiveSeparator {\n  export type Element = ComponentRef<typeof DropdownMenuPrimitive.Separator>;\n  export type Props = ComponentPropsWithoutRef<\n    typeof DropdownMenuPrimitive.Separator\n  >;\n}\n\nexport const ThreadListItemMorePrimitiveSeparator = forwardRef<\n  ThreadListItemMorePrimitiveSeparator.Element,\n  ThreadListItemMorePrimitiveSeparator.Props\n>(\n  (\n    {\n      __scopeThreadListItemMore,\n      ...rest\n    }: ScopedProps<ThreadListItemMorePrimitiveSeparator.Props>,\n    ref,\n  ) => {\n    const scope = useDropdownMenuScope(__scopeThreadListItemMore);\n\n    return <DropdownMenuPrimitive.Separator {...scope} {...rest} ref={ref} />;\n  },\n);\n\nThreadListItemMorePrimitiveSeparator.displayName =\n  \"ThreadListItemMorePrimitive.Separator\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,MAAM,qDAAuC,IAAA,4ZAAU,EAI5D,CACE,EACE,yBAAyB,EACzB,GAAG,MACqD,EAC1D;IAEA,MAAM,QAAQ,IAAA,0MAAoB,EAAC;IAEnC,qBAAO,ubAAC,0YAA+B;QAAE,GAAG,KAAK;QAAG,GAAG,IAAI;QAAE,KAAK;;;;;;AACpE;AAGF,qCAAqC,WAAW,GAC9C"}},
    {"offset": {"line": 11119, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 11130, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item/thread-list-item-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { type ComponentRef, forwardRef, ComponentPropsWithoutRef } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\ntype PrimitiveDivProps = ComponentPropsWithoutRef<typeof Primitive.div>;\n\nexport namespace ThreadListItemPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = PrimitiveDivProps;\n}\n\nexport const ThreadListItemPrimitiveRoot = forwardRef<\n  ThreadListItemPrimitiveRoot.Element,\n  ThreadListItemPrimitiveRoot.Props\n>((props, ref) => {\n  const isMain = useAuiState(\n    ({ threads, threadListItem }) => threads.mainThreadId === threadListItem.id,\n  );\n\n  return (\n    <Primitive.div\n      {...(isMain ? { \"data-active\": \"true\", \"aria-current\": \"true\" } : null)}\n      {...props}\n      ref={ref}\n    />\n  );\n});\n\nThreadListItemPrimitiveRoot.displayName = \"ThreadListItemPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,MAAM,4CAA8B,IAAA,4ZAAU,EAGnD,CAAC,OAAO;IACR,MAAM,SAAS,IAAA,+JAAW,EACxB,CAAC,EAAE,OAAO,EAAE,cAAc,EAAE,GAAK,QAAQ,YAAY,KAAK,eAAe,EAAE;IAG7E,qBACE,ubAAC,mYAAS,CAAC,GAAG;QACX,GAAI,SAAS;YAAE,eAAe;YAAQ,gBAAgB;QAAO,IAAI,IAAI;QACrE,GAAG,KAAK;QACT,KAAK;;;;;;AAGX;AAEA,4BAA4B,WAAW,GAAG"}},
    {"offset": {"line": 11163, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item/thread-list-item-archive.ts"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useAui } from \"@creatorem/ai-store\";\nimport { useCallback } from \"react\";\n\nconst useThreadListItemArchive = () => {\n  const aui = useAui();\n  return useCallback(() => {\n    aui.threadListItem().archive();\n  }, [aui]);\n};\n\nexport namespace ThreadListItemPrimitiveArchive {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useThreadListItemArchive>;\n}\n\nexport const ThreadListItemPrimitiveArchive = createActionButton(\n  \"ThreadListItemPrimitive.Archive\",\n  useThreadListItemArchive,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AARA;;;;AAUA,MAAM,2BAA2B;IAC/B,MAAM,MAAM,IAAA,iJAAM;IAClB,OAAO,IAAA,6ZAAW,EAAC;QACjB,IAAI,cAAc,GAAG,OAAO;IAC9B,GAAG;QAAC;KAAI;AACV;AAOO,MAAM,iCAAiC,IAAA,sLAAkB,EAC9D,mCACA"}},
    {"offset": {"line": 11187, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item/thread-list-item-unarchive.ts"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useAui } from \"@creatorem/ai-store\";\nimport { useCallback } from \"react\";\n\nconst useThreadListItemUnarchive = () => {\n  const aui = useAui();\n  return useCallback(() => {\n    aui.threadListItem().unarchive();\n  }, [aui]);\n};\n\nexport namespace ThreadListItemPrimitiveUnarchive {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useThreadListItemUnarchive>;\n}\n\nexport const ThreadListItemPrimitiveUnarchive = createActionButton(\n  \"ThreadListItemPrimitive.Unarchive\",\n  useThreadListItemUnarchive,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AARA;;;;AAUA,MAAM,6BAA6B;IACjC,MAAM,MAAM,IAAA,iJAAM;IAClB,OAAO,IAAA,6ZAAW,EAAC;QACjB,IAAI,cAAc,GAAG,SAAS;IAChC,GAAG;QAAC;KAAI;AACV;AAOO,MAAM,mCAAmC,IAAA,sLAAkB,EAChE,qCACA"}},
    {"offset": {"line": 11211, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item/thread-list-item-delete.ts"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useAui } from \"@creatorem/ai-store\";\nimport { useCallback } from \"react\";\n\nconst useThreadListItemDelete = () => {\n  const aui = useAui();\n  return useCallback(() => {\n    aui.threadListItem().delete();\n  }, [aui]);\n};\n\nexport namespace ThreadListItemPrimitiveDelete {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useThreadListItemDelete>;\n}\n\nexport const ThreadListItemPrimitiveDelete = createActionButton(\n  \"ThreadListItemPrimitive.Delete\",\n  useThreadListItemDelete,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AARA;;;;AAUA,MAAM,0BAA0B;IAC9B,MAAM,MAAM,IAAA,iJAAM;IAClB,OAAO,IAAA,6ZAAW,EAAC;QACjB,IAAI,cAAc,GAAG,MAAM;IAC7B,GAAG;QAAC;KAAI;AACV;AAOO,MAAM,gCAAgC,IAAA,sLAAkB,EAC7D,kCACA"}},
    {"offset": {"line": 11235, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item/thread-list-item-trigger.ts"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n  createActionButton,\n} from \"../../utils/create-action-button\";\nimport { useAui } from \"@creatorem/ai-store\";\nimport { useCallback } from \"react\";\n\nconst useThreadListItemTrigger = () => {\n  const aui = useAui();\n  return useCallback(() => {\n    aui.threadListItem().switchTo();\n  }, [aui]);\n};\n\nexport namespace ThreadListItemPrimitiveTrigger {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<typeof useThreadListItemTrigger>;\n}\n\nexport const ThreadListItemPrimitiveTrigger = createActionButton(\n  \"ThreadListItemPrimitive.Trigger\",\n  useThreadListItemTrigger,\n);\n"],"names":[],"mappings":";;;;AAEA;AAKA;AACA;AARA;;;;AAUA,MAAM,2BAA2B;IAC/B,MAAM,MAAM,IAAA,iJAAM;IAClB,OAAO,IAAA,6ZAAW,EAAC;QACjB,IAAI,cAAc,GAAG,QAAQ;IAC/B,GAAG;QAAC;KAAI;AACV;AAOO,MAAM,iCAAiC,IAAA,sLAAkB,EAC9D,mCACA"}},
    {"offset": {"line": 11259, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list-item/thread-list-item-title.tsx"],"sourcesContent":["\"use client\";\n\nimport type { FC, ReactNode } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\n\nexport namespace ThreadListItemPrimitiveTitle {\n  export type Props = {\n    fallback?: ReactNode;\n  };\n}\n\nexport const ThreadListItemPrimitiveTitle: FC<\n  ThreadListItemPrimitiveTitle.Props\n> = ({ fallback }) => {\n  const title = useAuiState(({ threadListItem }) => threadListItem.title);\n  return <>{title || fallback}</>;\n};\n\nThreadListItemPrimitiveTitle.displayName = \"ThreadListItemPrimitive.Title\";\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAWO,MAAM,+BAET,CAAC,EAAE,QAAQ,EAAE;IACf,MAAM,QAAQ,IAAA,+JAAW,EAAC,CAAC,EAAE,cAAc,EAAE,GAAK,eAAe,KAAK;IACtE,qBAAO;kBAAG,SAAS;;AACrB;AAEA,6BAA6B,WAAW,GAAG"}},
    {"offset": {"line": 11313, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 11322, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list/thread-list-new.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  ActionButtonElement,\n  ActionButtonProps,\n} from \"../../utils/create-action-button\";\nimport { forwardRef } from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useAuiState, useAui } from \"@creatorem/ai-store\";\n\nexport namespace ThreadListPrimitiveNew {\n  export type Element = ActionButtonElement;\n  export type Props = ActionButtonProps<() => void>;\n}\n\nexport const ThreadListPrimitiveNew = forwardRef<\n  ThreadListPrimitiveNew.Element,\n  ThreadListPrimitiveNew.Props\n>(({ onClick, disabled, ...props }, forwardedRef) => {\n  const isMain = useAuiState(\n    ({ threads }) => threads.newThreadId === threads.mainThreadId,\n  );\n\n  const aui = useAui();\n\n  return (\n    <Primitive.button\n      type=\"button\"\n      {...(isMain ? { \"data-active\": \"true\", \"aria-current\": \"true\" } : null)}\n      {...props}\n      ref={forwardedRef}\n      disabled={disabled}\n      onClick={composeEventHandlers(onClick, () => {\n        aui.threads().switchToNewThread();\n      })}\n    />\n  );\n});\n\nThreadListPrimitiveNew.displayName = \"ThreadListPrimitive.New\";\n"],"names":[],"mappings":";;;;;AAMA;AACA;AACA;AACA;AAAA;AATA;;;;;;AAgBO,MAAM,uCAAyB,IAAA,4ZAAU,EAG9C,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE;IAClC,MAAM,SAAS,IAAA,+JAAW,EACxB,CAAC,EAAE,OAAO,EAAE,GAAK,QAAQ,WAAW,KAAK,QAAQ,YAAY;IAG/D,MAAM,MAAM,IAAA,iJAAM;IAElB,qBACE,ubAAC,mYAAS,CAAC,MAAM;QACf,MAAK;QACJ,GAAI,SAAS;YAAE,eAAe;YAAQ,gBAAgB;QAAO,IAAI,IAAI;QACrE,GAAG,KAAK;QACT,KAAK;QACL,UAAU;QACV,SAAS,IAAA,2PAAoB,EAAC,SAAS;YACrC,IAAI,OAAO,GAAG,iBAAiB;QACjC;;;;;;AAGN;AAEA,uBAAuB,WAAW,GAAG"}},
    {"offset": {"line": 11364, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/context/providers/thread-list-item-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport { type FC, type PropsWithChildren } from \"react\";\nimport { useAui, AuiProvider, Derived } from \"@creatorem/ai-store\";\nimport type { ThreadListItemRuntime } from \"../../legacy-runtime/runtime/thread-list-item-runtime\";\nimport { ThreadListItemClient } from \"../../legacy-runtime/client/thread-list-item-runtime-client\";\n\nexport const ThreadListItemByIndexProvider: FC<\n  PropsWithChildren<{\n    index: number;\n    archived: boolean;\n  }>\n> = ({ index, archived, children }) => {\n  const aui = useAui({\n    threadListItem: Derived({\n      source: \"threads\",\n      query: { type: \"index\", index, archived },\n      get: (aui) => aui.threads().item({ index, archived }),\n    }),\n  });\n\n  return <AuiProvider value={aui}>{children}</AuiProvider>;\n};\n\nexport const ThreadListItemRuntimeProvider: FC<\n  PropsWithChildren<{\n    runtime: ThreadListItemRuntime;\n  }>\n> = ({ runtime, children }) => {\n  const aui = useAui({\n    threadListItem: ThreadListItemClient({ runtime }),\n  });\n\n  return <AuiProvider value={aui}>{children}</AuiProvider>;\n};\n"],"names":[],"mappings":";;;;;;;AAGA;AAAA;AAAA;AAEA;AALA;;;;AAOO,MAAM,gCAKT,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAE;IAChC,MAAM,MAAM,IAAA,iJAAM,EAAC;QACjB,gBAAgB,IAAA,8IAAO,EAAC;YACtB,QAAQ;YACR,OAAO;gBAAE,MAAM;gBAAS;gBAAO;YAAS;YACxC,KAAK,CAAC,MAAQ,IAAI,OAAO,GAAG,IAAI,CAAC;oBAAE;oBAAO;gBAAS;QACrD;IACF;IAEA,qBAAO,ubAAC,kLAAW;QAAC,OAAO;kBAAM;;;;;;AACnC;AAEO,MAAM,gCAIT,CAAC,EAAE,OAAO,EAAE,QAAQ,EAAE;IACxB,MAAM,MAAM,IAAA,iJAAM,EAAC;QACjB,gBAAgB,IAAA,8NAAoB,EAAC;YAAE;QAAQ;IACjD;IAEA,qBAAO,ubAAC,kLAAW;QAAC,OAAO;kBAAM;;;;;;AACnC"}},
    {"offset": {"line": 11422, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list/thread-list-items.tsx"],"sourcesContent":["\"use client\";\n\nimport { ComponentType, FC, memo, useMemo } from \"react\";\nimport { useAuiState } from \"@creatorem/ai-store\";\nimport { ThreadListItemByIndexProvider } from \"../../context/providers\";\n\nexport namespace ThreadListPrimitiveItems {\n  export type Props = {\n    archived?: boolean | undefined;\n    components: {\n      ThreadListItem: ComponentType;\n    };\n  };\n}\n\nexport namespace ThreadListPrimitiveItemByIndex {\n  export type Props = {\n    index: number;\n    archived?: boolean | undefined;\n    components: ThreadListPrimitiveItems.Props[\"components\"];\n  };\n}\n\n/**\n * Renders a single thread list item at the specified index.\n *\n * This component provides direct access to render a specific thread\n * from the thread list using the provided component configuration.\n *\n * @example\n * ```tsx\n * <ThreadListPrimitive.ItemByIndex\n *   index={0}\n *   components={{\n *     ThreadListItem: MyThreadListItem\n *   }}\n * />\n * ```\n */\nexport const ThreadListPrimitiveItemByIndex: FC<ThreadListPrimitiveItemByIndex.Props> =\n  memo(\n    ({ index, archived = false, components }) => {\n      const ThreadListItemComponent = components.ThreadListItem;\n\n      return (\n        <ThreadListItemByIndexProvider index={index} archived={archived}>\n          <ThreadListItemComponent />\n        </ThreadListItemByIndexProvider>\n      );\n    },\n    (prev, next) =>\n      prev.index === next.index &&\n      prev.archived === next.archived &&\n      prev.components.ThreadListItem === next.components.ThreadListItem,\n  );\n\nThreadListPrimitiveItemByIndex.displayName = \"ThreadListPrimitive.ItemByIndex\";\n\nexport const ThreadListPrimitiveItems: FC<ThreadListPrimitiveItems.Props> = ({\n  archived = false,\n  components,\n}) => {\n  const contentLength = useAuiState(({ threads }) =>\n    archived ? threads.archivedThreadIds.length : threads.threadIds.length,\n  );\n\n  const listElements = useMemo(() => {\n    return Array.from({ length: contentLength }, (_, index) => (\n      <ThreadListPrimitiveItemByIndex\n        key={index}\n        index={index}\n        archived={archived}\n        components={components}\n      />\n    ));\n  }, [contentLength, archived, components]);\n\n  return listElements;\n};\n\nThreadListPrimitiveItems.displayName = \"ThreadListPrimitive.Items\";\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAJA;;;;;AAuCO,MAAM,+CACX,IAAA,sZAAI,EACF,CAAC,EAAE,KAAK,EAAE,WAAW,KAAK,EAAE,UAAU,EAAE;IACtC,MAAM,0BAA0B,WAAW,cAAc;IAEzD,qBACE,ubAAC,wNAA6B;QAAC,OAAO;QAAO,UAAU;kBACrD,cAAA,ubAAC;;;;;;;;;;AAGP,GACA,CAAC,MAAM,OACL,KAAK,KAAK,KAAK,KAAK,KAAK,IACzB,KAAK,QAAQ,KAAK,KAAK,QAAQ,IAC/B,KAAK,UAAU,CAAC,cAAc,KAAK,KAAK,UAAU,CAAC,cAAc;AAGvE,+BAA+B,WAAW,GAAG;AAEtC,MAAM,2BAA+D,CAAC,EAC3E,WAAW,KAAK,EAChB,UAAU,EACX;IACC,MAAM,gBAAgB,IAAA,+JAAW,EAAC,CAAC,EAAE,OAAO,EAAE,GAC5C,WAAW,QAAQ,iBAAiB,CAAC,MAAM,GAAG,QAAQ,SAAS,CAAC,MAAM;IAGxE,MAAM,eAAe,IAAA,yZAAO,EAAC;QAC3B,OAAO,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAc,GAAG,CAAC,GAAG,sBAC/C,ubAAC;gBAEC,OAAO;gBACP,UAAU;gBACV,YAAY;eAHP;;;;;IAMX,GAAG;QAAC;QAAe;QAAU;KAAW;IAExC,OAAO;AACT;AAEA,yBAAyB,WAAW,GAAG"}},
    {"offset": {"line": 11480, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/packages/react/src/primitives/thread-list/thread-list-root.tsx"],"sourcesContent":["\"use client\";\n\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { ComponentPropsWithoutRef, ComponentRef, forwardRef } from \"react\";\n\ntype PrimitiveDivProps = ComponentPropsWithoutRef<typeof Primitive.div>;\n\nexport namespace ThreadListPrimitiveRoot {\n  export type Element = ComponentRef<typeof Primitive.div>;\n  export type Props = PrimitiveDivProps;\n}\n\nexport const ThreadListPrimitiveRoot = forwardRef<\n  ThreadListPrimitiveRoot.Element,\n  ThreadListPrimitiveRoot.Props\n>((props, ref) => {\n  return <Primitive.div {...props} ref={ref} />;\n});\n\nThreadListPrimitiveRoot.displayName = \"ThreadListPrimitive.Root\";\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYO,MAAM,wCAA0B,IAAA,4ZAAU,EAG/C,CAAC,OAAO;IACR,qBAAO,ubAAC,mYAAS,CAAC,GAAG;QAAE,GAAG,KAAK;QAAE,KAAK;;;;;;AACxC;AAEA,wBAAwB,WAAW,GAAG"}},
    {"offset": {"line": 11533, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/assistant-ui/thread-list.tsx"],"sourcesContent":["import { Button } from \"@/components/ui/button\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  AssistantIf,\n  ThreadListItemMorePrimitive,\n  ThreadListItemPrimitive,\n  ThreadListPrimitive,\n} from \"@creatorem/ai-react\";\nimport { ArchiveIcon, MoreHorizontalIcon, PlusIcon } from \"lucide-react\";\nimport type { FC } from \"react\";\n\nexport const ThreadList: FC = () => {\n  return (\n    <ThreadListPrimitive.Root className=\"aui-root aui-thread-list-root flex flex-col gap-1\">\n      <ThreadListNew />\n      <AssistantIf condition={({ threads }) => threads.isLoading}>\n        <ThreadListSkeleton />\n      </AssistantIf>\n      <AssistantIf condition={({ threads }) => !threads.isLoading}>\n        <ThreadListPrimitive.Items components={{ ThreadListItem }} />\n      </AssistantIf>\n    </ThreadListPrimitive.Root>\n  );\n};\n\nconst ThreadListNew: FC = () => {\n  return (\n    <ThreadListPrimitive.New asChild>\n      <Button\n        variant=\"outline\"\n        className=\"aui-thread-list-new h-9 justify-start gap-2 rounded-lg px-3 text-sm hover:bg-muted data-active:bg-muted\"\n      >\n        <PlusIcon className=\"size-4\" />\n        New Thread\n      </Button>\n    </ThreadListPrimitive.New>\n  );\n};\n\nconst ThreadListSkeleton: FC = () => {\n  return (\n    <div className=\"flex flex-col gap-1\">\n      {Array.from({ length: 5 }, (_, i) => (\n        <div\n          key={i}\n          role=\"status\"\n          aria-label=\"Loading threads\"\n          className=\"aui-thread-list-skeleton-wrapper flex h-9 items-center px-3\"\n        >\n          <Skeleton className=\"aui-thread-list-skeleton h-4 w-full\" />\n        </div>\n      ))}\n    </div>\n  );\n};\n\nconst ThreadListItem: FC = () => {\n  return (\n    <ThreadListItemPrimitive.Root className=\"aui-thread-list-item group flex h-9 items-center gap-2 rounded-lg transition-colors hover:bg-muted focus-visible:bg-muted focus-visible:outline-none data-active:bg-muted\">\n      <ThreadListItemPrimitive.Trigger className=\"aui-thread-list-item-trigger flex h-full min-w-0 flex-1 items-center truncate px-3 text-start text-sm\">\n        <ThreadListItemPrimitive.Title fallback=\"New Chat\" />\n      </ThreadListItemPrimitive.Trigger>\n      <ThreadListItemMore />\n    </ThreadListItemPrimitive.Root>\n  );\n};\n\nconst ThreadListItemMore: FC = () => {\n  return (\n    <ThreadListItemMorePrimitive.Root>\n      <ThreadListItemMorePrimitive.Trigger asChild>\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"aui-thread-list-item-more mr-2 size-7 p-0 opacity-0 transition-opacity group-hover:opacity-100 data-[state=open]:bg-accent data-[state=open]:opacity-100 group-data-active:opacity-100\"\n        >\n          <MoreHorizontalIcon className=\"size-4\" />\n          <span className=\"sr-only\">More options</span>\n        </Button>\n      </ThreadListItemMorePrimitive.Trigger>\n      <ThreadListItemMorePrimitive.Content\n        side=\"bottom\"\n        align=\"start\"\n        className=\"aui-thread-list-item-more-content z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md\"\n      >\n        <ThreadListItemPrimitive.Archive asChild>\n          <ThreadListItemMorePrimitive.Item className=\"aui-thread-list-item-more-item flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground\">\n            <ArchiveIcon className=\"size-4\" />\n            Archive\n          </ThreadListItemMorePrimitive.Item>\n        </ThreadListItemPrimitive.Archive>\n      </ThreadListItemMorePrimitive.Content>\n    </ThreadListItemMorePrimitive.Root>\n  );\n};\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;;;;;;AAGO,MAAM,aAAiB;IAC5B,qBACE,ubAAC,uOAAmB,CAAC,IAAI;QAAC,WAAU;;0BAClC,ubAAC;;;;;0BACD,ubAAC,6LAAW;gBAAC,WAAW,CAAC,EAAE,OAAO,EAAE,GAAK,QAAQ,SAAS;0BACxD,cAAA,ubAAC;;;;;;;;;;0BAEH,ubAAC,6LAAW;gBAAC,WAAW,CAAC,EAAE,OAAO,EAAE,GAAK,CAAC,QAAQ,SAAS;0BACzD,cAAA,ubAAC,uOAAmB,CAAC,KAAK;oBAAC,YAAY;wBAAE;oBAAe;;;;;;;;;;;;;;;;;AAIhE;AAEA,MAAM,gBAAoB;IACxB,qBACE,ubAAC,uOAAmB,CAAC,GAAG;QAAC,OAAO;kBAC9B,cAAA,ubAAC,kKAAM;YACL,SAAQ;YACR,WAAU;;8BAEV,ubAAC,sSAAQ;oBAAC,WAAU;;;;;;gBAAW;;;;;;;;;;;;AAKvC;AAEA,MAAM,qBAAyB;IAC7B,qBACE,ubAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAE,GAAG,CAAC,GAAG,kBAC7B,ubAAC;gBAEC,MAAK;gBACL,cAAW;gBACX,WAAU;0BAEV,cAAA,ubAAC,sKAAQ;oBAAC,WAAU;;;;;;eALf;;;;;;;;;;AAUf;AAEA,MAAM,iBAAqB;IACzB,qBACE,ubAAC,uPAAuB,CAAC,IAAI;QAAC,WAAU;;0BACtC,ubAAC,uPAAuB,CAAC,OAAO;gBAAC,WAAU;0BACzC,cAAA,ubAAC,uPAAuB,CAAC,KAAK;oBAAC,UAAS;;;;;;;;;;;0BAE1C,ubAAC;;;;;;;;;;;AAGP;AAEA,MAAM,qBAAyB;IAC7B,qBACE,ubAAC,uQAA2B,CAAC,IAAI;;0BAC/B,ubAAC,uQAA2B,CAAC,OAAO;gBAAC,OAAO;0BAC1C,cAAA,ubAAC,kKAAM;oBACL,SAAQ;oBACR,MAAK;oBACL,WAAU;;sCAEV,ubAAC,8TAAkB;4BAAC,WAAU;;;;;;sCAC9B,ubAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,ubAAC,uQAA2B,CAAC,OAAO;gBAClC,MAAK;gBACL,OAAM;gBACN,WAAU;0BAEV,cAAA,ubAAC,uPAAuB,CAAC,OAAO;oBAAC,OAAO;8BACtC,cAAA,ubAAC,uQAA2B,CAAC,IAAI;wBAAC,WAAU;;0CAC1C,ubAAC,+SAAW;gCAAC,WAAU;;;;;;4BAAW;;;;;;;;;;;;;;;;;;;;;;;AAO9C"}},
    {"offset": {"line": 11760, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/assistant-ui/threadlist-sidebar.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Github, MessagesSquare } from \"lucide-react\";\nimport Link from \"next/link\";\nimport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarHeader,\n  SidebarMenu,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarRail,\n} from \"@/components/ui/sidebar\";\nimport { ThreadList } from \"@/components/assistant-ui/thread-list\";\n\nexport function ThreadListSidebar({\n  ...props\n}: React.ComponentProps<typeof Sidebar>) {\n  return (\n    <Sidebar {...props}>\n      <SidebarHeader className=\"aui-sidebar-header mb-2 border-b\">\n        <div className=\"aui-sidebar-header-content flex items-center justify-between\">\n          <SidebarMenu>\n            <SidebarMenuItem>\n              <SidebarMenuButton size=\"lg\" asChild>\n                <Link\n                  href=\"https://assistant-ui.com\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  <div className=\"aui-sidebar-header-icon-wrapper flex aspect-square size-8 items-center justify-center rounded-lg bg-sidebar-primary text-sidebar-primary-foreground\">\n                    <MessagesSquare className=\"aui-sidebar-header-icon size-4\" />\n                  </div>\n                  <div className=\"aui-sidebar-header-heading mr-6 flex flex-col gap-0.5 leading-none\">\n                    <span className=\"aui-sidebar-header-title font-semibold\">\n                      assistant-ui\n                    </span>\n                  </div>\n                </Link>\n              </SidebarMenuButton>\n            </SidebarMenuItem>\n          </SidebarMenu>\n        </div>\n      </SidebarHeader>\n      <SidebarContent className=\"aui-sidebar-content px-2\">\n        <ThreadList />\n      </SidebarContent>\n      <SidebarRail />\n      <SidebarFooter className=\"aui-sidebar-footer border-t\">\n        <SidebarMenu>\n          <SidebarMenuItem>\n            <SidebarMenuButton size=\"lg\" asChild>\n              <Link\n                href=\"https://github.com/assistant-ui/assistant-ui\"\n                target=\"_blank\"\n              >\n                <div className=\"aui-sidebar-footer-icon-wrapper flex aspect-square size-8 items-center justify-center rounded-lg bg-sidebar-primary text-sidebar-primary-foreground\">\n                  <Github className=\"aui-sidebar-footer-icon size-4\" />\n                </div>\n                <div className=\"aui-sidebar-footer-heading flex flex-col gap-0.5 leading-none\">\n                  <span className=\"aui-sidebar-footer-title font-semibold\">\n                    GitHub\n                  </span>\n                  <span>View Source</span>\n                </div>\n              </Link>\n            </SidebarMenuButton>\n          </SidebarMenuItem>\n        </SidebarMenu>\n      </SidebarFooter>\n    </Sidebar>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;AACA;AAUA;;;;;;AAEO,SAAS,kBAAkB,EAChC,GAAG,OACkC;IACrC,qBACE,ubAAC,oKAAO;QAAE,GAAG,KAAK;;0BAChB,ubAAC,0KAAa;gBAAC,WAAU;0BACvB,cAAA,ubAAC;oBAAI,WAAU;8BACb,cAAA,ubAAC,wKAAW;kCACV,cAAA,ubAAC,4KAAe;sCACd,cAAA,ubAAC,8KAAiB;gCAAC,MAAK;gCAAK,OAAO;0CAClC,cAAA,ubAAC,gXAAI;oCACH,MAAK;oCACL,QAAO;oCACP,KAAI;;sDAEJ,ubAAC;4CAAI,WAAU;sDACb,cAAA,ubAAC,gUAAc;gDAAC,WAAU;;;;;;;;;;;sDAE5B,ubAAC;4CAAI,WAAU;sDACb,cAAA,ubAAC;gDAAK,WAAU;0DAAyC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAUvE,ubAAC,2KAAc;gBAAC,WAAU;0BACxB,cAAA,ubAAC,2LAAU;;;;;;;;;;0BAEb,ubAAC,wKAAW;;;;;0BACZ,ubAAC,0KAAa;gBAAC,WAAU;0BACvB,cAAA,ubAAC,wKAAW;8BACV,cAAA,ubAAC,4KAAe;kCACd,cAAA,ubAAC,8KAAiB;4BAAC,MAAK;4BAAK,OAAO;sCAClC,cAAA,ubAAC,gXAAI;gCACH,MAAK;gCACL,QAAO;;kDAEP,ubAAC;wCAAI,WAAU;kDACb,cAAA,ubAAC,oSAAM;4CAAC,WAAU;;;;;;;;;;;kDAEpB,ubAAC;wCAAI,WAAU;;0DACb,ubAAC;gDAAK,WAAU;0DAAyC;;;;;;0DAGzD,ubAAC;0DAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASxB"}},
    {"offset": {"line": 11956, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/components/ui/breadcrumb.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nfunction Breadcrumb({ ...props }: React.ComponentProps<\"nav\">) {\n  return <nav aria-label=\"breadcrumb\" data-slot=\"breadcrumb\" {...props} />;\n}\n\nfunction BreadcrumbList({ className, ...props }: React.ComponentProps<\"ol\">) {\n  return (\n    <ol\n      data-slot=\"breadcrumb-list\"\n      className={cn(\n        \"flex flex-wrap items-center gap-1.5 break-words text-muted-foreground text-sm sm:gap-2.5\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction BreadcrumbItem({ className, ...props }: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"breadcrumb-item\"\n      className={cn(\"inline-flex items-center gap-1.5\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction BreadcrumbLink({\n  asChild,\n  className,\n  ...props\n}: React.ComponentProps<\"a\"> & {\n  asChild?: boolean;\n}) {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      data-slot=\"breadcrumb-link\"\n      className={cn(\"transition-colors hover:text-foreground\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction BreadcrumbPage({ className, ...props }: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"breadcrumb-page\"\n      role=\"link\"\n      aria-disabled=\"true\"\n      aria-current=\"page\"\n      className={cn(\"font-normal text-foreground\", className)}\n      {...props}\n    />\n  );\n}\n\nfunction BreadcrumbSeparator({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) {\n  return (\n    <li\n      data-slot=\"breadcrumb-separator\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn(\"[&>svg]:size-3.5\", className)}\n      {...props}\n    >\n      {children ?? <ChevronRight />}\n    </li>\n  );\n}\n\nfunction BreadcrumbEllipsis({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) {\n  return (\n    <span\n      data-slot=\"breadcrumb-ellipsis\"\n      role=\"presentation\"\n      aria-hidden=\"true\"\n      className={cn(\"flex size-9 items-center justify-center\", className)}\n      {...props}\n    >\n      <MoreHorizontal className=\"size-4\" />\n      <span className=\"sr-only\">More</span>\n    </span>\n  );\n}\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AACA;AACA;AAAA;AAEA;;;;;AAEA,SAAS,WAAW,EAAE,GAAG,OAAoC;IAC3D,qBAAO,ubAAC;QAAI,cAAW;QAAa,aAAU;QAAc,GAAG,KAAK;;;;;;AACtE;AAEA,SAAS,eAAe,EAAE,SAAS,EAAE,GAAG,OAAmC;IACzE,qBACE,ubAAC;QACC,aAAU;QACV,WAAW,IAAA,+IAAE,EACX,4FACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EAAE,SAAS,EAAE,GAAG,OAAmC;IACzE,qBACE,ubAAC;QACC,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,oCAAoC;QACjD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EACtB,OAAO,EACP,SAAS,EACT,GAAG,OAGJ;IACC,MAAM,OAAO,UAAU,6SAAI,GAAG;IAE9B,qBACE,ubAAC;QACC,aAAU;QACV,WAAW,IAAA,+IAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,eAAe,EAAE,SAAS,EAAE,GAAG,OAAqC;IAC3E,qBACE,ubAAC;QACC,aAAU;QACV,MAAK;QACL,iBAAc;QACd,gBAAa;QACb,WAAW,IAAA,+IAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,oBAAoB,EAC3B,QAAQ,EACR,SAAS,EACT,GAAG,OACwB;IAC3B,qBACE,ubAAC;QACC,aAAU;QACV,MAAK;QACL,eAAY;QACZ,WAAW,IAAA,+IAAE,EAAC,oBAAoB;QACjC,GAAG,KAAK;kBAER,0BAAY,ubAAC,0TAAY;;;;;;;;;;AAGhC;AAEA,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OAC0B;IAC7B,qBACE,ubAAC;QACC,aAAU;QACV,MAAK;QACL,eAAY;QACZ,WAAW,IAAA,+IAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;0BAET,ubAAC,sTAAc;gBAAC,WAAU;;;;;;0BAC1B,ubAAC;gBAAK,WAAU;0BAAU;;;;;;;;;;;;AAGhC"}},
    {"offset": {"line": 12093, "column": 0}, "map": {"version":3,"sources":["file:///Users/arnaudpfu/nextjs-expo-boilerplate/main_august/ai/apps/nextjs-example/app/assistant.tsx"],"sourcesContent":["\"use client\";\n\nimport { AssistantRuntimeProvider } from \"@creatorem/ai-react\";\nimport {\n  useChatRuntime,\n  AssistantChatTransport,\n} from \"@assistant-ui/react-ai-sdk\";\nimport { Thread } from \"@/components/assistant-ui/thread\";\nimport {\n  SidebarInset,\n  SidebarProvider,\n  SidebarTrigger,\n} from \"@/components/ui/sidebar\";\nimport { ThreadListSidebar } from \"@/components/assistant-ui/threadlist-sidebar\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n  Breadcrumb,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbList,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n} from \"@/components/ui/breadcrumb\";\n\nexport const Assistant = () => {\n  const runtime = useChatRuntime({\n    transport: new AssistantChatTransport({\n      api: \"/api/chat\",\n    }),\n  });\n\n  return (\n    <AssistantRuntimeProvider runtime={runtime}>\n      <SidebarProvider>\n        <div className=\"flex h-dvh w-full pr-0.5\">\n          <ThreadListSidebar />\n          <SidebarInset>\n            <header className=\"flex h-16 shrink-0 items-center gap-2 border-b px-4\">\n              <SidebarTrigger />\n              <Separator orientation=\"vertical\" className=\"mr-2 h-4\" />\n              <Breadcrumb>\n                <BreadcrumbList>\n                  <BreadcrumbItem className=\"hidden md:block\">\n                    <BreadcrumbLink\n                      href=\"https://www.assistant-ui.com/docs/getting-started\"\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                    >\n                      Build Your Own ChatGPT UX\n                    </BreadcrumbLink>\n                  </BreadcrumbItem>\n                  <BreadcrumbSeparator className=\"hidden md:block\" />\n                  <BreadcrumbItem>\n                    <BreadcrumbPage>Starter Template</BreadcrumbPage>\n                  </BreadcrumbItem>\n                </BreadcrumbList>\n              </Breadcrumb>\n            </header>\n            <div className=\"flex-1 overflow-hidden\">\n              <Thread />\n            </div>\n          </SidebarInset>\n        </div>\n      </SidebarProvider>\n    </AssistantRuntimeProvider>\n  );\n};\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAIA;AACA;AAKA;AACA;AACA;AAfA;;;;;;;;;AAwBO,MAAM,YAAY;IACvB,MAAM,UAAU,IAAA,2aAAc,EAAC;QAC7B,WAAW,IAAI,2bAAsB,CAAC;YACpC,KAAK;QACP;IACF;IAEA,qBACE,ubAAC,8MAAwB;QAAC,SAAS;kBACjC,cAAA,ubAAC,4KAAe;sBACd,cAAA,ubAAC;gBAAI,WAAU;;kCACb,ubAAC,yMAAiB;;;;;kCAClB,ubAAC,yKAAY;;0CACX,ubAAC;gCAAO,WAAU;;kDAChB,ubAAC,2KAAc;;;;;kDACf,ubAAC,wKAAS;wCAAC,aAAY;wCAAW,WAAU;;;;;;kDAC5C,ubAAC,0KAAU;kDACT,cAAA,ubAAC,8KAAc;;8DACb,ubAAC,8KAAc;oDAAC,WAAU;8DACxB,cAAA,ubAAC,8KAAc;wDACb,MAAK;wDACL,QAAO;wDACP,KAAI;kEACL;;;;;;;;;;;8DAIH,ubAAC,mLAAmB;oDAAC,WAAU;;;;;;8DAC/B,ubAAC,8KAAc;8DACb,cAAA,ubAAC,8KAAc;kEAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAKxB,ubAAC;gCAAI,WAAU;0CACb,cAAA,ubAAC,+KAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrB"}}]
}